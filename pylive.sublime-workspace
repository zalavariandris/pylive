{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"QGRaphicsLin",
				"QGraphicsLinearLayout"
			],
			[
				"QGraphisLine",
				"QGraphicsLinearLayout"
			],
			[
				"prop",
				"properties"
			],
			[
				"target",
				"target_node"
			],
			[
				"source",
				"source_node"
			],
			[
				"handleE",
				"handleEdgesPropertiesChanged"
			],
			[
				"edgesa",
				"edgesAboutToBeRemoved"
			],
			[
				"handleNo",
				"handleNodesRemoved"
			],
			[
				"nodesR",
				"nodesAboutToBeRemoved"
			],
			[
				"mouse",
				"mousePressEvent"
			],
			[
				"make_uni",
				"make_unique_name"
			],
			[
				"QSize",
				"QSizeF"
			],
			[
				"Gra",
				"GraphView"
			],
			[
				"grap",
				"graph_model"
			],
			[
				"size",
				"sizeHint"
			],
			[
				"Graph",
				"GraphView"
			],
			[
				"rea",
				"read_text"
			],
			[
				"graphmod",
				"graphmodel"
			],
			[
				"graph",
				"graphmodel"
			],
			[
				"add",
				"addMenu"
			],
			[
				"map",
				"mapToScene"
			],
			[
				"mapF",
				"mapFromGlobal"
			],
			[
				"crea",
				"createStandardContextMenu"
			],
			[
				"QgraphicsA",
				"QGraphicsArrowItem"
			],
			[
				"Abstra",
				"AbstractGraphDelegate"
			],
			[
				"color",
				"ColorRole"
			],
			[
				"setP",
				"setPen"
			],
			[
				"QGra",
				"QGraphicsLayout"
			],
			[
				"QGraphics",
				"QGraphicsScene"
			],
			[
				"item",
				"_item_to_widget_map"
			],
			[
				"Grap",
				"GraphicsItemFlag"
			],
			[
				"base",
				"AlternateBase"
			],
			[
				"Abstr",
				"AbstractGraphDelegate"
			],
			[
				"ty",
				"typing"
			],
			[
				"QPainter",
				"QPainterPath"
			],
			[
				"set",
				"setColor"
			],
			[
				"len",
				"length"
			],
			[
				"mapFrom",
				"mapFromItem"
			],
			[
				"_boun",
				"_boundingrect"
			],
			[
				"QRec",
				"QRectF"
			],
			[
				"rect",
				"rect_shape"
			],
			[
				"update",
				"updatePosition"
			],
			[
				"addP",
				"addPolygon"
			],
			[
				"poly",
				"polygon"
			],
			[
				"QPol",
				"QPolygonF"
			],
			[
				"tar",
				"target_offset"
			],
			[
				"str",
				"createStroke"
			],
			[
				"shape_",
				"shape_center"
			],
			[
				"Itemsend",
				"ItemSendsScenePositionChanges"
			],
			[
				"fla",
				"GraphicsItemFlag"
			],
			[
				"scenePos",
				"scenePositionChanged"
			],
			[
				"sceneP",
				"scenePositionChanged"
			],
			[
				"isin",
				"isinstance"
			],
			[
				"setS",
				"setSource"
			],
			[
				"Qpoint",
				"QPointF"
			],
			[
				"QPainterP",
				"QPainterPathStroker"
			],
			[
				"sc",
				"scene"
			],
			[
				"Qpainter",
				"QPainterPath"
			],
			[
				"QPoint",
				"QPointF"
			],
			[
				"adjus",
				"adjusted"
			],
			[
				"Graphis",
				"GraphicsItemFlag"
			],
			[
				"group",
				"group_widget"
			],
			[
				"send",
				"ItemSendsScenePositionChanges"
			],
			[
				"Grpahi",
				"GraphicsItemFlag"
			],
			[
				"flag",
				"GraphicsItemFlag"
			],
			[
				"QGrap",
				"QGraphicsItem"
			],
			[
				"handleEdges",
				"handleEdgesAdded"
			],
			[
				"graphmodel",
				"graphmodel_databased"
			],
			[
				"pa",
				"parent"
			],
			[
				"line",
				"lineCount"
			],
			[
				"inser",
				"insertBar"
			],
			[
				"cell",
				"cell_at_line"
			],
			[
				"Code",
				"CodeHasDocstring"
			],
			[
				"assertNo",
				"assertNotEqual"
			],
			[
				"Script",
				"ScriptEdit"
			],
			[
				"end",
				"end_block"
			],
			[
				"begin",
				"begin_rect"
			],
			[
				"find",
				"findBlockByLineNumber"
			],
			[
				"Modi",
				"KeyboardModifier"
			],
			[
				"QKey",
				"QKeyEvent"
			],
			[
				"curr",
				"currentBlockState"
			],
			[
				"current",
				"currentBlockState"
			],
			[
				"curren",
				"currentBlockState"
			],
			[
				"list",
				"listwidget"
			],
			[
				"setCi",
				"setCurrentIndex"
			],
			[
				"file",
				"fileChanged"
			],
			[
				"QMenu",
				"QMenuBar"
			],
			[
				"parent",
				"parentWidget"
			],
			[
				"QMeu",
				"QMenuBar"
			],
			[
				"QPlainTe",
				"QPlainTextDocumentLayout"
			],
			[
				"LiveA",
				"QtLiveApp"
			],
			[
				"NotIm",
				"NotImplementedError"
			],
			[
				"LiveAppW",
				"LiveAppWithExec"
			],
			[
				"Qt",
				"QtGraphEditor"
			],
			[
				"text",
				"textedit"
			],
			[
				"inter",
				"intersects"
			],
			[
				"con",
				"contentsRect"
			],
			[
				"Upda",
				"UpdateRequest"
			],
			[
				"lineNumberAre",
				"lineNumberAreaWidth"
			],
			[
				"gc",
				"get_context"
			],
			[
				"per",
				"perf_counter_ns"
			],
			[
				"pain",
				"painting"
			],
			[
				"setSwap",
				"setSwapBehavior"
			],
			[
				"setSw",
				"setSwapInterval"
			],
			[
				"call",
				"callback"
			],
			[
				"glEnableVerte",
				"glEnableVertexAttribArray"
			],
			[
				"QOpenGLShader",
				"QOpenGLShaderProgram"
			],
			[
				"GL",
				"GLCanvas"
			],
			[
				"reques",
				"requestUpdate"
			],
			[
				"initi",
				"initializeOpenGLFunctions"
			],
			[
				"reque",
				"requestedFormat"
			],
			[
				"request",
				"requestUpdate"
			],
			[
				"resize",
				"resizeGL"
			],
			[
				"QTo",
				"QtOpenGL"
			],
			[
				"Qop",
				"QtOpenGLWidgets"
			],
			[
				"open",
				"opengl_widget"
			],
			[
				"paintE",
				"paintEvent"
			],
			[
				"GL_DEPTH_BU",
				"GL_DEPTH_BUFFER_BIT"
			],
			[
				"Qope",
				"QOpenGLWidget"
			],
			[
				"frame",
				"defaultFramebufferObject"
			],
			[
				"validate",
				"validate_uniforms"
			],
			[
				"ui",
				"uint8"
			],
			[
				"u",
				"uint"
			],
			[
				"Res",
				"result"
			],
			[
				"in",
				"input"
			],
			[
				"ex",
				"exceptionThrown"
			],
			[
				"lint",
				"lintException"
			],
			[
				"proje",
				"projectionMatrix"
			]
		]
	},
	"buffers":
	[
		{
			"file": "pylive/examples/python_function_graph/graph_view.py",
			"settings":
			{
				"buffer_size": 10575,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					764,
					1,
					"left_delete",
					null,
					"AQAAALwCAAAAAAAAvAIAAAAAAADfAAAAICAgICAgICBzZWxmLnNldEZsYWcoUUdyYXBoaWNzSXRlbS5HcmFwaGljc0l0ZW1GbGFnLkl0ZW1Jc01vdmFibGUsIFRydWUpCiAgICAgICAgc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNTZWxlY3RhYmxlLCBUcnVlKQogICAgICAgIHNlbGYuc2V0RmxhZyhRR3JhcGhpY3NJdGVtLkdyYXBoaWNzSXRlbUZsYWcuSXRlbUlzRm9jdXNhYmxlLCBUcnVlKQ",
					"AQAAAAAAAAABAAAAmwMAAAAAAAC8AgAAAAAAAAAAAAAAAPC/"
				],
				[
					765,
					1,
					"right_delete",
					null,
					"AQAAALwCAAAAAAAAvAIAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAvAIAAAAAAAC8AgAAAAAAAAAAAAAAAPC/"
				],
				[
					769,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAANywAAAAAAAA3LAAAZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKIyBmcm9tIHN0YW5kYXJkX2dyYXBoX2RlbGVnYXRlIGltcG9ydCBTdGFuZGFyZEdyYXBoRGVsZWdhdGUKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9pZCwgbWFrZV91bmlxdWVfbmFtZQoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbAoKZnJvbSBweWxpdmUuUXRHcmFwaEVkaXRvci5OZXRyb3drWEdyYXBoRWRpdG9yLmxpbmtfZ3JhcGhpY3NfaXRlbXMgaW1wb3J0ICgKICAgIG1ha2VMaW5lQmV0d2VlblNoYXBlcywKKQpmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IucWdyYXBoaWNzX2Fycm93X2l0ZW0gaW1wb3J0ICgKICAgIFFHcmFwaGljc0Fycm93SXRlbSwKKQoKCmNsYXNzIFBpbldpZGdldChRR3JhcGhpY3NXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaTogSGFzaGFibGUsCiAgICAgICAgbm9kZTogT3B0aW9uYWxbIk5vZGVXaWRnZXQiXSwKICAgICAgICB2aWV3OiAiR3JhcGhWaWV3IiwKICAgICkgLT4gTm9uZToKICAgICAgICBRR3JhcGhpY3NXaWRnZXQuX19pbml0X18oc2VsZiwgcGFyZW50PW5vZGUpCgogICAgICAgIHNlbGYuX25vZGUgPSBub2RlCiAgICAgICAgc2VsZi5fdmlldyA9IHZpZXcKICAgICAgICBzZWxmLl9pID0gaQoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIHdoaWNoOiBRdC5TaXplSGludCwgY29uc3RyYWludDogUVNpemVGIHwgUVNpemUgPSBRU2l6ZUYoKQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcmV0dXJuIFFTaXplRigyMCwgMjApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsIHBhaW50ZXI6IFFQYWludGVyLCBvcHRpb246IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSwgd2lkZ2V0PU5vbmUKICAgICk6CiAgICAgICAgciA9IDUKICAgICAgICBwYWludGVyLmRyYXdFbGxpcHNlKDAsIDAsIHIsIHIpCgogICAgZGVmIG1vdXNlUHJlc3NFdmVudChzZWxmLCBldmVudDogUUdyYXBoaWNzU2NlbmVNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgIHNlbGYuX3ZpZXcuaW5pdGlhdGVDb25uZWN0aW9uKHNlbGYpCgoKY2xhc3MgTm9kZVdpZGdldChRR3JhcGhpY3NXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICAgICAgdmlldzogIkdyYXBoVmlldyIsCiAgICAgICAgcGFyZW50OiBPcHRpb25hbFtRR3JhcGhpY3NJdGVtXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgUUdyYXBoaWNzV2lkZ2V0Ll9faW5pdF9fKHNlbGYsIHBhcmVudD1wYXJlbnQpCiAgICAgICAgc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNNb3ZhYmxlLCBUcnVlKQogICAgICAgIHNlbGYuc2V0RmxhZyhRR3JhcGhpY3NJdGVtLkdyYXBoaWNzSXRlbUZsYWcuSXRlbUlzU2VsZWN0YWJsZSwgVHJ1ZSkKICAgICAgICBzZWxmLnNldEZsYWcoUUdyYXBoaWNzSXRlbS5HcmFwaGljc0l0ZW1GbGFnLkl0ZW1Jc0ZvY3VzYWJsZSwgVHJ1ZSkKCiAgICAgICAgc2VsZi5fdmlldyA9IHZpZXcKICAgICAgICBzZWxmLl9uID0gbgoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIHdoaWNoOiBRdC5TaXplSGludCwgY29uc3RyYWludDogUVNpemVGIHwgUVNpemUgPSBRU2l6ZUYoKQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgb3B0aW9uID0gUVN0eWxlT3B0aW9uR3JhcGhpY3NJdGVtKCkKICAgICAgICBvcHRpb24uZm9udCA9IHNlbGYuZm9udCgpCiAgICAgICAgcmV0dXJuIHNlbGYuX3ZpZXcuX2RlbGVnYXRlLm5vZGVTaXplSGludCgKICAgICAgICAgICAgb3B0aW9uLCBzZWxmLl92aWV3Ll9ncmFwaG1vZGVsLCBzZWxmLl9uCiAgICAgICAgKQoKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLCBwYWludGVyOiBRUGFpbnRlciwgb3B0aW9uOiBRU3R5bGVPcHRpb25HcmFwaGljc0l0ZW0sIHdpZGdldD1Ob25lCiAgICApOgogICAgICAgIHNlbGYuX3ZpZXcuX2RlbGVnYXRlLnBhaW50Tm9kZSgKICAgICAgICAgICAgcGFpbnRlciwgb3B0aW9uLCBzZWxmLl92aWV3Ll9ncmFwaG1vZGVsLCBzZWxmLl9uCiAgICAgICAgKQoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICBwcmludCgicHJlc3MiKQogICAgICAgIHJldHVybiBzdXBlcigpLm1vdXNlUHJlc3NFdmVudChldmVudCkKCgpjbGFzcyBHcmFwaERlbGVnYXRlKFFPYmplY3QpOgogICAgZGVmIG5vZGVGYWN0b3J5KHNlbGYsIHZpZXcsIGdyYXBoLCBuKSAtPiBRR3JhcGhpY3NJdGVtOgogICAgICAgIHJldHVybiBOb2RlV2lkZ2V0KHZpZXc9dmlldywgbj1uKQoKICAgIGRlZiBlZGdlRmFjdG9yeSgKICAgICAgICBzZWxmLCB2aWV3LCBncmFwaCwgc291cmNlX25vZGUsIHRhcmdldF9ub2RlCiAgICApIC0+IFFHcmFwaGljc0l0ZW06CiAgICAgICAgYXJyb3cgPSBRR3JhcGhpY3NBcnJvd0l0ZW0oKQogICAgICAgIHBlbiA9IFFQZW4odmlldy5wYWxldHRlKCkuY29sb3IoUVBhbGV0dGUuQ29sb3JSb2xlLlRleHQpLCAxLjUpCiAgICAgICAgYXJyb3cuc2V0UGVuKHBlbikKCiAgICAgICAgZGVmIHVwZGF0ZV9saW5rKCk6CiAgICAgICAgICAgIGFycm93LnNldExpbmUoCiAgICAgICAgICAgICAgICBtYWtlTGluZUJldHdlZW5TaGFwZXMoCiAgICAgICAgICAgICAgICAgICAgc291cmNlX25vZGUuZ2VvbWV0cnkoKSwgdGFyZ2V0X25vZGUuZ2VvbWV0cnkoKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCgogICAgICAgIHVwZGF0ZV9saW5rKCkKCiAgICAgICAgc291cmNlX25vZGUuZ2VvbWV0cnlDaGFuZ2VkLmNvbm5lY3QodXBkYXRlX2xpbmspCiAgICAgICAgdGFyZ2V0X25vZGUuZ2VvbWV0cnlDaGFuZ2VkLmNvbm5lY3QodXBkYXRlX2xpbmspCiAgICAgICAgcmV0dXJuIGFycm93CgogICAgZGVmIG5vZGVTaXplSGludCgKICAgICAgICBzZWxmLCBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLCBncmFwaDogR3JhcGhNb2RlbCwgbjogSGFzaGFibGUKICAgICkgLT4gUVNpemVGOgogICAgICAgIHBhZGRpbmcgPSA0CiAgICAgICAgZm0gPSBRRm9udE1ldHJpY3Mob3B0aW9uLmZvbnQpCiAgICAgICAgdGV4dF93aWR0aCA9IGZtLmhvcml6b250YWxBZHZhbmNlKGYie259IikKICAgICAgICByZXR1cm4gUVNpemVGKAogICAgICAgICAgICBwYWRkaW5nICsgdGV4dF93aWR0aCArIHBhZGRpbmcsIHBhZGRpbmcgKyBmbS5hc2NlbnQoKSArIHBhZGRpbmcKICAgICAgICApCgogICAgZGVmIHBhaW50Tm9kZSgKICAgICAgICBzZWxmLAogICAgICAgIHBhaW50ZXI6IFFQYWludGVyLAogICAgICAgIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sCiAgICAgICAgZ3JhcGgsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICApOgogICAgICAgIHBhZGRpbmcgPSA0CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCiAgICAgICAgIyBkcmF3IG5vZGUgdGV4dAogICAgICAgIGZtID0gb3B0aW9uLmZvbnRNZXRyaWNzCiAgICAgICAgeSA9IG9wdGlvbi5yZWN0LmhlaWdodCgpIC0gcGFkZGluZwogICAgICAgIHBhaW50ZXIuZHJhd1RleHQocGFkZGluZywgeSwgZiJ7bn0iKQogICAgICAgICMgcGFpbnRlci5kcmF3TGluZSgwLCB5LCBvcHRpb24ucmVjdC53aWR0aCgpLCB5KSAjIGRyYXcgYmFzZWxpbmUKCgpjbGFzcyBHcmFwaFZpZXcoUUdyYXBoaWNzVmlldyk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50PU5vbmUpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBzZWxmLnNldFJlbmRlckhpbnRzKFFQYWludGVyLkFudGlhbGlhc2luZykKICAgICAgICBzZWxmLnNldERyYWdNb2RlKFFHcmFwaGljc1ZpZXcuRHJhZ01vZGUuUnViYmVyQmFuZERyYWcpCiAgICAgICAgc2NlbmUgPSBRR3JhcGhpY3NTY2VuZSgpCiAgICAgICAgc2NlbmUuc2V0U2NlbmVSZWN0KFFSZWN0KC05OTk5IC8vIDIsIC05OTk5IC8vIDIsIDk5OTksIDk5OTkpKQogICAgICAgIHNlbGYuc2V0U2NlbmUoc2NlbmUpCiAgICAgICAgIyBzY2VuZS5pbnN0YWxsRXZlbnRGaWx0ZXIoc2VsZikKICAgICAgICBzZWxmLl9kZWxlZ2F0ZSA9IEdyYXBoRGVsZWdhdGUoKQogICAgICAgIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcCA9IGRpY3QoKQogICAgICAgIHNlbGYuX3dpZGdldF90b19pdGVtX21hcCA9IGRpY3QoKQogICAgICAgIHNlbGYuX2dyYXBobW9kZWw6IEdyYXBoTW9kZWwgfCBOb25lID0gTm9uZQoKICAgIGRlZiBub2RlV2lkZ2V0KHNlbGYsIG46IEhhc2hhYmxlKToKICAgICAgICByZXR1cm4gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCgogICAgZGVmIG1vZGVsKHNlbGYpIC0+IEdyYXBoTW9kZWwgfCBOb25lOgogICAgICAgIHJldHVybiBzZWxmLl9ncmFwaG1vZGVsCgogICAgZGVmIHNldE1vZGVsKHNlbGYsIGdyYXBobW9kZWw6IEdyYXBoTW9kZWwpOgogICAgICAgIHNlbGYuX2dyYXBobW9kZWwgPSBncmFwaG1vZGVsCgogICAgICAgIHNlbGYuX2dyYXBobW9kZWwubm9kZXNBZGRlZC5jb25uZWN0KHNlbGYuaGFuZGxlTm9kZXNBZGRlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzQWJvdXRUb0JlUmVtb3ZlZC5jb25uZWN0KHNlbGYuaGFuZGxlTm9kZXNSZW1vdmVkKQogICAgICAgIHNlbGYuX2dyYXBobW9kZWwubm9kZXNQcm9wZXJ0aWVzQ2hhbmdlZC5jb25uZWN0KAogICAgICAgICAgICBzZWxmLmhhbmRsZU5vZGVzUHJvcGVydGllc0NoYW5nZWQKICAgICAgICApCgogICAgICAgIHNlbGYuX2dyYXBobW9kZWwuZWRnZXNBZGRlZC5jb25uZWN0KHNlbGYuaGFuZGxlRWRnZXNBZGRlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmVkZ2VzQWJvdXRUb0JlUmVtb3ZlZC5jb25uZWN0KHNlbGYuaGFuZGxlRWRnZXNSZW1vdmVkKQogICAgICAgIHNlbGYuX2dyYXBobW9kZWwuZWRnZXNQcm9wZXJ0aWVzQ2hhbmdlZC5jb25uZWN0KAogICAgICAgICAgICBzZWxmLmhhbmRsZUVkZ2VzUHJvcGVydGllc0NoYW5nZWQKICAgICAgICApCgogICAgZGVmIGhhbmRsZU5vZGVzQWRkZWQoc2VsZiwgbm9kZXM6IExpc3RbSGFzaGFibGVdKToKICAgICAgICBmb3IgbiBpbiBub2RlczoKICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5fZGVsZWdhdGUubm9kZUZhY3RvcnkoCiAgICAgICAgICAgICAgICB2aWV3PXNlbGYsIGdyYXBoPXNlbGYuX2dyYXBobW9kZWwsIG49bgogICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0gPSB3aWRnZXQKICAgICAgICAgICAgc2VsZi5fd2lkZ2V0X3RvX2l0ZW1fbWFwW3dpZGdldF0gPSBuCiAgICAgICAgICAgIHNlbGYuc2NlbmUoKS5hZGRJdGVtKHdpZGdldCkKCiAgICBkZWYgaGFuZGxlTm9kZXNSZW1vdmVkKHNlbGYsIG5vZGVzOiBMaXN0W0hhc2hhYmxlXSk6CiAgICAgICAgZm9yIG4gaW4gbm9kZXM6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQogICAgICAgICAgICBzZWxmLnNjZW5lKCkucmVtb3ZlSXRlbSh3aWRnZXQpCiAgICAgICAgICAgIGRlbCBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KICAgICAgICAgICAgZGVsIHNlbGYuX3dpZGdldF90b19pdGVtX21hcFt3aWRnZXRdCgogICAgZGVmIGhhbmRsZU5vZGVzUHJvcGVydGllc0NoYW5nZWQoc2VsZiwgbm9kZXNQcm9wZXJpZXMpOgogICAgICAgIGZvciBuLCBwcm9wZXJ0aWVzIGluIG5vZGVzUHJvcGVyaWVzLml0ZW1zKCk6CiAgICAgICAgICAgIG5vZGVfd2lkZ2V0ID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCgogICAgICAgICAgICBmb3IgcHJvcCwgdmFsdWUgaW4gcHJvcGVydGllcy5pdGVtcygpOgogICAgICAgICAgICAgICAgbWF0Y2ggcHJvcDoKICAgICAgICAgICAgICAgICAgICBjYXNlICJsYWJlbCI6CiAgICAgICAgICAgICAgICAgICAgICAgIC4uLgogICAgICAgICAgICAgICAgICAgIGNhc2UgImlubGV0cyI6CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpbmxldCBpbiB2YWx1ZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpbiA9IFBpbldpZGdldChpbmxldCwgbm9kZV93aWRnZXQsIHNlbGYpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQgPSBjYXN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFFHcmFwaGljc0xpbmVhckxheW91dCwgbm9kZV93aWRnZXQubGF5b3V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dC5hZGRJdGVtKHBpbikKCiAgICAgICAgICAgICAgICAgICAgY2FzZSAib3V0bGV0cyI6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KHByb3AsIHZhbHVlKQoKICAgIGRlZiBoYW5kbGVFZGdlc0FkZGVkKHNlbGYsIGVkZ2VzOiBMaXN0W1R1cGxlW0hhc2hhYmxlLCBIYXNoYWJsZV1dKToKICAgICAgICBmb3IgdSwgdiBpbiBlZGdlczoKICAgICAgICAgICAgc291cmNlX25vZGUgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbdV0KICAgICAgICAgICAgdGFyZ2V0X25vZGUgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbdl0KCiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2RlbGVnYXRlLmVkZ2VGYWN0b3J5KAogICAgICAgICAgICAgICAgc2VsZiwgc2VsZi5fZ3JhcGhtb2RlbCwgc291cmNlX25vZGUsIHRhcmdldF9ub2RlCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFsodSwgdildID0gd2lkZ2V0CiAgICAgICAgICAgIHNlbGYuX3dpZGdldF90b19pdGVtX21hcFt3aWRnZXRdID0gKHUsIHYpCiAgICAgICAgICAgIHNlbGYuc2NlbmUoKS5hZGRJdGVtKHdpZGdldCkKCiAgICBkZWYgaGFuZGxlRWRnZXNSZW1vdmVkKHNlbGYsIGVkZ2VzOiBMaXN0W1R1cGxlW0hhc2hhYmxlLCBIYXNoYWJsZV1dKToKICAgICAgICBmb3IgdSwgdiBpbiBlZGdlczoKICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwWyh1LCB2KV0KICAgICAgICAgICAgd2lkZ2V0LnNldFNvdXJjZShOb25lKQogICAgICAgICAgICB3aWRnZXQuc2V0VGFyZ2V0KE5vbmUpCiAgICAgICAgICAgIHNlbGYuc2NlbmUoKS5yZW1vdmVJdGVtKHdpZGdldCkKICAgICAgICAgICAgZGVsIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFsodSwgdildCiAgICAgICAgICAgIGRlbCBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbd2lkZ2V0XQoKICAgIGRlZiBoYW5kbGVFZGdlc1Byb3BlcnRpZXNDaGFuZ2VkKHNlbGYsIGVkZ2VzUHJvcGVydGllcyk6CiAgICAgICAgZm9yIGVkZ2UsIHByb3BlcnRpZXMgaW4gZWRnZXNQcm9wZXJ0aWVzLml0ZW1zKCk6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X2FtcFtlZGdlXQogICAgICAgICAgICAjIHNlbGYuZGVsZWdhdGUoKS5zZXRFZGdlV2lkZ2V0UHJvcHMoc2VsZiwgZWRnZSwgd2lkZ2V0LCAqKnByb3BlcnRpZXMpCgogICAgZGVmIGluaXRpYXRlQ29ubmVjdGlvbihzZWxmLCBzb3VyY2U6IFFHcmFwaGljc0l0ZW0pOgogICAgICAgIHByaW50KCJpbml0aWF0ZUNvbm5lY3Rpb24iKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBmcm9tIGdyYXBoX21vZGVsIGltcG9ydCBHcmFwaE1vZGVsCgogICAgY2xhc3MgRXhhbXBsZUdyYXBoVmlldyhHcmFwaFZpZXcpOgogICAgICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgICAgICBpZiBub3Qgc2VsZi5fZ3JhcGhtb2RlbDoKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICBpdGVtQXRNb3VzZSA9IHNlbGYuaXRlbUF0KGV2ZW50LnBvc2l0aW9uKCkudG9Qb2ludCgpKQogICAgICAgICAgICBpZiBpdGVtQXRNb3VzZToKICAgICAgICAgICAgICAgIHJldHVybiBzdXBlcigpLm1vdXNlRG91YmxlQ2xpY2tFdmVudChldmVudCkKCiAgICAgICAgICAgIGNsaWNrcG9zID0gc2VsZi5tYXBUb1NjZW5lKGV2ZW50LnBvc2l0aW9uKCkudG9Qb2ludCgpKQoKICAgICAgICAgICAgIyBuID0gbWFrZV91bmlxdWVfaWQobGVuZ3RoPTEyKQogICAgICAgICAgICBuID0gbWFrZV91bmlxdWVfbmFtZSgiTk9ERSIsIFtuIGZvciBuIGluIHNlbGYuX2dyYXBobW9kZWwubm9kZXMoKV0pCiAgICAgICAgICAgIHNlbGYuX2dyYXBobW9kZWwuYWRkTm9kZSgKICAgICAgICAgICAgICAgIG4sIGxhYmVsPSJuZXcgbm9kZSIsIGlubGV0cz1bImluIl0sIG91dGxldHM9WyJvdXQiXQogICAgICAgICAgICApCiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQogICAgICAgICAgICB3aWRnZXQuc2V0UG9zKGNsaWNrcG9zKQoKICAgICAgICBkZWYgY3JlYXRlU3RhbmRhcmRDb250ZXh0TWVudShzZWxmLCBzY2VuZVBvczogUVBvaW50RiB8IE5vbmUgPSBOb25lKToKICAgICAgICAgICAgIiIiVGhpcyBmdW5jdGlvbiBjcmVhdGVzIHRoZSBzdGFuZGFyZCBjb250ZXh0IG1lbnUgd2hpY2ggaXMgc2hvd24gd2hlbgogICAgICAgICAgICB0aGUgdXNlciBjbGlja3Mgb24gdGhlIHRleHQgZWRpdCB3aXRoIHRoZSByaWdodCBtb3VzZSBidXR0b24uIEl0IGlzCiAgICAgICAgICAgIGNhbGxlZCBmcm9tIHRoZSBkZWZhdWx0IGNvbnRleHRNZW51RXZlbnQoKSBoYW5kbGVyIGFuZCBpdCB0YWtlcyB0aGUKICAgICAgICAgICAgcG9zaXRpb24gaW4gZG9jdW1lbnQgY29vcmRpbmF0ZXMgd2hlcmUgdGhlIG1vdXNlIGNsaWNrIHdhcy4gVGhpcyBjYW4KICAgICAgICAgICAgZW5hYmxlIGFjdGlvbnMgdGhhdCBhcmUgc2Vuc2l0aXZlIHRvIHRoZSBwb3NpdGlvbiB3aGVyZSB0aGUgdXNlcgogICAgICAgICAgICBjbGlja2VkLiBUaGUgcG9wdXAgbWVudSdzIG93bmVyc2hpcCBpcyB0cmFuc2ZlcnJlZCB0byB0aGUgY2FsbGVyLiIiIgoKICAgICAgICAgICAgZGVmIGNyZWF0ZV9ub2RlKHNjZW5lUG9zOiBRUG9pbnRGIHwgTm9uZSk6CiAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZi5fZ3JhcGhtb2RlbDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIG4gPSBtYWtlX3VuaXF1ZV9uYW1lKAogICAgICAgICAgICAgICAgICAgICJOT0RFIiwgW24gZm9yIG4gaW4gc2VsZi5fZ3JhcGhtb2RlbC5ub2RlcygpXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5hZGROb2RlKAogICAgICAgICAgICAgICAgICAgIG4sIGxhYmVsPSJuZXcgbm9kZSIsIGlubGV0cz1bImluIl0sIG91dGxldHM9WyJvdXQiXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCiAgICAgICAgICAgICAgICB3aWRnZXQuc2V0UG9zKHNjZW5lUG9zIG9yIFFQb2ludEYoMCwgMCkpCgogICAgICAgICAgICBkZWYgY29ubmVjdF9zZWxlY3RlZF9ub2RlcygpOgogICAgICAgICAgICAgICAgaWYgbm90IHNlbGYuX2dyYXBobW9kZWw6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBbaXRlbSBmb3IgaXRlbSBpbiBzZWxmLnNjZW5lKCkuc2VsZWN0ZWRJdGVtcygpXQogICAgICAgICAgICAgICAgaWYgbGVuKHNlbGVjdGlvbikgPCAyOgogICAgICAgICAgICAgICAgICAgIHJldHVybgoKICAgICAgICAgICAgICAgIGZvciBpdGVtIGluIHNlbGVjdGlvblsxOl06CiAgICAgICAgICAgICAgICAgICAgdSA9IHNlbGYuX3dpZGdldF90b19pdGVtX21hcFtzZWxlY3Rpb25bMF1dCiAgICAgICAgICAgICAgICAgICAgdiA9IHNlbGYuX3dpZGdldF90b19pdGVtX21hcFtpdGVtXQogICAgICAgICAgICAgICAgICAgIHNlbGYuX2dyYXBobW9kZWwuYWRkRWRnZSh1LCB2KQoKICAgICAgICAgICAgbWVudSA9IFFNZW51KHNlbGYpCgogICAgICAgICAgICBkZWYgbnVkZ2Vfc2VsZWN0ZWRfbm9kZXMoKToKICAgICAgICAgICAgICAgIGZvciBpdGVtLCB3aWRnZXQgaW4gc2VsZi5faXRlbV90b193aWRnZXRfbWFwLml0ZW1zKCk6CiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0Lm1vdmVCeSgxMCwgMTApCgogICAgICAgICAgICBudWRnZV9hY3Rpb24gPSBRQWN0aW9uKHNlbGYpCiAgICAgICAgICAgIG51ZGdlX2FjdGlvbi5zZXRUZXh0KCJudWRnZSBub2RlcyIpCiAgICAgICAgICAgIG51ZGdlX2FjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGE6IG51ZGdlX3NlbGVjdGVkX25vZGVzKCkpCiAgICAgICAgICAgIG1lbnUuYWRkQWN0aW9uKG51ZGdlX2FjdGlvbikKCiAgICAgICAgICAgIGNyZWF0ZV9hY3Rpb24gPSBRQWN0aW9uKHNlbGYpCiAgICAgICAgICAgIGNyZWF0ZV9hY3Rpb24uc2V0VGV4dCgiY3JlYXRlIG5vZGUiKQogICAgICAgICAgICBjcmVhdGVfYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYTogY3JlYXRlX25vZGUoc2NlbmVQb3MpKQogICAgICAgICAgICBtZW51LmFkZEFjdGlvbihjcmVhdGVfYWN0aW9uKQoKICAgICAgICAgICAgY29ubmVjdF9hY3Rpb24gPSBRQWN0aW9uKHNlbGYpCiAgICAgICAgICAgIGNvbm5lY3RfYWN0aW9uLnNldFRleHQoImNvbm5lY3QiKQogICAgICAgICAgICBjb25uZWN0X2FjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGE6IGNvbm5lY3Rfc2VsZWN0ZWRfbm9kZXMoKSkKICAgICAgICAgICAgbWVudS5hZGRBY3Rpb24oY29ubmVjdF9hY3Rpb24pCiAgICAgICAgICAgIHJldHVybiBtZW51CgogICAgICAgIGRlZiBjb250ZXh0TWVudUV2ZW50KHNlbGYsIGV2ZW50OiBRQ29udGV4dE1lbnVFdmVudCk6CiAgICAgICAgICAgIHZpZXdwb3MgPSBzZWxmLm1hcEZyb21HbG9iYWwoZXZlbnQuZ2xvYmFsUG9zKCkpCiAgICAgICAgICAgIHNjZW5lcG9zID0gc2VsZi5tYXBUb1NjZW5lKHZpZXdwb3MpCiAgICAgICAgICAgIG1lbnUgPSBzZWxmLmNyZWF0ZVN0YW5kYXJkQ29udGV4dE1lbnUoc2NlbmVwb3MpCgogICAgICAgICAgICBtZW51LmV4ZWMoZXZlbnQuZ2xvYmFsUG9zKCkpCgogICAgYXBwID0gUUFwcGxpY2F0aW9uKCkKICAgIHZpZXcgPSBFeGFtcGxlR3JhcGhWaWV3KCkKICAgIG1vZGVsID0gR3JhcGhNb2RlbCgpCiAgICB2aWV3LnNldE1vZGVsKG1vZGVsKQogICAgdmlldy5zaG93KCkKICAgIGFwcC5leGVjKCkK",
					"AQAAAAAAAAABAAAAhwIAAAAAAACHAgAAAAAAAAAAAAAAAPC/"
				],
				[
					786,
					1,
					"insert",
					{
						"characters": "widget"
					},
					"BwAAAKwJAAAAAAAArQkAAAAAAAAAAAAArQkAAAAAAACtCQAAAAAAAAYAAAByZXR1cm6tCQAAAAAAAK4JAAAAAAAAAAAAAK4JAAAAAAAArwkAAAAAAAAAAAAArwkAAAAAAACwCQAAAAAAAAAAAACwCQAAAAAAALEJAAAAAAAAAAAAALEJAAAAAAAAsgkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArAkAAAAAAACyCQAAAAAAAAAAAAAAAPC/"
				],
				[
					787,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAALIJAAAAAAAAswkAAAAAAAAAAAAAswkAAAAAAAC0CQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsgkAAAAAAACyCQAAAAAAAAAAAAAAAPC/"
				],
				[
					790,
					1,
					"insert",
					{
						"characters": "\nreturn"
					},
					"CAAAAM8JAAAAAAAA0AkAAAAAAAAAAAAA0AkAAAAAAADYCQAAAAAAAAAAAADYCQAAAAAAANkJAAAAAAAAAAAAANkJAAAAAAAA2gkAAAAAAAAAAAAA2gkAAAAAAADbCQAAAAAAAAAAAADbCQAAAAAAANwJAAAAAAAAAAAAANwJAAAAAAAA3QkAAAAAAAAAAAAA3QkAAAAAAADeCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzwkAAAAAAADPCQAAAAAAAAAAAAAAAPC/"
				],
				[
					791,
					1,
					"insert",
					{
						"characters": " widget"
					},
					"BwAAAN4JAAAAAAAA3wkAAAAAAAAAAAAA3wkAAAAAAADgCQAAAAAAAAAAAADgCQAAAAAAAOEJAAAAAAAAAAAAAOEJAAAAAAAA4gkAAAAAAAAAAAAA4gkAAAAAAADjCQAAAAAAAAAAAADjCQAAAAAAAOQJAAAAAAAAAAAAAOQJAAAAAAAA5QkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3gkAAAAAAADeCQAAAAAAAAAAAAAAAPC/"
				],
				[
					795,
					1,
					"insert",
					{
						"characters": "\nwidget.setL"
					},
					"DQAAAM8JAAAAAAAA0AkAAAAAAAAAAAAA0AkAAAAAAADYCQAAAAAAAAAAAADYCQAAAAAAANkJAAAAAAAAAAAAANkJAAAAAAAA2gkAAAAAAAAAAAAA2gkAAAAAAADbCQAAAAAAAAAAAADbCQAAAAAAANwJAAAAAAAAAAAAANwJAAAAAAAA3QkAAAAAAAAAAAAA3QkAAAAAAADeCQAAAAAAAAAAAADeCQAAAAAAAN8JAAAAAAAAAAAAAN8JAAAAAAAA4AkAAAAAAAAAAAAA4AkAAAAAAADhCQAAAAAAAAAAAADhCQAAAAAAAOIJAAAAAAAAAAAAAOIJAAAAAAAA4wkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzwkAAAAAAADPCQAAAAAAAAAAAAAAAPC/"
				],
				[
					796,
					1,
					"insert_completion",
					{
						"completion": "lsp_select_completion {\"index\":13,\"session_name\":\"LSP-pyright\"}",
						"format": "command",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "setLayout"
					},
					"AgAAAN8JAAAAAAAA3wkAAAAAAAAEAAAAc2V0TN8JAAAAAAAA6AkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA4wkAAAAAAADjCQAAAAAAAAAAAAAAAPC/"
				],
				[
					797,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAOgJAAAAAAAA6gkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6AkAAAAAAADoCQAAAAAAAAAAAAAAAPC/"
				],
				[
					798,
					1,
					"insert",
					{
						"characters": "QGRaphicsL"
					},
					"CgAAAOkJAAAAAAAA6gkAAAAAAAAAAAAA6gkAAAAAAADrCQAAAAAAAAAAAADrCQAAAAAAAOwJAAAAAAAAAAAAAOwJAAAAAAAA7QkAAAAAAAAAAAAA7QkAAAAAAADuCQAAAAAAAAAAAADuCQAAAAAAAO8JAAAAAAAAAAAAAO8JAAAAAAAA8AkAAAAAAAAAAAAA8AkAAAAAAADxCQAAAAAAAAAAAADxCQAAAAAAAPIJAAAAAAAAAAAAAPIJAAAAAAAA8wkAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6QkAAAAAAADpCQAAAAAAAAAAAAAAAPC/"
				],
				[
					799,
					1,
					"insert",
					{
						"characters": "in"
					},
					"AgAAAPMJAAAAAAAA9AkAAAAAAAAAAAAA9AkAAAAAAAD1CQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA8wkAAAAAAADzCQAAAAAAAAAAAAAAAPC/"
				],
				[
					801,
					1,
					"insert_completion",
					{
						"completion": "lsp_select_completion {\"index\":1,\"session_name\":\"LSP-pyright\"}",
						"format": "command",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "QGraphicsLinearLayout"
					},
					"AgAAAOkJAAAAAAAA6QkAAAAAAAAMAAAAUUdSYXBoaWNzTGlu6QkAAAAAAAD+CQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA9QkAAAAAAAD1CQAAAAAAAAAAAAAAAPC/"
				],
				[
					802,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAP4JAAAAAAAAAAoAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/gkAAAAAAAD+CQAAAAAAAAAAAAAAAPC/"
				],
				[
					804,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAgSwAAAAAAACBLAAAZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKIyBmcm9tIHN0YW5kYXJkX2dyYXBoX2RlbGVnYXRlIGltcG9ydCBTdGFuZGFyZEdyYXBoRGVsZWdhdGUKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9pZCwgbWFrZV91bmlxdWVfbmFtZQoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbAoKZnJvbSBweWxpdmUuUXRHcmFwaEVkaXRvci5OZXRyb3drWEdyYXBoRWRpdG9yLmxpbmtfZ3JhcGhpY3NfaXRlbXMgaW1wb3J0ICgKICAgIG1ha2VMaW5lQmV0d2VlblNoYXBlcywKKQpmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IucWdyYXBoaWNzX2Fycm93X2l0ZW0gaW1wb3J0ICgKICAgIFFHcmFwaGljc0Fycm93SXRlbSwKKQoKCmNsYXNzIFBpbldpZGdldChRR3JhcGhpY3NXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaTogSGFzaGFibGUsCiAgICAgICAgbm9kZTogT3B0aW9uYWxbIk5vZGVXaWRnZXQiXSwKICAgICAgICB2aWV3OiAiR3JhcGhWaWV3IiwKICAgICkgLT4gTm9uZToKICAgICAgICBRR3JhcGhpY3NXaWRnZXQuX19pbml0X18oc2VsZiwgcGFyZW50PW5vZGUpCgogICAgICAgIHNlbGYuX25vZGUgPSBub2RlCiAgICAgICAgc2VsZi5fdmlldyA9IHZpZXcKICAgICAgICBzZWxmLl9pID0gaQoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIHdoaWNoOiBRdC5TaXplSGludCwgY29uc3RyYWludDogUVNpemVGIHwgUVNpemUgPSBRU2l6ZUYoKQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcmV0dXJuIFFTaXplRigyMCwgMjApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsIHBhaW50ZXI6IFFQYWludGVyLCBvcHRpb246IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSwgd2lkZ2V0PU5vbmUKICAgICk6CiAgICAgICAgciA9IDUKICAgICAgICBwYWludGVyLmRyYXdFbGxpcHNlKDAsIDAsIHIsIHIpCgogICAgZGVmIG1vdXNlUHJlc3NFdmVudChzZWxmLCBldmVudDogUUdyYXBoaWNzU2NlbmVNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgIHNlbGYuX3ZpZXcuaW5pdGlhdGVDb25uZWN0aW9uKHNlbGYpCgoKY2xhc3MgTm9kZVdpZGdldChRR3JhcGhpY3NXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICAgICAgdmlldzogIkdyYXBoVmlldyIsCiAgICAgICAgcGFyZW50OiBPcHRpb25hbFtRR3JhcGhpY3NJdGVtXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgUUdyYXBoaWNzV2lkZ2V0Ll9faW5pdF9fKHNlbGYsIHBhcmVudD1wYXJlbnQpCiAgICAgICAgc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNNb3ZhYmxlLCBUcnVlKQogICAgICAgIHNlbGYuc2V0RmxhZyhRR3JhcGhpY3NJdGVtLkdyYXBoaWNzSXRlbUZsYWcuSXRlbUlzU2VsZWN0YWJsZSwgVHJ1ZSkKICAgICAgICBzZWxmLnNldEZsYWcoUUdyYXBoaWNzSXRlbS5HcmFwaGljc0l0ZW1GbGFnLkl0ZW1Jc0ZvY3VzYWJsZSwgVHJ1ZSkKCiAgICAgICAgc2VsZi5fdmlldyA9IHZpZXcKICAgICAgICBzZWxmLl9uID0gbgoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIHdoaWNoOiBRdC5TaXplSGludCwgY29uc3RyYWludDogUVNpemVGIHwgUVNpemUgPSBRU2l6ZUYoKQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgb3B0aW9uID0gUVN0eWxlT3B0aW9uR3JhcGhpY3NJdGVtKCkKICAgICAgICBvcHRpb24uZm9udCA9IHNlbGYuZm9udCgpCiAgICAgICAgcmV0dXJuIHNlbGYuX3ZpZXcuX2RlbGVnYXRlLm5vZGVTaXplSGludCgKICAgICAgICAgICAgb3B0aW9uLCBzZWxmLl92aWV3Ll9ncmFwaG1vZGVsLCBzZWxmLl9uCiAgICAgICAgKQoKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLCBwYWludGVyOiBRUGFpbnRlciwgb3B0aW9uOiBRU3R5bGVPcHRpb25HcmFwaGljc0l0ZW0sIHdpZGdldD1Ob25lCiAgICApOgogICAgICAgIHNlbGYuX3ZpZXcuX2RlbGVnYXRlLnBhaW50Tm9kZSgKICAgICAgICAgICAgcGFpbnRlciwgb3B0aW9uLCBzZWxmLl92aWV3Ll9ncmFwaG1vZGVsLCBzZWxmLl9uCiAgICAgICAgKQoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICBwcmludCgicHJlc3MiKQogICAgICAgIHJldHVybiBzdXBlcigpLm1vdXNlUHJlc3NFdmVudChldmVudCkKCgpjbGFzcyBHcmFwaERlbGVnYXRlKFFPYmplY3QpOgogICAgZGVmIG5vZGVGYWN0b3J5KHNlbGYsIHZpZXcsIGdyYXBoLCBuKSAtPiBRR3JhcGhpY3NJdGVtOgogICAgICAgIHdpZGdldCA9IE5vZGVXaWRnZXQodmlldz12aWV3LCBuPW4pCiAgICAgICAgd2lkZ2V0LnNldExheW91dChRR3JhcGhpY3NMaW5lYXJMYXlvdXQoKSkKICAgICAgICByZXR1cm4gd2lkZ2V0CgogICAgZGVmIGVkZ2VGYWN0b3J5KAogICAgICAgIHNlbGYsIHZpZXcsIGdyYXBoLCBzb3VyY2Vfbm9kZSwgdGFyZ2V0X25vZGUKICAgICkgLT4gUUdyYXBoaWNzSXRlbToKICAgICAgICBhcnJvdyA9IFFHcmFwaGljc0Fycm93SXRlbSgpCiAgICAgICAgcGVuID0gUVBlbih2aWV3LnBhbGV0dGUoKS5jb2xvcihRUGFsZXR0ZS5Db2xvclJvbGUuVGV4dCksIDEuNSkKICAgICAgICBhcnJvdy5zZXRQZW4ocGVuKQoKICAgICAgICBkZWYgdXBkYXRlX2xpbmsoKToKICAgICAgICAgICAgYXJyb3cuc2V0TGluZSgKICAgICAgICAgICAgICAgIG1ha2VMaW5lQmV0d2VlblNoYXBlcygKICAgICAgICAgICAgICAgICAgICBzb3VyY2Vfbm9kZS5nZW9tZXRyeSgpLCB0YXJnZXRfbm9kZS5nZW9tZXRyeSgpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKCiAgICAgICAgdXBkYXRlX2xpbmsoKQoKICAgICAgICBzb3VyY2Vfbm9kZS5nZW9tZXRyeUNoYW5nZWQuY29ubmVjdCh1cGRhdGVfbGluaykKICAgICAgICB0YXJnZXRfbm9kZS5nZW9tZXRyeUNoYW5nZWQuY29ubmVjdCh1cGRhdGVfbGluaykKICAgICAgICByZXR1cm4gYXJyb3cKCiAgICBkZWYgbm9kZVNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDQKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2UoZiJ7bn0iKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBkZWYgcGFpbnROb2RlKAogICAgICAgIHNlbGYsCiAgICAgICAgcGFpbnRlcjogUVBhaW50ZXIsCiAgICAgICAgb3B0aW9uOiBRU3R5bGVPcHRpb25WaWV3SXRlbSwKICAgICAgICBncmFwaCwKICAgICAgICBuOiBIYXNoYWJsZSwKICAgICk6CiAgICAgICAgcGFkZGluZyA9IDQKICAgICAgICAjIGRyYXcgb3V0bGluZQogICAgICAgIHBhaW50ZXIuZHJhd1JvdW5kZWRSZWN0KG9wdGlvbi5yZWN0LCA0LCA0KQoKICAgICAgICAjIGRyYXcgbm9kZSB0ZXh0CiAgICAgICAgZm0gPSBvcHRpb24uZm9udE1ldHJpY3MKICAgICAgICB5ID0gb3B0aW9uLnJlY3QuaGVpZ2h0KCkgLSBwYWRkaW5nCiAgICAgICAgcGFpbnRlci5kcmF3VGV4dChwYWRkaW5nLCB5LCBmIntufSIpCiAgICAgICAgIyBwYWludGVyLmRyYXdMaW5lKDAsIHksIG9wdGlvbi5yZWN0LndpZHRoKCksIHkpICMgZHJhdyBiYXNlbGluZQoKCmNsYXNzIEdyYXBoVmlldyhRR3JhcGhpY3NWaWV3KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXJlbnQ9Tm9uZSk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQ9cGFyZW50KQogICAgICAgIHNlbGYuc2V0UmVuZGVySGludHMoUVBhaW50ZXIuQW50aWFsaWFzaW5nKQogICAgICAgIHNlbGYuc2V0RHJhZ01vZGUoUUdyYXBoaWNzVmlldy5EcmFnTW9kZS5SdWJiZXJCYW5kRHJhZykKICAgICAgICBzY2VuZSA9IFFHcmFwaGljc1NjZW5lKCkKICAgICAgICBzY2VuZS5zZXRTY2VuZVJlY3QoUVJlY3QoLTk5OTkgLy8gMiwgLTk5OTkgLy8gMiwgOTk5OSwgOTk5OSkpCiAgICAgICAgc2VsZi5zZXRTY2VuZShzY2VuZSkKICAgICAgICAjIHNjZW5lLmluc3RhbGxFdmVudEZpbHRlcihzZWxmKQogICAgICAgIHNlbGYuX2RlbGVnYXRlID0gR3JhcGhEZWxlZ2F0ZSgpCiAgICAgICAgc2VsZi5faXRlbV90b193aWRnZXRfbWFwID0gZGljdCgpCiAgICAgICAgc2VsZi5fd2lkZ2V0X3RvX2l0ZW1fbWFwID0gZGljdCgpCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbDogR3JhcGhNb2RlbCB8IE5vbmUgPSBOb25lCgogICAgZGVmIG5vZGVXaWRnZXQoc2VsZiwgbjogSGFzaGFibGUpOgogICAgICAgIHJldHVybiBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KCiAgICBkZWYgbW9kZWwoc2VsZikgLT4gR3JhcGhNb2RlbCB8IE5vbmU6CiAgICAgICAgcmV0dXJuIHNlbGYuX2dyYXBobW9kZWwKCiAgICBkZWYgc2V0TW9kZWwoc2VsZiwgZ3JhcGhtb2RlbDogR3JhcGhNb2RlbCk6CiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbCA9IGdyYXBobW9kZWwKCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5ub2Rlc0FkZGVkLmNvbm5lY3Qoc2VsZi5oYW5kbGVOb2Rlc0FkZGVkKQogICAgICAgIHNlbGYuX2dyYXBobW9kZWwubm9kZXNBYm91dFRvQmVSZW1vdmVkLmNvbm5lY3Qoc2VsZi5oYW5kbGVOb2Rlc1JlbW92ZWQpCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5ub2Rlc1Byb3BlcnRpZXNDaGFuZ2VkLmNvbm5lY3QoCiAgICAgICAgICAgIHNlbGYuaGFuZGxlTm9kZXNQcm9wZXJ0aWVzQ2hhbmdlZAogICAgICAgICkKCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5lZGdlc0FkZGVkLmNvbm5lY3Qoc2VsZi5oYW5kbGVFZGdlc0FkZGVkKQogICAgICAgIHNlbGYuX2dyYXBobW9kZWwuZWRnZXNBYm91dFRvQmVSZW1vdmVkLmNvbm5lY3Qoc2VsZi5oYW5kbGVFZGdlc1JlbW92ZWQpCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5lZGdlc1Byb3BlcnRpZXNDaGFuZ2VkLmNvbm5lY3QoCiAgICAgICAgICAgIHNlbGYuaGFuZGxlRWRnZXNQcm9wZXJ0aWVzQ2hhbmdlZAogICAgICAgICkKCiAgICBkZWYgaGFuZGxlTm9kZXNBZGRlZChzZWxmLCBub2RlczogTGlzdFtIYXNoYWJsZV0pOgogICAgICAgIGZvciBuIGluIG5vZGVzOgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9kZWxlZ2F0ZS5ub2RlRmFjdG9yeSgKICAgICAgICAgICAgICAgIHZpZXc9c2VsZiwgZ3JhcGg9c2VsZi5fZ3JhcGhtb2RlbCwgbj1uCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXSA9IHdpZGdldAogICAgICAgICAgICBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbd2lkZ2V0XSA9IG4KICAgICAgICAgICAgc2VsZi5zY2VuZSgpLmFkZEl0ZW0od2lkZ2V0KQoKICAgIGRlZiBoYW5kbGVOb2Rlc1JlbW92ZWQoc2VsZiwgbm9kZXM6IExpc3RbSGFzaGFibGVdKToKICAgICAgICBmb3IgbiBpbiBub2RlczoKICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCiAgICAgICAgICAgIHNlbGYuc2NlbmUoKS5yZW1vdmVJdGVtKHdpZGdldCkKICAgICAgICAgICAgZGVsIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQogICAgICAgICAgICBkZWwgc2VsZi5fd2lkZ2V0X3RvX2l0ZW1fbWFwW3dpZGdldF0KCiAgICBkZWYgaGFuZGxlTm9kZXNQcm9wZXJ0aWVzQ2hhbmdlZChzZWxmLCBub2Rlc1Byb3Blcmllcyk6CiAgICAgICAgZm9yIG4sIHByb3BlcnRpZXMgaW4gbm9kZXNQcm9wZXJpZXMuaXRlbXMoKToKICAgICAgICAgICAgbm9kZV93aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KCiAgICAgICAgICAgIGZvciBwcm9wLCB2YWx1ZSBpbiBwcm9wZXJ0aWVzLml0ZW1zKCk6CiAgICAgICAgICAgICAgICBtYXRjaCBwcm9wOgogICAgICAgICAgICAgICAgICAgIGNhc2UgImxhYmVsIjoKICAgICAgICAgICAgICAgICAgICAgICAgLi4uCiAgICAgICAgICAgICAgICAgICAgY2FzZSAiaW5sZXRzIjoKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGlubGV0IGluIHZhbHVlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGluID0gUGluV2lkZ2V0KGlubGV0LCBub2RlX3dpZGdldCwgc2VsZikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dCA9IGNhc3QoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUUdyYXBoaWNzTGluZWFyTGF5b3V0LCBub2RlX3dpZGdldC5sYXlvdXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0LmFkZEl0ZW0ocGluKQoKICAgICAgICAgICAgICAgICAgICBjYXNlICJvdXRsZXRzIjoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQocHJvcCwgdmFsdWUpCgogICAgZGVmIGhhbmRsZUVkZ2VzQWRkZWQoc2VsZiwgZWRnZXM6IExpc3RbVHVwbGVbSGFzaGFibGUsIEhhc2hhYmxlXV0pOgogICAgICAgIGZvciB1LCB2IGluIGVkZ2VzOgogICAgICAgICAgICBzb3VyY2Vfbm9kZSA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFt1XQogICAgICAgICAgICB0YXJnZXRfbm9kZSA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFt2XQoKICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5fZGVsZWdhdGUuZWRnZUZhY3RvcnkoCiAgICAgICAgICAgICAgICBzZWxmLCBzZWxmLl9ncmFwaG1vZGVsLCBzb3VyY2Vfbm9kZSwgdGFyZ2V0X25vZGUKICAgICAgICAgICAgKQoKICAgICAgICAgICAgc2VsZi5faXRlbV90b193aWRnZXRfbWFwWyh1LCB2KV0gPSB3aWRnZXQKICAgICAgICAgICAgc2VsZi5fd2lkZ2V0X3RvX2l0ZW1fbWFwW3dpZGdldF0gPSAodSwgdikKICAgICAgICAgICAgc2VsZi5zY2VuZSgpLmFkZEl0ZW0od2lkZ2V0KQoKICAgIGRlZiBoYW5kbGVFZGdlc1JlbW92ZWQoc2VsZiwgZWRnZXM6IExpc3RbVHVwbGVbSGFzaGFibGUsIEhhc2hhYmxlXV0pOgogICAgICAgIGZvciB1LCB2IGluIGVkZ2VzOgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbKHUsIHYpXQogICAgICAgICAgICB3aWRnZXQuc2V0U291cmNlKE5vbmUpCiAgICAgICAgICAgIHdpZGdldC5zZXRUYXJnZXQoTm9uZSkKICAgICAgICAgICAgc2VsZi5zY2VuZSgpLnJlbW92ZUl0ZW0od2lkZ2V0KQogICAgICAgICAgICBkZWwgc2VsZi5faXRlbV90b193aWRnZXRfbWFwWyh1LCB2KV0KICAgICAgICAgICAgZGVsIHNlbGYuX3dpZGdldF90b19pdGVtX21hcFt3aWRnZXRdCgogICAgZGVmIGhhbmRsZUVkZ2VzUHJvcGVydGllc0NoYW5nZWQoc2VsZiwgZWRnZXNQcm9wZXJ0aWVzKToKICAgICAgICBmb3IgZWRnZSwgcHJvcGVydGllcyBpbiBlZGdlc1Byb3BlcnRpZXMuaXRlbXMoKToKICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5faXRlbV90b193aWRnZXRfYW1wW2VkZ2VdCiAgICAgICAgICAgICMgc2VsZi5kZWxlZ2F0ZSgpLnNldEVkZ2VXaWRnZXRQcm9wcyhzZWxmLCBlZGdlLCB3aWRnZXQsICoqcHJvcGVydGllcykKCiAgICBkZWYgaW5pdGlhdGVDb25uZWN0aW9uKHNlbGYsIHNvdXJjZTogUUdyYXBoaWNzSXRlbSk6CiAgICAgICAgcHJpbnQoImluaXRpYXRlQ29ubmVjdGlvbiIpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGZyb20gZ3JhcGhfbW9kZWwgaW1wb3J0IEdyYXBoTW9kZWwKCiAgICBjbGFzcyBFeGFtcGxlR3JhcGhWaWV3KEdyYXBoVmlldyk6CiAgICAgICAgZGVmIG1vdXNlRG91YmxlQ2xpY2tFdmVudChzZWxmLCBldmVudDogUU1vdXNlRXZlbnQpIC0+IE5vbmU6CiAgICAgICAgICAgIGlmIG5vdCBzZWxmLl9ncmFwaG1vZGVsOgogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIGl0ZW1BdE1vdXNlID0gc2VsZi5pdGVtQXQoZXZlbnQucG9zaXRpb24oKS50b1BvaW50KCkpCiAgICAgICAgICAgIGlmIGl0ZW1BdE1vdXNlOgogICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyKCkubW91c2VEb3VibGVDbGlja0V2ZW50KGV2ZW50KQoKICAgICAgICAgICAgY2xpY2twb3MgPSBzZWxmLm1hcFRvU2NlbmUoZXZlbnQucG9zaXRpb24oKS50b1BvaW50KCkpCgogICAgICAgICAgICAjIG4gPSBtYWtlX3VuaXF1ZV9pZChsZW5ndGg9MTIpCiAgICAgICAgICAgIG4gPSBtYWtlX3VuaXF1ZV9uYW1lKCJOT0RFIiwgW24gZm9yIG4gaW4gc2VsZi5fZ3JhcGhtb2RlbC5ub2RlcygpXSkKICAgICAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5hZGROb2RlKAogICAgICAgICAgICAgICAgbiwgbGFiZWw9Im5ldyBub2RlIiwgaW5sZXRzPVsiaW4iXSwgb3V0bGV0cz1bIm91dCJdCiAgICAgICAgICAgICkKICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCiAgICAgICAgICAgIHdpZGdldC5zZXRQb3MoY2xpY2twb3MpCgogICAgICAgIGRlZiBjcmVhdGVTdGFuZGFyZENvbnRleHRNZW51KHNlbGYsIHNjZW5lUG9zOiBRUG9pbnRGIHwgTm9uZSA9IE5vbmUpOgogICAgICAgICAgICAiIiJUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgdGhlIHN0YW5kYXJkIGNvbnRleHQgbWVudSB3aGljaCBpcyBzaG93biB3aGVuCiAgICAgICAgICAgIHRoZSB1c2VyIGNsaWNrcyBvbiB0aGUgdGV4dCBlZGl0IHdpdGggdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbi4gSXQgaXMKICAgICAgICAgICAgY2FsbGVkIGZyb20gdGhlIGRlZmF1bHQgY29udGV4dE1lbnVFdmVudCgpIGhhbmRsZXIgYW5kIGl0IHRha2VzIHRoZQogICAgICAgICAgICBwb3NpdGlvbiBpbiBkb2N1bWVudCBjb29yZGluYXRlcyB3aGVyZSB0aGUgbW91c2UgY2xpY2sgd2FzLiBUaGlzIGNhbgogICAgICAgICAgICBlbmFibGUgYWN0aW9ucyB0aGF0IGFyZSBzZW5zaXRpdmUgdG8gdGhlIHBvc2l0aW9uIHdoZXJlIHRoZSB1c2VyCiAgICAgICAgICAgIGNsaWNrZWQuIFRoZSBwb3B1cCBtZW51J3Mgb3duZXJzaGlwIGlzIHRyYW5zZmVycmVkIHRvIHRoZSBjYWxsZXIuIiIiCgogICAgICAgICAgICBkZWYgY3JlYXRlX25vZGUoc2NlbmVQb3M6IFFQb2ludEYgfCBOb25lKToKICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLl9ncmFwaG1vZGVsOgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgbiA9IG1ha2VfdW5pcXVlX25hbWUoCiAgICAgICAgICAgICAgICAgICAgIk5PREUiLCBbbiBmb3IgbiBpbiBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzKCldCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmFkZE5vZGUoCiAgICAgICAgICAgICAgICAgICAgbiwgbGFiZWw9Im5ldyBub2RlIiwgaW5sZXRzPVsiaW4iXSwgb3V0bGV0cz1bIm91dCJdCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KICAgICAgICAgICAgICAgIHdpZGdldC5zZXRQb3Moc2NlbmVQb3Mgb3IgUVBvaW50RigwLCAwKSkKCiAgICAgICAgICAgIGRlZiBjb25uZWN0X3NlbGVjdGVkX25vZGVzKCk6CiAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZi5fZ3JhcGhtb2RlbDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIHNlbGVjdGlvbiA9IFtpdGVtIGZvciBpdGVtIGluIHNlbGYuc2NlbmUoKS5zZWxlY3RlZEl0ZW1zKCldCiAgICAgICAgICAgICAgICBpZiBsZW4oc2VsZWN0aW9uKSA8IDI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCgogICAgICAgICAgICAgICAgZm9yIGl0ZW0gaW4gc2VsZWN0aW9uWzE6XToKICAgICAgICAgICAgICAgICAgICB1ID0gc2VsZi5fd2lkZ2V0X3RvX2l0ZW1fbWFwW3NlbGVjdGlvblswXV0KICAgICAgICAgICAgICAgICAgICB2ID0gc2VsZi5fd2lkZ2V0X3RvX2l0ZW1fbWFwW2l0ZW1dCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5hZGRFZGdlKHUsIHYpCgogICAgICAgICAgICBtZW51ID0gUU1lbnUoc2VsZikKCiAgICAgICAgICAgIGRlZiBudWRnZV9zZWxlY3RlZF9ub2RlcygpOgogICAgICAgICAgICAgICAgZm9yIGl0ZW0sIHdpZGdldCBpbiBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXAuaXRlbXMoKToKICAgICAgICAgICAgICAgICAgICB3aWRnZXQubW92ZUJ5KDEwLCAxMCkKCiAgICAgICAgICAgIG51ZGdlX2FjdGlvbiA9IFFBY3Rpb24oc2VsZikKICAgICAgICAgICAgbnVkZ2VfYWN0aW9uLnNldFRleHQoIm51ZGdlIG5vZGVzIikKICAgICAgICAgICAgbnVkZ2VfYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYTogbnVkZ2Vfc2VsZWN0ZWRfbm9kZXMoKSkKICAgICAgICAgICAgbWVudS5hZGRBY3Rpb24obnVkZ2VfYWN0aW9uKQoKICAgICAgICAgICAgY3JlYXRlX2FjdGlvbiA9IFFBY3Rpb24oc2VsZikKICAgICAgICAgICAgY3JlYXRlX2FjdGlvbi5zZXRUZXh0KCJjcmVhdGUgbm9kZSIpCiAgICAgICAgICAgIGNyZWF0ZV9hY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhOiBjcmVhdGVfbm9kZShzY2VuZVBvcykpCiAgICAgICAgICAgIG1lbnUuYWRkQWN0aW9uKGNyZWF0ZV9hY3Rpb24pCgogICAgICAgICAgICBjb25uZWN0X2FjdGlvbiA9IFFBY3Rpb24oc2VsZikKICAgICAgICAgICAgY29ubmVjdF9hY3Rpb24uc2V0VGV4dCgiY29ubmVjdCIpCiAgICAgICAgICAgIGNvbm5lY3RfYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYTogY29ubmVjdF9zZWxlY3RlZF9ub2RlcygpKQogICAgICAgICAgICBtZW51LmFkZEFjdGlvbihjb25uZWN0X2FjdGlvbikKICAgICAgICAgICAgcmV0dXJuIG1lbnUKCiAgICAgICAgZGVmIGNvbnRleHRNZW51RXZlbnQoc2VsZiwgZXZlbnQ6IFFDb250ZXh0TWVudUV2ZW50KToKICAgICAgICAgICAgdmlld3BvcyA9IHNlbGYubWFwRnJvbUdsb2JhbChldmVudC5nbG9iYWxQb3MoKSkKICAgICAgICAgICAgc2NlbmVwb3MgPSBzZWxmLm1hcFRvU2NlbmUodmlld3BvcykKICAgICAgICAgICAgbWVudSA9IHNlbGYuY3JlYXRlU3RhbmRhcmRDb250ZXh0TWVudShzY2VuZXBvcykKCiAgICAgICAgICAgIG1lbnUuZXhlYyhldmVudC5nbG9iYWxQb3MoKSkKCiAgICBhcHAgPSBRQXBwbGljYXRpb24oKQogICAgdmlldyA9IEV4YW1wbGVHcmFwaFZpZXcoKQogICAgbW9kZWwgPSBHcmFwaE1vZGVsKCkKICAgIHZpZXcuc2V0TW9kZWwobW9kZWwpCiAgICB2aWV3LnNob3coKQogICAgYXBwLmV4ZWMoKQo",
					"AQAAAAAAAAABAAAA/wkAAAAAAAD/CQAAAAAAAAAAAAAAAPC/"
				],
				[
					812,
					1,
					"insert",
					{
						"characters": "return"
					},
					"BwAAAKwJAAAAAAAArQkAAAAAAAAAAAAArQkAAAAAAACtCQAAAAAAAAgAAAB3aWRnZXQgPa0JAAAAAAAArgkAAAAAAAAAAAAArgkAAAAAAACvCQAAAAAAAAAAAACvCQAAAAAAALAJAAAAAAAAAAAAALAJAAAAAAAAsQkAAAAAAAAAAAAAsQkAAAAAAACyCQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtAkAAAAAAACsCQAAAAAAAAAAAAAAAPC/"
				],
				[
					815,
					2,
					"left_delete",
					null,
					"AgAAAM4JAAAAAAAAzgkAAAAAAABHAAAAICAgICAgICB3aWRnZXQuc2V0TGF5b3V0KFFHcmFwaGljc0xpbmVhckxheW91dCgpKQogICAgICAgIHJldHVybiB3aWRnZXTNCQAAAAAAAM0JAAAAAAAAAQAAAAo",
					"AQAAAAAAAAABAAAAFQoAAAAAAADOCQAAAAAAAAAAAAAAAPC/"
				],
				[
					825,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAANywAAAAAAAA3LAAAZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKIyBmcm9tIHN0YW5kYXJkX2dyYXBoX2RlbGVnYXRlIGltcG9ydCBTdGFuZGFyZEdyYXBoRGVsZWdhdGUKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9pZCwgbWFrZV91bmlxdWVfbmFtZQoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbAoKZnJvbSBweWxpdmUuUXRHcmFwaEVkaXRvci5OZXRyb3drWEdyYXBoRWRpdG9yLmxpbmtfZ3JhcGhpY3NfaXRlbXMgaW1wb3J0ICgKICAgIG1ha2VMaW5lQmV0d2VlblNoYXBlcywKKQpmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IucWdyYXBoaWNzX2Fycm93X2l0ZW0gaW1wb3J0ICgKICAgIFFHcmFwaGljc0Fycm93SXRlbSwKKQoKCmNsYXNzIFBpbldpZGdldChRR3JhcGhpY3NXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaTogSGFzaGFibGUsCiAgICAgICAgbm9kZTogT3B0aW9uYWxbIk5vZGVXaWRnZXQiXSwKICAgICAgICB2aWV3OiAiR3JhcGhWaWV3IiwKICAgICkgLT4gTm9uZToKICAgICAgICBRR3JhcGhpY3NXaWRnZXQuX19pbml0X18oc2VsZiwgcGFyZW50PW5vZGUpCgogICAgICAgIHNlbGYuX25vZGUgPSBub2RlCiAgICAgICAgc2VsZi5fdmlldyA9IHZpZXcKICAgICAgICBzZWxmLl9pID0gaQoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIHdoaWNoOiBRdC5TaXplSGludCwgY29uc3RyYWludDogUVNpemVGIHwgUVNpemUgPSBRU2l6ZUYoKQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcmV0dXJuIFFTaXplRigyMCwgMjApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsIHBhaW50ZXI6IFFQYWludGVyLCBvcHRpb246IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSwgd2lkZ2V0PU5vbmUKICAgICk6CiAgICAgICAgciA9IDUKICAgICAgICBwYWludGVyLmRyYXdFbGxpcHNlKDAsIDAsIHIsIHIpCgogICAgZGVmIG1vdXNlUHJlc3NFdmVudChzZWxmLCBldmVudDogUUdyYXBoaWNzU2NlbmVNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgIHNlbGYuX3ZpZXcuaW5pdGlhdGVDb25uZWN0aW9uKHNlbGYpCgoKY2xhc3MgTm9kZVdpZGdldChRR3JhcGhpY3NXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICAgICAgdmlldzogIkdyYXBoVmlldyIsCiAgICAgICAgcGFyZW50OiBPcHRpb25hbFtRR3JhcGhpY3NJdGVtXSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgUUdyYXBoaWNzV2lkZ2V0Ll9faW5pdF9fKHNlbGYsIHBhcmVudD1wYXJlbnQpCiAgICAgICAgc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNNb3ZhYmxlLCBUcnVlKQogICAgICAgIHNlbGYuc2V0RmxhZyhRR3JhcGhpY3NJdGVtLkdyYXBoaWNzSXRlbUZsYWcuSXRlbUlzU2VsZWN0YWJsZSwgVHJ1ZSkKICAgICAgICBzZWxmLnNldEZsYWcoUUdyYXBoaWNzSXRlbS5HcmFwaGljc0l0ZW1GbGFnLkl0ZW1Jc0ZvY3VzYWJsZSwgVHJ1ZSkKCiAgICAgICAgc2VsZi5fdmlldyA9IHZpZXcKICAgICAgICBzZWxmLl9uID0gbgoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIHdoaWNoOiBRdC5TaXplSGludCwgY29uc3RyYWludDogUVNpemVGIHwgUVNpemUgPSBRU2l6ZUYoKQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgb3B0aW9uID0gUVN0eWxlT3B0aW9uR3JhcGhpY3NJdGVtKCkKICAgICAgICBvcHRpb24uZm9udCA9IHNlbGYuZm9udCgpCiAgICAgICAgcmV0dXJuIHNlbGYuX3ZpZXcuX2RlbGVnYXRlLm5vZGVTaXplSGludCgKICAgICAgICAgICAgb3B0aW9uLCBzZWxmLl92aWV3Ll9ncmFwaG1vZGVsLCBzZWxmLl9uCiAgICAgICAgKQoKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLCBwYWludGVyOiBRUGFpbnRlciwgb3B0aW9uOiBRU3R5bGVPcHRpb25HcmFwaGljc0l0ZW0sIHdpZGdldD1Ob25lCiAgICApOgogICAgICAgIHNlbGYuX3ZpZXcuX2RlbGVnYXRlLnBhaW50Tm9kZSgKICAgICAgICAgICAgcGFpbnRlciwgb3B0aW9uLCBzZWxmLl92aWV3Ll9ncmFwaG1vZGVsLCBzZWxmLl9uCiAgICAgICAgKQoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICBwcmludCgicHJlc3MiKQogICAgICAgIHJldHVybiBzdXBlcigpLm1vdXNlUHJlc3NFdmVudChldmVudCkKCgpjbGFzcyBHcmFwaERlbGVnYXRlKFFPYmplY3QpOgogICAgZGVmIG5vZGVGYWN0b3J5KHNlbGYsIHZpZXcsIGdyYXBoLCBuKSAtPiBRR3JhcGhpY3NJdGVtOgogICAgICAgIHJldHVybiBOb2RlV2lkZ2V0KHZpZXc9dmlldywgbj1uKQoKICAgIGRlZiBlZGdlRmFjdG9yeSgKICAgICAgICBzZWxmLCB2aWV3LCBncmFwaCwgc291cmNlX25vZGUsIHRhcmdldF9ub2RlCiAgICApIC0+IFFHcmFwaGljc0l0ZW06CiAgICAgICAgYXJyb3cgPSBRR3JhcGhpY3NBcnJvd0l0ZW0oKQogICAgICAgIHBlbiA9IFFQZW4odmlldy5wYWxldHRlKCkuY29sb3IoUVBhbGV0dGUuQ29sb3JSb2xlLlRleHQpLCAxLjUpCiAgICAgICAgYXJyb3cuc2V0UGVuKHBlbikKCiAgICAgICAgZGVmIHVwZGF0ZV9saW5rKCk6CiAgICAgICAgICAgIGFycm93LnNldExpbmUoCiAgICAgICAgICAgICAgICBtYWtlTGluZUJldHdlZW5TaGFwZXMoCiAgICAgICAgICAgICAgICAgICAgc291cmNlX25vZGUuZ2VvbWV0cnkoKSwgdGFyZ2V0X25vZGUuZ2VvbWV0cnkoKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCgogICAgICAgIHVwZGF0ZV9saW5rKCkKCiAgICAgICAgc291cmNlX25vZGUuZ2VvbWV0cnlDaGFuZ2VkLmNvbm5lY3QodXBkYXRlX2xpbmspCiAgICAgICAgdGFyZ2V0X25vZGUuZ2VvbWV0cnlDaGFuZ2VkLmNvbm5lY3QodXBkYXRlX2xpbmspCiAgICAgICAgcmV0dXJuIGFycm93CgogICAgZGVmIG5vZGVTaXplSGludCgKICAgICAgICBzZWxmLCBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLCBncmFwaDogR3JhcGhNb2RlbCwgbjogSGFzaGFibGUKICAgICkgLT4gUVNpemVGOgogICAgICAgIHBhZGRpbmcgPSA0CiAgICAgICAgZm0gPSBRRm9udE1ldHJpY3Mob3B0aW9uLmZvbnQpCiAgICAgICAgdGV4dF93aWR0aCA9IGZtLmhvcml6b250YWxBZHZhbmNlKGYie259IikKICAgICAgICByZXR1cm4gUVNpemVGKAogICAgICAgICAgICBwYWRkaW5nICsgdGV4dF93aWR0aCArIHBhZGRpbmcsIHBhZGRpbmcgKyBmbS5hc2NlbnQoKSArIHBhZGRpbmcKICAgICAgICApCgogICAgZGVmIHBhaW50Tm9kZSgKICAgICAgICBzZWxmLAogICAgICAgIHBhaW50ZXI6IFFQYWludGVyLAogICAgICAgIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sCiAgICAgICAgZ3JhcGgsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICApOgogICAgICAgIHBhZGRpbmcgPSA0CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCiAgICAgICAgIyBkcmF3IG5vZGUgdGV4dAogICAgICAgIGZtID0gb3B0aW9uLmZvbnRNZXRyaWNzCiAgICAgICAgeSA9IG9wdGlvbi5yZWN0LmhlaWdodCgpIC0gcGFkZGluZwogICAgICAgIHBhaW50ZXIuZHJhd1RleHQocGFkZGluZywgeSwgZiJ7bn0iKQogICAgICAgICMgcGFpbnRlci5kcmF3TGluZSgwLCB5LCBvcHRpb24ucmVjdC53aWR0aCgpLCB5KSAjIGRyYXcgYmFzZWxpbmUKCgpjbGFzcyBHcmFwaFZpZXcoUUdyYXBoaWNzVmlldyk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50PU5vbmUpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBzZWxmLnNldFJlbmRlckhpbnRzKFFQYWludGVyLkFudGlhbGlhc2luZykKICAgICAgICBzZWxmLnNldERyYWdNb2RlKFFHcmFwaGljc1ZpZXcuRHJhZ01vZGUuUnViYmVyQmFuZERyYWcpCiAgICAgICAgc2NlbmUgPSBRR3JhcGhpY3NTY2VuZSgpCiAgICAgICAgc2NlbmUuc2V0U2NlbmVSZWN0KFFSZWN0KC05OTk5IC8vIDIsIC05OTk5IC8vIDIsIDk5OTksIDk5OTkpKQogICAgICAgIHNlbGYuc2V0U2NlbmUoc2NlbmUpCiAgICAgICAgIyBzY2VuZS5pbnN0YWxsRXZlbnRGaWx0ZXIoc2VsZikKICAgICAgICBzZWxmLl9kZWxlZ2F0ZSA9IEdyYXBoRGVsZWdhdGUoKQogICAgICAgIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcCA9IGRpY3QoKQogICAgICAgIHNlbGYuX3dpZGdldF90b19pdGVtX21hcCA9IGRpY3QoKQogICAgICAgIHNlbGYuX2dyYXBobW9kZWw6IEdyYXBoTW9kZWwgfCBOb25lID0gTm9uZQoKICAgIGRlZiBub2RlV2lkZ2V0KHNlbGYsIG46IEhhc2hhYmxlKToKICAgICAgICByZXR1cm4gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCgogICAgZGVmIG1vZGVsKHNlbGYpIC0+IEdyYXBoTW9kZWwgfCBOb25lOgogICAgICAgIHJldHVybiBzZWxmLl9ncmFwaG1vZGVsCgogICAgZGVmIHNldE1vZGVsKHNlbGYsIGdyYXBobW9kZWw6IEdyYXBoTW9kZWwpOgogICAgICAgIHNlbGYuX2dyYXBobW9kZWwgPSBncmFwaG1vZGVsCgogICAgICAgIHNlbGYuX2dyYXBobW9kZWwubm9kZXNBZGRlZC5jb25uZWN0KHNlbGYuaGFuZGxlTm9kZXNBZGRlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzQWJvdXRUb0JlUmVtb3ZlZC5jb25uZWN0KHNlbGYuaGFuZGxlTm9kZXNSZW1vdmVkKQogICAgICAgIHNlbGYuX2dyYXBobW9kZWwubm9kZXNQcm9wZXJ0aWVzQ2hhbmdlZC5jb25uZWN0KAogICAgICAgICAgICBzZWxmLmhhbmRsZU5vZGVzUHJvcGVydGllc0NoYW5nZWQKICAgICAgICApCgogICAgICAgIHNlbGYuX2dyYXBobW9kZWwuZWRnZXNBZGRlZC5jb25uZWN0KHNlbGYuaGFuZGxlRWRnZXNBZGRlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmVkZ2VzQWJvdXRUb0JlUmVtb3ZlZC5jb25uZWN0KHNlbGYuaGFuZGxlRWRnZXNSZW1vdmVkKQogICAgICAgIHNlbGYuX2dyYXBobW9kZWwuZWRnZXNQcm9wZXJ0aWVzQ2hhbmdlZC5jb25uZWN0KAogICAgICAgICAgICBzZWxmLmhhbmRsZUVkZ2VzUHJvcGVydGllc0NoYW5nZWQKICAgICAgICApCgogICAgZGVmIGhhbmRsZU5vZGVzQWRkZWQoc2VsZiwgbm9kZXM6IExpc3RbSGFzaGFibGVdKToKICAgICAgICBmb3IgbiBpbiBub2RlczoKICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5fZGVsZWdhdGUubm9kZUZhY3RvcnkoCiAgICAgICAgICAgICAgICB2aWV3PXNlbGYsIGdyYXBoPXNlbGYuX2dyYXBobW9kZWwsIG49bgogICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0gPSB3aWRnZXQKICAgICAgICAgICAgc2VsZi5fd2lkZ2V0X3RvX2l0ZW1fbWFwW3dpZGdldF0gPSBuCiAgICAgICAgICAgIHNlbGYuc2NlbmUoKS5hZGRJdGVtKHdpZGdldCkKCiAgICBkZWYgaGFuZGxlTm9kZXNSZW1vdmVkKHNlbGYsIG5vZGVzOiBMaXN0W0hhc2hhYmxlXSk6CiAgICAgICAgZm9yIG4gaW4gbm9kZXM6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQogICAgICAgICAgICBzZWxmLnNjZW5lKCkucmVtb3ZlSXRlbSh3aWRnZXQpCiAgICAgICAgICAgIGRlbCBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KICAgICAgICAgICAgZGVsIHNlbGYuX3dpZGdldF90b19pdGVtX21hcFt3aWRnZXRdCgogICAgZGVmIGhhbmRsZU5vZGVzUHJvcGVydGllc0NoYW5nZWQoc2VsZiwgbm9kZXNQcm9wZXJpZXMpOgogICAgICAgIGZvciBuLCBwcm9wZXJ0aWVzIGluIG5vZGVzUHJvcGVyaWVzLml0ZW1zKCk6CiAgICAgICAgICAgIG5vZGVfd2lkZ2V0ID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCgogICAgICAgICAgICBmb3IgcHJvcCwgdmFsdWUgaW4gcHJvcGVydGllcy5pdGVtcygpOgogICAgICAgICAgICAgICAgbWF0Y2ggcHJvcDoKICAgICAgICAgICAgICAgICAgICBjYXNlICJsYWJlbCI6CiAgICAgICAgICAgICAgICAgICAgICAgIC4uLgogICAgICAgICAgICAgICAgICAgIGNhc2UgImlubGV0cyI6CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpbmxldCBpbiB2YWx1ZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpbiA9IFBpbldpZGdldChpbmxldCwgbm9kZV93aWRnZXQsIHNlbGYpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQgPSBjYXN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFFHcmFwaGljc0xpbmVhckxheW91dCwgbm9kZV93aWRnZXQubGF5b3V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dC5hZGRJdGVtKHBpbikKCiAgICAgICAgICAgICAgICAgICAgY2FzZSAib3V0bGV0cyI6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KHByb3AsIHZhbHVlKQoKICAgIGRlZiBoYW5kbGVFZGdlc0FkZGVkKHNlbGYsIGVkZ2VzOiBMaXN0W1R1cGxlW0hhc2hhYmxlLCBIYXNoYWJsZV1dKToKICAgICAgICBmb3IgdSwgdiBpbiBlZGdlczoKICAgICAgICAgICAgc291cmNlX25vZGUgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbdV0KICAgICAgICAgICAgdGFyZ2V0X25vZGUgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbdl0KCiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2RlbGVnYXRlLmVkZ2VGYWN0b3J5KAogICAgICAgICAgICAgICAgc2VsZiwgc2VsZi5fZ3JhcGhtb2RlbCwgc291cmNlX25vZGUsIHRhcmdldF9ub2RlCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFsodSwgdildID0gd2lkZ2V0CiAgICAgICAgICAgIHNlbGYuX3dpZGdldF90b19pdGVtX21hcFt3aWRnZXRdID0gKHUsIHYpCiAgICAgICAgICAgIHNlbGYuc2NlbmUoKS5hZGRJdGVtKHdpZGdldCkKCiAgICBkZWYgaGFuZGxlRWRnZXNSZW1vdmVkKHNlbGYsIGVkZ2VzOiBMaXN0W1R1cGxlW0hhc2hhYmxlLCBIYXNoYWJsZV1dKToKICAgICAgICBmb3IgdSwgdiBpbiBlZGdlczoKICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwWyh1LCB2KV0KICAgICAgICAgICAgd2lkZ2V0LnNldFNvdXJjZShOb25lKQogICAgICAgICAgICB3aWRnZXQuc2V0VGFyZ2V0KE5vbmUpCiAgICAgICAgICAgIHNlbGYuc2NlbmUoKS5yZW1vdmVJdGVtKHdpZGdldCkKICAgICAgICAgICAgZGVsIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFsodSwgdildCiAgICAgICAgICAgIGRlbCBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbd2lkZ2V0XQoKICAgIGRlZiBoYW5kbGVFZGdlc1Byb3BlcnRpZXNDaGFuZ2VkKHNlbGYsIGVkZ2VzUHJvcGVydGllcyk6CiAgICAgICAgZm9yIGVkZ2UsIHByb3BlcnRpZXMgaW4gZWRnZXNQcm9wZXJ0aWVzLml0ZW1zKCk6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X2FtcFtlZGdlXQogICAgICAgICAgICAjIHNlbGYuZGVsZWdhdGUoKS5zZXRFZGdlV2lkZ2V0UHJvcHMoc2VsZiwgZWRnZSwgd2lkZ2V0LCAqKnByb3BlcnRpZXMpCgogICAgZGVmIGluaXRpYXRlQ29ubmVjdGlvbihzZWxmLCBzb3VyY2U6IFFHcmFwaGljc0l0ZW0pOgogICAgICAgIHByaW50KCJpbml0aWF0ZUNvbm5lY3Rpb24iKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBmcm9tIGdyYXBoX21vZGVsIGltcG9ydCBHcmFwaE1vZGVsCgogICAgY2xhc3MgRXhhbXBsZUdyYXBoVmlldyhHcmFwaFZpZXcpOgogICAgICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgICAgICBpZiBub3Qgc2VsZi5fZ3JhcGhtb2RlbDoKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICBpdGVtQXRNb3VzZSA9IHNlbGYuaXRlbUF0KGV2ZW50LnBvc2l0aW9uKCkudG9Qb2ludCgpKQogICAgICAgICAgICBpZiBpdGVtQXRNb3VzZToKICAgICAgICAgICAgICAgIHJldHVybiBzdXBlcigpLm1vdXNlRG91YmxlQ2xpY2tFdmVudChldmVudCkKCiAgICAgICAgICAgIGNsaWNrcG9zID0gc2VsZi5tYXBUb1NjZW5lKGV2ZW50LnBvc2l0aW9uKCkudG9Qb2ludCgpKQoKICAgICAgICAgICAgIyBuID0gbWFrZV91bmlxdWVfaWQobGVuZ3RoPTEyKQogICAgICAgICAgICBuID0gbWFrZV91bmlxdWVfbmFtZSgiTk9ERSIsIFtuIGZvciBuIGluIHNlbGYuX2dyYXBobW9kZWwubm9kZXMoKV0pCiAgICAgICAgICAgIHNlbGYuX2dyYXBobW9kZWwuYWRkTm9kZSgKICAgICAgICAgICAgICAgIG4sIGxhYmVsPSJuZXcgbm9kZSIsIGlubGV0cz1bImluIl0sIG91dGxldHM9WyJvdXQiXQogICAgICAgICAgICApCiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQogICAgICAgICAgICB3aWRnZXQuc2V0UG9zKGNsaWNrcG9zKQoKICAgICAgICBkZWYgY3JlYXRlU3RhbmRhcmRDb250ZXh0TWVudShzZWxmLCBzY2VuZVBvczogUVBvaW50RiB8IE5vbmUgPSBOb25lKToKICAgICAgICAgICAgIiIiVGhpcyBmdW5jdGlvbiBjcmVhdGVzIHRoZSBzdGFuZGFyZCBjb250ZXh0IG1lbnUgd2hpY2ggaXMgc2hvd24gd2hlbgogICAgICAgICAgICB0aGUgdXNlciBjbGlja3Mgb24gdGhlIHRleHQgZWRpdCB3aXRoIHRoZSByaWdodCBtb3VzZSBidXR0b24uIEl0IGlzCiAgICAgICAgICAgIGNhbGxlZCBmcm9tIHRoZSBkZWZhdWx0IGNvbnRleHRNZW51RXZlbnQoKSBoYW5kbGVyIGFuZCBpdCB0YWtlcyB0aGUKICAgICAgICAgICAgcG9zaXRpb24gaW4gZG9jdW1lbnQgY29vcmRpbmF0ZXMgd2hlcmUgdGhlIG1vdXNlIGNsaWNrIHdhcy4gVGhpcyBjYW4KICAgICAgICAgICAgZW5hYmxlIGFjdGlvbnMgdGhhdCBhcmUgc2Vuc2l0aXZlIHRvIHRoZSBwb3NpdGlvbiB3aGVyZSB0aGUgdXNlcgogICAgICAgICAgICBjbGlja2VkLiBUaGUgcG9wdXAgbWVudSdzIG93bmVyc2hpcCBpcyB0cmFuc2ZlcnJlZCB0byB0aGUgY2FsbGVyLiIiIgoKICAgICAgICAgICAgZGVmIGNyZWF0ZV9ub2RlKHNjZW5lUG9zOiBRUG9pbnRGIHwgTm9uZSk6CiAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZi5fZ3JhcGhtb2RlbDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIG4gPSBtYWtlX3VuaXF1ZV9uYW1lKAogICAgICAgICAgICAgICAgICAgICJOT0RFIiwgW24gZm9yIG4gaW4gc2VsZi5fZ3JhcGhtb2RlbC5ub2RlcygpXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5hZGROb2RlKAogICAgICAgICAgICAgICAgICAgIG4sIGxhYmVsPSJuZXcgbm9kZSIsIGlubGV0cz1bImluIl0sIG91dGxldHM9WyJvdXQiXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCiAgICAgICAgICAgICAgICB3aWRnZXQuc2V0UG9zKHNjZW5lUG9zIG9yIFFQb2ludEYoMCwgMCkpCgogICAgICAgICAgICBkZWYgY29ubmVjdF9zZWxlY3RlZF9ub2RlcygpOgogICAgICAgICAgICAgICAgaWYgbm90IHNlbGYuX2dyYXBobW9kZWw6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBbaXRlbSBmb3IgaXRlbSBpbiBzZWxmLnNjZW5lKCkuc2VsZWN0ZWRJdGVtcygpXQogICAgICAgICAgICAgICAgaWYgbGVuKHNlbGVjdGlvbikgPCAyOgogICAgICAgICAgICAgICAgICAgIHJldHVybgoKICAgICAgICAgICAgICAgIGZvciBpdGVtIGluIHNlbGVjdGlvblsxOl06CiAgICAgICAgICAgICAgICAgICAgdSA9IHNlbGYuX3dpZGdldF90b19pdGVtX21hcFtzZWxlY3Rpb25bMF1dCiAgICAgICAgICAgICAgICAgICAgdiA9IHNlbGYuX3dpZGdldF90b19pdGVtX21hcFtpdGVtXQogICAgICAgICAgICAgICAgICAgIHNlbGYuX2dyYXBobW9kZWwuYWRkRWRnZSh1LCB2KQoKICAgICAgICAgICAgbWVudSA9IFFNZW51KHNlbGYpCgogICAgICAgICAgICBkZWYgbnVkZ2Vfc2VsZWN0ZWRfbm9kZXMoKToKICAgICAgICAgICAgICAgIGZvciBpdGVtLCB3aWRnZXQgaW4gc2VsZi5faXRlbV90b193aWRnZXRfbWFwLml0ZW1zKCk6CiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0Lm1vdmVCeSgxMCwgMTApCgogICAgICAgICAgICBudWRnZV9hY3Rpb24gPSBRQWN0aW9uKHNlbGYpCiAgICAgICAgICAgIG51ZGdlX2FjdGlvbi5zZXRUZXh0KCJudWRnZSBub2RlcyIpCiAgICAgICAgICAgIG51ZGdlX2FjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGE6IG51ZGdlX3NlbGVjdGVkX25vZGVzKCkpCiAgICAgICAgICAgIG1lbnUuYWRkQWN0aW9uKG51ZGdlX2FjdGlvbikKCiAgICAgICAgICAgIGNyZWF0ZV9hY3Rpb24gPSBRQWN0aW9uKHNlbGYpCiAgICAgICAgICAgIGNyZWF0ZV9hY3Rpb24uc2V0VGV4dCgiY3JlYXRlIG5vZGUiKQogICAgICAgICAgICBjcmVhdGVfYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYTogY3JlYXRlX25vZGUoc2NlbmVQb3MpKQogICAgICAgICAgICBtZW51LmFkZEFjdGlvbihjcmVhdGVfYWN0aW9uKQoKICAgICAgICAgICAgY29ubmVjdF9hY3Rpb24gPSBRQWN0aW9uKHNlbGYpCiAgICAgICAgICAgIGNvbm5lY3RfYWN0aW9uLnNldFRleHQoImNvbm5lY3QiKQogICAgICAgICAgICBjb25uZWN0X2FjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGE6IGNvbm5lY3Rfc2VsZWN0ZWRfbm9kZXMoKSkKICAgICAgICAgICAgbWVudS5hZGRBY3Rpb24oY29ubmVjdF9hY3Rpb24pCiAgICAgICAgICAgIHJldHVybiBtZW51CgogICAgICAgIGRlZiBjb250ZXh0TWVudUV2ZW50KHNlbGYsIGV2ZW50OiBRQ29udGV4dE1lbnVFdmVudCk6CiAgICAgICAgICAgIHZpZXdwb3MgPSBzZWxmLm1hcEZyb21HbG9iYWwoZXZlbnQuZ2xvYmFsUG9zKCkpCiAgICAgICAgICAgIHNjZW5lcG9zID0gc2VsZi5tYXBUb1NjZW5lKHZpZXdwb3MpCiAgICAgICAgICAgIG1lbnUgPSBzZWxmLmNyZWF0ZVN0YW5kYXJkQ29udGV4dE1lbnUoc2NlbmVwb3MpCgogICAgICAgICAgICBtZW51LmV4ZWMoZXZlbnQuZ2xvYmFsUG9zKCkpCgogICAgYXBwID0gUUFwcGxpY2F0aW9uKCkKICAgIHZpZXcgPSBFeGFtcGxlR3JhcGhWaWV3KCkKICAgIG1vZGVsID0gR3JhcGhNb2RlbCgpCiAgICB2aWV3LnNldE1vZGVsKG1vZGVsKQogICAgdmlldy5zaG93KCkKICAgIGFwcC5leGVjKCkK",
					"AQAAAAAAAAABAAAAYggAAAAAAABrCAAAAAAAAAAAAAAAAPC/"
				],
				[
					830,
					1,
					"left_delete",
					null,
					"AQAAAA8EAAAAAAAADwQAAAAAAAABAAAANQ",
					"AQAAAAAAAAABAAAAEAQAAAAAAAAQBAAAAAAAAAAAAAAAAPC/"
				],
				[
					831,
					1,
					"insert",
					{
						"characters": "10"
					},
					"AgAAAA8EAAAAAAAAEAQAAAAAAAAAAAAAEAQAAAAAAAARBAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAADwQAAAAAAAAPBAAAAAAAAAAAAAAAAPC/"
				],
				[
					833,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAOCwAAAAAAAA4LAAAZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKIyBmcm9tIHN0YW5kYXJkX2dyYXBoX2RlbGVnYXRlIGltcG9ydCBTdGFuZGFyZEdyYXBoRGVsZWdhdGUKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9pZCwgbWFrZV91bmlxdWVfbmFtZQoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbAoKZnJvbSBweWxpdmUuUXRHcmFwaEVkaXRvci5OZXRyb3drWEdyYXBoRWRpdG9yLmxpbmtfZ3JhcGhpY3NfaXRlbXMgaW1wb3J0ICgKICAgIG1ha2VMaW5lQmV0d2VlblNoYXBlcywKKQpmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IucWdyYXBoaWNzX2Fycm93X2l0ZW0gaW1wb3J0ICgKICAgIFFHcmFwaGljc0Fycm93SXRlbSwKKQoKCmNsYXNzIFBpbldpZGdldChRR3JhcGhpY3NXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaTogSGFzaGFibGUsCiAgICAgICAgbm9kZTogT3B0aW9uYWxbIk5vZGVXaWRnZXQiXSwKICAgICAgICB2aWV3OiAiR3JhcGhWaWV3IiwKICAgICkgLT4gTm9uZToKICAgICAgICBRR3JhcGhpY3NXaWRnZXQuX19pbml0X18oc2VsZiwgcGFyZW50PW5vZGUpCgogICAgICAgIHNlbGYuX25vZGUgPSBub2RlCiAgICAgICAgc2VsZi5fdmlldyA9IHZpZXcKICAgICAgICBzZWxmLl9pID0gaQoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIHdoaWNoOiBRdC5TaXplSGludCwgY29uc3RyYWludDogUVNpemVGIHwgUVNpemUgPSBRU2l6ZUYoKQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcmV0dXJuIFFTaXplRigyMCwgMjApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsIHBhaW50ZXI6IFFQYWludGVyLCBvcHRpb246IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSwgd2lkZ2V0PU5vbmUKICAgICk6CiAgICAgICAgciA9IDEwCiAgICAgICAgcGFpbnRlci5kcmF3RWxsaXBzZSgwLCAwLCByLCByKQoKICAgIGRlZiBtb3VzZVByZXNzRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICBzZWxmLl92aWV3LmluaXRpYXRlQ29ubmVjdGlvbihzZWxmKQoKCmNsYXNzIE5vZGVXaWRnZXQoUUdyYXBoaWNzV2lkZ2V0KToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgICAgIHZpZXc6ICJHcmFwaFZpZXciLAogICAgICAgIHBhcmVudDogT3B0aW9uYWxbUUdyYXBoaWNzSXRlbV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgIFFHcmFwaGljc1dpZGdldC5fX2luaXRfXyhzZWxmLCBwYXJlbnQ9cGFyZW50KQogICAgICAgIHNlbGYuc2V0RmxhZyhRR3JhcGhpY3NJdGVtLkdyYXBoaWNzSXRlbUZsYWcuSXRlbUlzTW92YWJsZSwgVHJ1ZSkKICAgICAgICBzZWxmLnNldEZsYWcoUUdyYXBoaWNzSXRlbS5HcmFwaGljc0l0ZW1GbGFnLkl0ZW1Jc1NlbGVjdGFibGUsIFRydWUpCiAgICAgICAgc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNGb2N1c2FibGUsIFRydWUpCgogICAgICAgIHNlbGYuX3ZpZXcgPSB2aWV3CiAgICAgICAgc2VsZi5fbiA9IG4KCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBzaXplSGludCgKICAgICAgICBzZWxmLCB3aGljaDogUXQuU2l6ZUhpbnQsIGNvbnN0cmFpbnQ6IFFTaXplRiB8IFFTaXplID0gUVNpemVGKCkKICAgICkgLT4gUVNpemVGOgogICAgICAgIG9wdGlvbiA9IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSgpCiAgICAgICAgb3B0aW9uLmZvbnQgPSBzZWxmLmZvbnQoKQogICAgICAgIHJldHVybiBzZWxmLl92aWV3Ll9kZWxlZ2F0ZS5ub2RlU2l6ZUhpbnQoCiAgICAgICAgICAgIG9wdGlvbiwgc2VsZi5fdmlldy5fZ3JhcGhtb2RlbCwgc2VsZi5fbgogICAgICAgICkKCiAgICBkZWYgcGFpbnQoCiAgICAgICAgc2VsZiwgcGFpbnRlcjogUVBhaW50ZXIsIG9wdGlvbjogUVN0eWxlT3B0aW9uR3JhcGhpY3NJdGVtLCB3aWRnZXQ9Tm9uZQogICAgKToKICAgICAgICBzZWxmLl92aWV3Ll9kZWxlZ2F0ZS5wYWludE5vZGUoCiAgICAgICAgICAgIHBhaW50ZXIsIG9wdGlvbiwgc2VsZi5fdmlldy5fZ3JhcGhtb2RlbCwgc2VsZi5fbgogICAgICAgICkKCiAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRR3JhcGhpY3NTY2VuZU1vdXNlRXZlbnQpIC0+IE5vbmU6CiAgICAgICAgcHJpbnQoInByZXNzIikKICAgICAgICByZXR1cm4gc3VwZXIoKS5tb3VzZVByZXNzRXZlbnQoZXZlbnQpCgoKY2xhc3MgR3JhcGhEZWxlZ2F0ZShRT2JqZWN0KToKICAgIGRlZiBub2RlRmFjdG9yeShzZWxmLCB2aWV3LCBncmFwaCwgbikgLT4gUUdyYXBoaWNzSXRlbToKICAgICAgICByZXR1cm4gTm9kZVdpZGdldCh2aWV3PXZpZXcsIG49bikKCiAgICBkZWYgZWRnZUZhY3RvcnkoCiAgICAgICAgc2VsZiwgdmlldywgZ3JhcGgsIHNvdXJjZV9ub2RlLCB0YXJnZXRfbm9kZQogICAgKSAtPiBRR3JhcGhpY3NJdGVtOgogICAgICAgIGFycm93ID0gUUdyYXBoaWNzQXJyb3dJdGVtKCkKICAgICAgICBwZW4gPSBRUGVuKHZpZXcucGFsZXR0ZSgpLmNvbG9yKFFQYWxldHRlLkNvbG9yUm9sZS5UZXh0KSwgMS41KQogICAgICAgIGFycm93LnNldFBlbihwZW4pCgogICAgICAgIGRlZiB1cGRhdGVfbGluaygpOgogICAgICAgICAgICBhcnJvdy5zZXRMaW5lKAogICAgICAgICAgICAgICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzKAogICAgICAgICAgICAgICAgICAgIHNvdXJjZV9ub2RlLmdlb21ldHJ5KCksIHRhcmdldF9ub2RlLmdlb21ldHJ5KCkKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQoKICAgICAgICB1cGRhdGVfbGluaygpCgogICAgICAgIHNvdXJjZV9ub2RlLmdlb21ldHJ5Q2hhbmdlZC5jb25uZWN0KHVwZGF0ZV9saW5rKQogICAgICAgIHRhcmdldF9ub2RlLmdlb21ldHJ5Q2hhbmdlZC5jb25uZWN0KHVwZGF0ZV9saW5rKQogICAgICAgIHJldHVybiBhcnJvdwoKICAgIGRlZiBub2RlU2l6ZUhpbnQoCiAgICAgICAgc2VsZiwgb3B0aW9uOiBRU3R5bGVPcHRpb25WaWV3SXRlbSwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlCiAgICApIC0+IFFTaXplRjoKICAgICAgICBwYWRkaW5nID0gNAogICAgICAgIGZtID0gUUZvbnRNZXRyaWNzKG9wdGlvbi5mb250KQogICAgICAgIHRleHRfd2lkdGggPSBmbS5ob3Jpem9udGFsQWR2YW5jZShmIntufSIpCiAgICAgICAgcmV0dXJuIFFTaXplRigKICAgICAgICAgICAgcGFkZGluZyArIHRleHRfd2lkdGggKyBwYWRkaW5nLCBwYWRkaW5nICsgZm0uYXNjZW50KCkgKyBwYWRkaW5nCiAgICAgICAgKQoKICAgIGRlZiBwYWludE5vZGUoCiAgICAgICAgc2VsZiwKICAgICAgICBwYWludGVyOiBRUGFpbnRlciwKICAgICAgICBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLAogICAgICAgIGdyYXBoLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgKToKICAgICAgICBwYWRkaW5nID0gNAogICAgICAgICMgZHJhdyBvdXRsaW5lCiAgICAgICAgcGFpbnRlci5kcmF3Um91bmRlZFJlY3Qob3B0aW9uLnJlY3QsIDQsIDQpCgogICAgICAgICMgZHJhdyBub2RlIHRleHQKICAgICAgICBmbSA9IG9wdGlvbi5mb250TWV0cmljcwogICAgICAgIHkgPSBvcHRpb24ucmVjdC5oZWlnaHQoKSAtIHBhZGRpbmcKICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIGYie259IikKICAgICAgICAjIHBhaW50ZXIuZHJhd0xpbmUoMCwgeSwgb3B0aW9uLnJlY3Qud2lkdGgoKSwgeSkgIyBkcmF3IGJhc2VsaW5lCgoKY2xhc3MgR3JhcGhWaWV3KFFHcmFwaGljc1ZpZXcpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudD1Ob25lKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudD1wYXJlbnQpCiAgICAgICAgc2VsZi5zZXRSZW5kZXJIaW50cyhRUGFpbnRlci5BbnRpYWxpYXNpbmcpCiAgICAgICAgc2VsZi5zZXREcmFnTW9kZShRR3JhcGhpY3NWaWV3LkRyYWdNb2RlLlJ1YmJlckJhbmREcmFnKQogICAgICAgIHNjZW5lID0gUUdyYXBoaWNzU2NlbmUoKQogICAgICAgIHNjZW5lLnNldFNjZW5lUmVjdChRUmVjdCgtOTk5OSAvLyAyLCAtOTk5OSAvLyAyLCA5OTk5LCA5OTk5KSkKICAgICAgICBzZWxmLnNldFNjZW5lKHNjZW5lKQogICAgICAgICMgc2NlbmUuaW5zdGFsbEV2ZW50RmlsdGVyKHNlbGYpCiAgICAgICAgc2VsZi5fZGVsZWdhdGUgPSBHcmFwaERlbGVnYXRlKCkKICAgICAgICBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXAgPSBkaWN0KCkKICAgICAgICBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXAgPSBkaWN0KCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsOiBHcmFwaE1vZGVsIHwgTm9uZSA9IE5vbmUKCiAgICBkZWYgbm9kZVdpZGdldChzZWxmLCBuOiBIYXNoYWJsZSk6CiAgICAgICAgcmV0dXJuIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQoKICAgIGRlZiBtb2RlbChzZWxmKSAtPiBHcmFwaE1vZGVsIHwgTm9uZToKICAgICAgICByZXR1cm4gc2VsZi5fZ3JhcGhtb2RlbAoKICAgIGRlZiBzZXRNb2RlbChzZWxmLCBncmFwaG1vZGVsOiBHcmFwaE1vZGVsKToKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsID0gZ3JhcGhtb2RlbAoKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzQWRkZWQuY29ubmVjdChzZWxmLmhhbmRsZU5vZGVzQWRkZWQpCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5ub2Rlc0Fib3V0VG9CZVJlbW92ZWQuY29ubmVjdChzZWxmLmhhbmRsZU5vZGVzUmVtb3ZlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzUHJvcGVydGllc0NoYW5nZWQuY29ubmVjdCgKICAgICAgICAgICAgc2VsZi5oYW5kbGVOb2Rlc1Byb3BlcnRpZXNDaGFuZ2VkCiAgICAgICAgKQoKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmVkZ2VzQWRkZWQuY29ubmVjdChzZWxmLmhhbmRsZUVkZ2VzQWRkZWQpCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5lZGdlc0Fib3V0VG9CZVJlbW92ZWQuY29ubmVjdChzZWxmLmhhbmRsZUVkZ2VzUmVtb3ZlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmVkZ2VzUHJvcGVydGllc0NoYW5nZWQuY29ubmVjdCgKICAgICAgICAgICAgc2VsZi5oYW5kbGVFZGdlc1Byb3BlcnRpZXNDaGFuZ2VkCiAgICAgICAgKQoKICAgIGRlZiBoYW5kbGVOb2Rlc0FkZGVkKHNlbGYsIG5vZGVzOiBMaXN0W0hhc2hhYmxlXSk6CiAgICAgICAgZm9yIG4gaW4gbm9kZXM6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2RlbGVnYXRlLm5vZGVGYWN0b3J5KAogICAgICAgICAgICAgICAgdmlldz1zZWxmLCBncmFwaD1zZWxmLl9ncmFwaG1vZGVsLCBuPW4KICAgICAgICAgICAgKQoKICAgICAgICAgICAgc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dID0gd2lkZ2V0CiAgICAgICAgICAgIHNlbGYuX3dpZGdldF90b19pdGVtX21hcFt3aWRnZXRdID0gbgogICAgICAgICAgICBzZWxmLnNjZW5lKCkuYWRkSXRlbSh3aWRnZXQpCgogICAgZGVmIGhhbmRsZU5vZGVzUmVtb3ZlZChzZWxmLCBub2RlczogTGlzdFtIYXNoYWJsZV0pOgogICAgICAgIGZvciBuIGluIG5vZGVzOgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KICAgICAgICAgICAgc2VsZi5zY2VuZSgpLnJlbW92ZUl0ZW0od2lkZ2V0KQogICAgICAgICAgICBkZWwgc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCiAgICAgICAgICAgIGRlbCBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbd2lkZ2V0XQoKICAgIGRlZiBoYW5kbGVOb2Rlc1Byb3BlcnRpZXNDaGFuZ2VkKHNlbGYsIG5vZGVzUHJvcGVyaWVzKToKICAgICAgICBmb3IgbiwgcHJvcGVydGllcyBpbiBub2Rlc1Byb3Blcmllcy5pdGVtcygpOgogICAgICAgICAgICBub2RlX3dpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQoKICAgICAgICAgICAgZm9yIHByb3AsIHZhbHVlIGluIHByb3BlcnRpZXMuaXRlbXMoKToKICAgICAgICAgICAgICAgIG1hdGNoIHByb3A6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAibGFiZWwiOgogICAgICAgICAgICAgICAgICAgICAgICAuLi4KICAgICAgICAgICAgICAgICAgICBjYXNlICJpbmxldHMiOgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgaW5sZXQgaW4gdmFsdWU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaW4gPSBQaW5XaWRnZXQoaW5sZXQsIG5vZGVfd2lkZ2V0LCBzZWxmKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0ID0gY2FzdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBRR3JhcGhpY3NMaW5lYXJMYXlvdXQsIG5vZGVfd2lkZ2V0LmxheW91dCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQuYWRkSXRlbShwaW4pCgogICAgICAgICAgICAgICAgICAgIGNhc2UgIm91dGxldHMiOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChwcm9wLCB2YWx1ZSkKCiAgICBkZWYgaGFuZGxlRWRnZXNBZGRlZChzZWxmLCBlZGdlczogTGlzdFtUdXBsZVtIYXNoYWJsZSwgSGFzaGFibGVdXSk6CiAgICAgICAgZm9yIHUsIHYgaW4gZWRnZXM6CiAgICAgICAgICAgIHNvdXJjZV9ub2RlID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW3VdCiAgICAgICAgICAgIHRhcmdldF9ub2RlID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW3ZdCgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9kZWxlZ2F0ZS5lZGdlRmFjdG9yeSgKICAgICAgICAgICAgICAgIHNlbGYsIHNlbGYuX2dyYXBobW9kZWwsIHNvdXJjZV9ub2RlLCB0YXJnZXRfbm9kZQogICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbKHUsIHYpXSA9IHdpZGdldAogICAgICAgICAgICBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbd2lkZ2V0XSA9ICh1LCB2KQogICAgICAgICAgICBzZWxmLnNjZW5lKCkuYWRkSXRlbSh3aWRnZXQpCgogICAgZGVmIGhhbmRsZUVkZ2VzUmVtb3ZlZChzZWxmLCBlZGdlczogTGlzdFtUdXBsZVtIYXNoYWJsZSwgSGFzaGFibGVdXSk6CiAgICAgICAgZm9yIHUsIHYgaW4gZWRnZXM6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFsodSwgdildCiAgICAgICAgICAgIHdpZGdldC5zZXRTb3VyY2UoTm9uZSkKICAgICAgICAgICAgd2lkZ2V0LnNldFRhcmdldChOb25lKQogICAgICAgICAgICBzZWxmLnNjZW5lKCkucmVtb3ZlSXRlbSh3aWRnZXQpCiAgICAgICAgICAgIGRlbCBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbKHUsIHYpXQogICAgICAgICAgICBkZWwgc2VsZi5fd2lkZ2V0X3RvX2l0ZW1fbWFwW3dpZGdldF0KCiAgICBkZWYgaGFuZGxlRWRnZXNQcm9wZXJ0aWVzQ2hhbmdlZChzZWxmLCBlZGdlc1Byb3BlcnRpZXMpOgogICAgICAgIGZvciBlZGdlLCBwcm9wZXJ0aWVzIGluIGVkZ2VzUHJvcGVydGllcy5pdGVtcygpOgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9hbXBbZWRnZV0KICAgICAgICAgICAgIyBzZWxmLmRlbGVnYXRlKCkuc2V0RWRnZVdpZGdldFByb3BzKHNlbGYsIGVkZ2UsIHdpZGdldCwgKipwcm9wZXJ0aWVzKQoKICAgIGRlZiBpbml0aWF0ZUNvbm5lY3Rpb24oc2VsZiwgc291cmNlOiBRR3JhcGhpY3NJdGVtKToKICAgICAgICBwcmludCgiaW5pdGlhdGVDb25uZWN0aW9uIikKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbAoKICAgIGNsYXNzIEV4YW1wbGVHcmFwaFZpZXcoR3JhcGhWaWV3KToKICAgICAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAgICAgaWYgbm90IHNlbGYuX2dyYXBobW9kZWw6CiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgaXRlbUF0TW91c2UgPSBzZWxmLml0ZW1BdChldmVudC5wb3NpdGlvbigpLnRvUG9pbnQoKSkKICAgICAgICAgICAgaWYgaXRlbUF0TW91c2U6CiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIoKS5tb3VzZURvdWJsZUNsaWNrRXZlbnQoZXZlbnQpCgogICAgICAgICAgICBjbGlja3BvcyA9IHNlbGYubWFwVG9TY2VuZShldmVudC5wb3NpdGlvbigpLnRvUG9pbnQoKSkKCiAgICAgICAgICAgICMgbiA9IG1ha2VfdW5pcXVlX2lkKGxlbmd0aD0xMikKICAgICAgICAgICAgbiA9IG1ha2VfdW5pcXVlX25hbWUoIk5PREUiLCBbbiBmb3IgbiBpbiBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzKCldKQogICAgICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmFkZE5vZGUoCiAgICAgICAgICAgICAgICBuLCBsYWJlbD0ibmV3IG5vZGUiLCBpbmxldHM9WyJpbiJdLCBvdXRsZXRzPVsib3V0Il0KICAgICAgICAgICAgKQogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KICAgICAgICAgICAgd2lkZ2V0LnNldFBvcyhjbGlja3BvcykKCiAgICAgICAgZGVmIGNyZWF0ZVN0YW5kYXJkQ29udGV4dE1lbnUoc2VsZiwgc2NlbmVQb3M6IFFQb2ludEYgfCBOb25lID0gTm9uZSk6CiAgICAgICAgICAgICIiIlRoaXMgZnVuY3Rpb24gY3JlYXRlcyB0aGUgc3RhbmRhcmQgY29udGV4dCBtZW51IHdoaWNoIGlzIHNob3duIHdoZW4KICAgICAgICAgICAgdGhlIHVzZXIgY2xpY2tzIG9uIHRoZSB0ZXh0IGVkaXQgd2l0aCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uLiBJdCBpcwogICAgICAgICAgICBjYWxsZWQgZnJvbSB0aGUgZGVmYXVsdCBjb250ZXh0TWVudUV2ZW50KCkgaGFuZGxlciBhbmQgaXQgdGFrZXMgdGhlCiAgICAgICAgICAgIHBvc2l0aW9uIGluIGRvY3VtZW50IGNvb3JkaW5hdGVzIHdoZXJlIHRoZSBtb3VzZSBjbGljayB3YXMuIFRoaXMgY2FuCiAgICAgICAgICAgIGVuYWJsZSBhY3Rpb25zIHRoYXQgYXJlIHNlbnNpdGl2ZSB0byB0aGUgcG9zaXRpb24gd2hlcmUgdGhlIHVzZXIKICAgICAgICAgICAgY2xpY2tlZC4gVGhlIHBvcHVwIG1lbnUncyBvd25lcnNoaXAgaXMgdHJhbnNmZXJyZWQgdG8gdGhlIGNhbGxlci4iIiIKCiAgICAgICAgICAgIGRlZiBjcmVhdGVfbm9kZShzY2VuZVBvczogUVBvaW50RiB8IE5vbmUpOgogICAgICAgICAgICAgICAgaWYgbm90IHNlbGYuX2dyYXBobW9kZWw6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBuID0gbWFrZV91bmlxdWVfbmFtZSgKICAgICAgICAgICAgICAgICAgICAiTk9ERSIsIFtuIGZvciBuIGluIHNlbGYuX2dyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHNlbGYuX2dyYXBobW9kZWwuYWRkTm9kZSgKICAgICAgICAgICAgICAgICAgICBuLCBsYWJlbD0ibmV3IG5vZGUiLCBpbmxldHM9WyJpbiJdLCBvdXRsZXRzPVsib3V0Il0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQogICAgICAgICAgICAgICAgd2lkZ2V0LnNldFBvcyhzY2VuZVBvcyBvciBRUG9pbnRGKDAsIDApKQoKICAgICAgICAgICAgZGVmIGNvbm5lY3Rfc2VsZWN0ZWRfbm9kZXMoKToKICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLl9ncmFwaG1vZGVsOgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgc2VsZWN0aW9uID0gW2l0ZW0gZm9yIGl0ZW0gaW4gc2VsZi5zY2VuZSgpLnNlbGVjdGVkSXRlbXMoKV0KICAgICAgICAgICAgICAgIGlmIGxlbihzZWxlY3Rpb24pIDwgMjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4KCiAgICAgICAgICAgICAgICBmb3IgaXRlbSBpbiBzZWxlY3Rpb25bMTpdOgogICAgICAgICAgICAgICAgICAgIHUgPSBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbc2VsZWN0aW9uWzBdXQogICAgICAgICAgICAgICAgICAgIHYgPSBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbaXRlbV0KICAgICAgICAgICAgICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmFkZEVkZ2UodSwgdikKCiAgICAgICAgICAgIG1lbnUgPSBRTWVudShzZWxmKQoKICAgICAgICAgICAgZGVmIG51ZGdlX3NlbGVjdGVkX25vZGVzKCk6CiAgICAgICAgICAgICAgICBmb3IgaXRlbSwgd2lkZ2V0IGluIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcC5pdGVtcygpOgogICAgICAgICAgICAgICAgICAgIHdpZGdldC5tb3ZlQnkoMTAsIDEwKQoKICAgICAgICAgICAgbnVkZ2VfYWN0aW9uID0gUUFjdGlvbihzZWxmKQogICAgICAgICAgICBudWRnZV9hY3Rpb24uc2V0VGV4dCgibnVkZ2Ugbm9kZXMiKQogICAgICAgICAgICBudWRnZV9hY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhOiBudWRnZV9zZWxlY3RlZF9ub2RlcygpKQogICAgICAgICAgICBtZW51LmFkZEFjdGlvbihudWRnZV9hY3Rpb24pCgogICAgICAgICAgICBjcmVhdGVfYWN0aW9uID0gUUFjdGlvbihzZWxmKQogICAgICAgICAgICBjcmVhdGVfYWN0aW9uLnNldFRleHQoImNyZWF0ZSBub2RlIikKICAgICAgICAgICAgY3JlYXRlX2FjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGE6IGNyZWF0ZV9ub2RlKHNjZW5lUG9zKSkKICAgICAgICAgICAgbWVudS5hZGRBY3Rpb24oY3JlYXRlX2FjdGlvbikKCiAgICAgICAgICAgIGNvbm5lY3RfYWN0aW9uID0gUUFjdGlvbihzZWxmKQogICAgICAgICAgICBjb25uZWN0X2FjdGlvbi5zZXRUZXh0KCJjb25uZWN0IikKICAgICAgICAgICAgY29ubmVjdF9hY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhOiBjb25uZWN0X3NlbGVjdGVkX25vZGVzKCkpCiAgICAgICAgICAgIG1lbnUuYWRkQWN0aW9uKGNvbm5lY3RfYWN0aW9uKQogICAgICAgICAgICByZXR1cm4gbWVudQoKICAgICAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgICAgICB2aWV3cG9zID0gc2VsZi5tYXBGcm9tR2xvYmFsKGV2ZW50Lmdsb2JhbFBvcygpKQogICAgICAgICAgICBzY2VuZXBvcyA9IHNlbGYubWFwVG9TY2VuZSh2aWV3cG9zKQogICAgICAgICAgICBtZW51ID0gc2VsZi5jcmVhdGVTdGFuZGFyZENvbnRleHRNZW51KHNjZW5lcG9zKQoKICAgICAgICAgICAgbWVudS5leGVjKGV2ZW50Lmdsb2JhbFBvcygpKQoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICB2aWV3ID0gRXhhbXBsZUdyYXBoVmlldygpCiAgICBtb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgdmlldy5zZXRNb2RlbChtb2RlbCkKICAgIHZpZXcuc2hvdygpCiAgICBhcHAuZXhlYygpCg",
					"AQAAAAAAAAABAAAAEQQAAAAAAAARBAAAAAAAAAAAAAAAAPC/"
				],
				[
					856,
					1,
					"cut",
					null,
					"AQAAAIoMAAAAAAAAigwAAAAAAADZAAAAICAgICAgICBwYWRkaW5nID0gNAogICAgICAgIGZtID0gUUZvbnRNZXRyaWNzKG9wdGlvbi5mb250KQogICAgICAgIHRleHRfd2lkdGggPSBmbS5ob3Jpem9udGFsQWR2YW5jZShmIntufSIpCiAgICAgICAgcmV0dXJuIFFTaXplRigKICAgICAgICAgICAgcGFkZGluZyArIHRleHRfd2lkdGggKyBwYWRkaW5nLCBwYWRkaW5nICsgZm0uYXNjZW50KCkgKyBwYWRkaW5nCiAgICAgICAgKQ",
					"AQAAAAAAAAABAAAAYw0AAAAAAACKDAAAAAAAAAAAAAAAAPC/"
				],
				[
					861,
					1,
					"paste",
					null,
					"AgAAAHAHAAAAAAAASQgAAAAAAAAAAAAASQgAAAAAAABJCAAAAAAAAG8AAAAgICAgICAgIHJldHVybiBzZWxmLl92aWV3Ll9kZWxlZ2F0ZS5ub2RlU2l6ZUhpbnQoCiAgICAgICAgICAgIG9wdGlvbiwgc2VsZi5fdmlldy5fZ3JhcGhtb2RlbCwgc2VsZi5fbgogICAgICAgICk",
					"AQAAAAAAAAABAAAA3wcAAAAAAABwBwAAAAAAAAAAAAAAAPC/"
				],
				[
					866,
					1,
					"cut",
					null,
					"AQAAAGQHAAAAAAAAZAcAAAAAAAALAAAAc2VsZi5mb250KCk",
					"AQAAAAAAAAABAAAAbwcAAAAAAABkBwAAAAAAAAAAAAAAAPC/"
				],
				[
					869,
					1,
					"paste",
					null,
					"AgAAAJMHAAAAAAAAngcAAAAAAAAAAAAAngcAAAAAAACeBwAAAAAAAAsAAABvcHRpb24uZm9udA",
					"AQAAAAAAAAABAAAAngcAAAAAAACTBwAAAAAAAAAAAAAAAPC/"
				],
				[
					873,
					2,
					"left_delete",
					null,
					"AgAAACIHAAAAAAAAIgcAAAAAAABCAAAAICAgICAgICBvcHRpb24gPSBRU3R5bGVPcHRpb25HcmFwaGljc0l0ZW0oKQogICAgICAgIG9wdGlvbi5mb250ID0gIQcAAAAAAAAhBwAAAAAAAAEAAAAK",
					"AQAAAAAAAAABAAAAZAcAAAAAAAAiBwAAAAAAAAAAAAAAAPC/"
				],
				[
					876,
					1,
					"insert",
					{
						"characters": "self._n"
					},
					"BwAAAIoHAAAAAAAAiwcAAAAAAAAAAAAAiwcAAAAAAACMBwAAAAAAAAAAAACMBwAAAAAAAI0HAAAAAAAAAAAAAI0HAAAAAAAAjgcAAAAAAAAAAAAAjgcAAAAAAACPBwAAAAAAAAAAAACPBwAAAAAAAJAHAAAAAAAAAAAAAJAHAAAAAAAAkQcAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAigcAAAAAAACKBwAAAAAAAAAAAAAAAPC/"
				],
				[
					877,
					1,
					"right_delete",
					null,
					"AQAAAJEHAAAAAAAAkQcAAAAAAAABAAAAbg",
					"AQAAAAAAAAABAAAAkQcAAAAAAACRBwAAAAAAAAAAAAAAAPC/"
				],
				[
					884,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAACEHAAAAAAAAIgcAAAAAAAAAAAAAIgcAAAAAAAAmBwAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIQcAAAAAAAAhBwAAAAAAAAAAAAAAAPC/"
				],
				[
					888,
					1,
					"cut",
					null,
					"AQAAAEANAAAAAAAAQA0AAAAAAADvAAAAICAgICAgICBwYWRkaW5nID0gNAogICAgICAgICMgZHJhdyBvdXRsaW5lCiAgICAgICAgcGFpbnRlci5kcmF3Um91bmRlZFJlY3Qob3B0aW9uLnJlY3QsIDQsIDQpCgogICAgICAgICMgZHJhdyBub2RlIHRleHQKICAgICAgICBmbSA9IG9wdGlvbi5mb250TWV0cmljcwogICAgICAgIHkgPSBvcHRpb24ucmVjdC5oZWlnaHQoKSAtIHBhZGRpbmcKICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIGYie259Iik",
					"AQAAAAAAAAABAAAALw4AAAAAAABADQAAAAAAAAAAAAAAAPC/"
				],
				[
					891,
					3,
					"left_delete",
					null,
					"BAAAALMMAAAAAAAAswwAAAAAAADXAAAAICAgIGRlZiBwYWludE5vZGUoCiAgICAgICAgc2VsZiwKICAgICAgICBwYWludGVyOiBRUGFpbnRlciwKICAgICAgICBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLAogICAgICAgIGdyYXBoLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgKToKCiAgICAgICAgIyBwYWludGVyLmRyYXdMaW5lKDAsIHksIG9wdGlvbi5yZWN0LndpZHRoKCksIHkpICMgZHJhdyBiYXNlbGluZQoiBwAAAAAAACIHAAAAAAAABAAAACAgICCuDAAAAAAAAK4MAAAAAAAAAQAAAAqtDAAAAAAAAK0MAAAAAAAAAQAAAAo",
					"AQAAAAAAAAABAAAAig0AAAAAAACzDAAAAAAAAAAAAAAAAPC/"
				],
				[
					895,
					1,
					"left_delete",
					null,
					"AQAAADsMAAAAAAAAOwwAAAAAAABzAAAAICAgIGRlZiBub2RlU2l6ZUhpbnQoCiAgICAgICAgc2VsZiwgb3B0aW9uOiBRU3R5bGVPcHRpb25WaWV3SXRlbSwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlCiAgICApIC0+IFFTaXplRjoKCg",
					"AQAAAAAAAAABAAAArgwAAAAAAAA7DAAAAAAAAAAAAAAAAPC/"
				],
				[
					900,
					1,
					"paste",
					null,
					"AgAAAGkIAAAAAAAAWAkAAAAAAAAAAAAAWAkAAAAAAABYCQAAAAAAAG4AAAAgICAgICAgIHNlbGYuX3ZpZXcuX2RlbGVnYXRlLnBhaW50Tm9kZSgKICAgICAgICAgICAgcGFpbnRlciwgb3B0aW9uLCBzZWxmLl92aWV3Ll9ncmFwaG1vZGVsLCBzZWxmLl9uCiAgICAgICAgKQ",
					"AQAAAAAAAAABAAAA1wgAAAAAAABpCAAAAAAAAAAAAAAAAPC/"
				],
				[
					904,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAxykAAAAAAADIKQAAZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKIyBmcm9tIHN0YW5kYXJkX2dyYXBoX2RlbGVnYXRlIGltcG9ydCBTdGFuZGFyZEdyYXBoRGVsZWdhdGUKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9pZCwgbWFrZV91bmlxdWVfbmFtZQoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbAoKZnJvbSBweWxpdmUuUXRHcmFwaEVkaXRvci5OZXRyb3drWEdyYXBoRWRpdG9yLmxpbmtfZ3JhcGhpY3NfaXRlbXMgaW1wb3J0ICgKICAgIG1ha2VMaW5lQmV0d2VlblNoYXBlcywKKQpmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IucWdyYXBoaWNzX2Fycm93X2l0ZW0gaW1wb3J0ICgKICAgIFFHcmFwaGljc0Fycm93SXRlbSwKKQoKCmNsYXNzIFBpbldpZGdldChRR3JhcGhpY3NXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaTogSGFzaGFibGUsCiAgICAgICAgbm9kZTogT3B0aW9uYWxbIk5vZGVXaWRnZXQiXSwKICAgICAgICB2aWV3OiAiR3JhcGhWaWV3IiwKICAgICkgLT4gTm9uZToKICAgICAgICBRR3JhcGhpY3NXaWRnZXQuX19pbml0X18oc2VsZiwgcGFyZW50PW5vZGUpCgogICAgICAgIHNlbGYuX25vZGUgPSBub2RlCiAgICAgICAgc2VsZi5fdmlldyA9IHZpZXcKICAgICAgICBzZWxmLl9pID0gaQoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIHdoaWNoOiBRdC5TaXplSGludCwgY29uc3RyYWludDogUVNpemVGIHwgUVNpemUgPSBRU2l6ZUYoKQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcmV0dXJuIFFTaXplRigyMCwgMjApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsIHBhaW50ZXI6IFFQYWludGVyLCBvcHRpb246IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSwgd2lkZ2V0PU5vbmUKICAgICk6CiAgICAgICAgciA9IDEwCiAgICAgICAgcGFpbnRlci5kcmF3RWxsaXBzZSgwLCAwLCByLCByKQoKICAgIGRlZiBtb3VzZVByZXNzRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICBzZWxmLl92aWV3LmluaXRpYXRlQ29ubmVjdGlvbihzZWxmKQoKCmNsYXNzIE5vZGVXaWRnZXQoUUdyYXBoaWNzV2lkZ2V0KToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgICAgIHZpZXc6ICJHcmFwaFZpZXciLAogICAgICAgIHBhcmVudDogT3B0aW9uYWxbUUdyYXBoaWNzSXRlbV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgIFFHcmFwaGljc1dpZGdldC5fX2luaXRfXyhzZWxmLCBwYXJlbnQ9cGFyZW50KQogICAgICAgIHNlbGYuc2V0RmxhZyhRR3JhcGhpY3NJdGVtLkdyYXBoaWNzSXRlbUZsYWcuSXRlbUlzTW92YWJsZSwgVHJ1ZSkKICAgICAgICBzZWxmLnNldEZsYWcoUUdyYXBoaWNzSXRlbS5HcmFwaGljc0l0ZW1GbGFnLkl0ZW1Jc1NlbGVjdGFibGUsIFRydWUpCiAgICAgICAgc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNGb2N1c2FibGUsIFRydWUpCgogICAgICAgIHNlbGYuX3ZpZXcgPSB2aWV3CiAgICAgICAgc2VsZi5fbiA9IG4KCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBzaXplSGludCgKICAgICAgICBzZWxmLCB3aGljaDogUXQuU2l6ZUhpbnQsIGNvbnN0cmFpbnQ6IFFTaXplRiB8IFFTaXplID0gUVNpemVGKCkKICAgICkgLT4gUVNpemVGOgoKICAgICAgICBwYWRkaW5nID0gNAogICAgICAgIGZtID0gUUZvbnRNZXRyaWNzKHNlbGYuZm9udCgpKQogICAgICAgIHRleHRfd2lkdGggPSBmbS5ob3Jpem9udGFsQWR2YW5jZShmIntzZWxmLl9ufSIpCiAgICAgICAgcmV0dXJuIFFTaXplRigKICAgICAgICAgICAgcGFkZGluZyArIHRleHRfd2lkdGggKyBwYWRkaW5nLCBwYWRkaW5nICsgZm0uYXNjZW50KCkgKyBwYWRkaW5nCiAgICAgICAgKQoKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLCBwYWludGVyOiBRUGFpbnRlciwgb3B0aW9uOiBRU3R5bGVPcHRpb25HcmFwaGljc0l0ZW0sIHdpZGdldD1Ob25lCiAgICApOgogICAgICAgIHBhZGRpbmcgPSA0CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCiAgICAgICAgIyBkcmF3IG5vZGUgdGV4dAogICAgICAgIGZtID0gb3B0aW9uLmZvbnRNZXRyaWNzCiAgICAgICAgeSA9IG9wdGlvbi5yZWN0LmhlaWdodCgpIC0gcGFkZGluZwogICAgICAgIHBhaW50ZXIuZHJhd1RleHQocGFkZGluZywgeSwgZiJ7bn0iKQoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICBwcmludCgicHJlc3MiKQogICAgICAgIHJldHVybiBzdXBlcigpLm1vdXNlUHJlc3NFdmVudChldmVudCkKCgpjbGFzcyBHcmFwaERlbGVnYXRlKFFPYmplY3QpOgogICAgZGVmIG5vZGVGYWN0b3J5KHNlbGYsIHZpZXcsIGdyYXBoLCBuKSAtPiBRR3JhcGhpY3NJdGVtOgogICAgICAgIHJldHVybiBOb2RlV2lkZ2V0KHZpZXc9dmlldywgbj1uKQoKICAgIGRlZiBlZGdlRmFjdG9yeSgKICAgICAgICBzZWxmLCB2aWV3LCBncmFwaCwgc291cmNlX25vZGUsIHRhcmdldF9ub2RlCiAgICApIC0+IFFHcmFwaGljc0l0ZW06CiAgICAgICAgYXJyb3cgPSBRR3JhcGhpY3NBcnJvd0l0ZW0oKQogICAgICAgIHBlbiA9IFFQZW4odmlldy5wYWxldHRlKCkuY29sb3IoUVBhbGV0dGUuQ29sb3JSb2xlLlRleHQpLCAxLjUpCiAgICAgICAgYXJyb3cuc2V0UGVuKHBlbikKCiAgICAgICAgZGVmIHVwZGF0ZV9saW5rKCk6CiAgICAgICAgICAgIGFycm93LnNldExpbmUoCiAgICAgICAgICAgICAgICBtYWtlTGluZUJldHdlZW5TaGFwZXMoCiAgICAgICAgICAgICAgICAgICAgc291cmNlX25vZGUuZ2VvbWV0cnkoKSwgdGFyZ2V0X25vZGUuZ2VvbWV0cnkoKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCgogICAgICAgIHVwZGF0ZV9saW5rKCkKCiAgICAgICAgc291cmNlX25vZGUuZ2VvbWV0cnlDaGFuZ2VkLmNvbm5lY3QodXBkYXRlX2xpbmspCiAgICAgICAgdGFyZ2V0X25vZGUuZ2VvbWV0cnlDaGFuZ2VkLmNvbm5lY3QodXBkYXRlX2xpbmspCiAgICAgICAgcmV0dXJuIGFycm93CgoKY2xhc3MgR3JhcGhWaWV3KFFHcmFwaGljc1ZpZXcpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudD1Ob25lKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudD1wYXJlbnQpCiAgICAgICAgc2VsZi5zZXRSZW5kZXJIaW50cyhRUGFpbnRlci5BbnRpYWxpYXNpbmcpCiAgICAgICAgc2VsZi5zZXREcmFnTW9kZShRR3JhcGhpY3NWaWV3LkRyYWdNb2RlLlJ1YmJlckJhbmREcmFnKQogICAgICAgIHNjZW5lID0gUUdyYXBoaWNzU2NlbmUoKQogICAgICAgIHNjZW5lLnNldFNjZW5lUmVjdChRUmVjdCgtOTk5OSAvLyAyLCAtOTk5OSAvLyAyLCA5OTk5LCA5OTk5KSkKICAgICAgICBzZWxmLnNldFNjZW5lKHNjZW5lKQogICAgICAgICMgc2NlbmUuaW5zdGFsbEV2ZW50RmlsdGVyKHNlbGYpCiAgICAgICAgc2VsZi5fZGVsZWdhdGUgPSBHcmFwaERlbGVnYXRlKCkKICAgICAgICBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXAgPSBkaWN0KCkKICAgICAgICBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXAgPSBkaWN0KCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsOiBHcmFwaE1vZGVsIHwgTm9uZSA9IE5vbmUKCiAgICBkZWYgbm9kZVdpZGdldChzZWxmLCBuOiBIYXNoYWJsZSk6CiAgICAgICAgcmV0dXJuIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQoKICAgIGRlZiBtb2RlbChzZWxmKSAtPiBHcmFwaE1vZGVsIHwgTm9uZToKICAgICAgICByZXR1cm4gc2VsZi5fZ3JhcGhtb2RlbAoKICAgIGRlZiBzZXRNb2RlbChzZWxmLCBncmFwaG1vZGVsOiBHcmFwaE1vZGVsKToKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsID0gZ3JhcGhtb2RlbAoKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzQWRkZWQuY29ubmVjdChzZWxmLmhhbmRsZU5vZGVzQWRkZWQpCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5ub2Rlc0Fib3V0VG9CZVJlbW92ZWQuY29ubmVjdChzZWxmLmhhbmRsZU5vZGVzUmVtb3ZlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzUHJvcGVydGllc0NoYW5nZWQuY29ubmVjdCgKICAgICAgICAgICAgc2VsZi5oYW5kbGVOb2Rlc1Byb3BlcnRpZXNDaGFuZ2VkCiAgICAgICAgKQoKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmVkZ2VzQWRkZWQuY29ubmVjdChzZWxmLmhhbmRsZUVkZ2VzQWRkZWQpCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5lZGdlc0Fib3V0VG9CZVJlbW92ZWQuY29ubmVjdChzZWxmLmhhbmRsZUVkZ2VzUmVtb3ZlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmVkZ2VzUHJvcGVydGllc0NoYW5nZWQuY29ubmVjdCgKICAgICAgICAgICAgc2VsZi5oYW5kbGVFZGdlc1Byb3BlcnRpZXNDaGFuZ2VkCiAgICAgICAgKQoKICAgIGRlZiBoYW5kbGVOb2Rlc0FkZGVkKHNlbGYsIG5vZGVzOiBMaXN0W0hhc2hhYmxlXSk6CiAgICAgICAgZm9yIG4gaW4gbm9kZXM6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2RlbGVnYXRlLm5vZGVGYWN0b3J5KAogICAgICAgICAgICAgICAgdmlldz1zZWxmLCBncmFwaD1zZWxmLl9ncmFwaG1vZGVsLCBuPW4KICAgICAgICAgICAgKQoKICAgICAgICAgICAgc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dID0gd2lkZ2V0CiAgICAgICAgICAgIHNlbGYuX3dpZGdldF90b19pdGVtX21hcFt3aWRnZXRdID0gbgogICAgICAgICAgICBzZWxmLnNjZW5lKCkuYWRkSXRlbSh3aWRnZXQpCgogICAgZGVmIGhhbmRsZU5vZGVzUmVtb3ZlZChzZWxmLCBub2RlczogTGlzdFtIYXNoYWJsZV0pOgogICAgICAgIGZvciBuIGluIG5vZGVzOgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KICAgICAgICAgICAgc2VsZi5zY2VuZSgpLnJlbW92ZUl0ZW0od2lkZ2V0KQogICAgICAgICAgICBkZWwgc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCiAgICAgICAgICAgIGRlbCBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbd2lkZ2V0XQoKICAgIGRlZiBoYW5kbGVOb2Rlc1Byb3BlcnRpZXNDaGFuZ2VkKHNlbGYsIG5vZGVzUHJvcGVyaWVzKToKICAgICAgICBmb3IgbiwgcHJvcGVydGllcyBpbiBub2Rlc1Byb3Blcmllcy5pdGVtcygpOgogICAgICAgICAgICBub2RlX3dpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQoKICAgICAgICAgICAgZm9yIHByb3AsIHZhbHVlIGluIHByb3BlcnRpZXMuaXRlbXMoKToKICAgICAgICAgICAgICAgIG1hdGNoIHByb3A6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAibGFiZWwiOgogICAgICAgICAgICAgICAgICAgICAgICAuLi4KICAgICAgICAgICAgICAgICAgICBjYXNlICJpbmxldHMiOgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgaW5sZXQgaW4gdmFsdWU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaW4gPSBQaW5XaWRnZXQoaW5sZXQsIG5vZGVfd2lkZ2V0LCBzZWxmKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0ID0gY2FzdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBRR3JhcGhpY3NMaW5lYXJMYXlvdXQsIG5vZGVfd2lkZ2V0LmxheW91dCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQuYWRkSXRlbShwaW4pCgogICAgICAgICAgICAgICAgICAgIGNhc2UgIm91dGxldHMiOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChwcm9wLCB2YWx1ZSkKCiAgICBkZWYgaGFuZGxlRWRnZXNBZGRlZChzZWxmLCBlZGdlczogTGlzdFtUdXBsZVtIYXNoYWJsZSwgSGFzaGFibGVdXSk6CiAgICAgICAgZm9yIHUsIHYgaW4gZWRnZXM6CiAgICAgICAgICAgIHNvdXJjZV9ub2RlID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW3VdCiAgICAgICAgICAgIHRhcmdldF9ub2RlID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW3ZdCgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9kZWxlZ2F0ZS5lZGdlRmFjdG9yeSgKICAgICAgICAgICAgICAgIHNlbGYsIHNlbGYuX2dyYXBobW9kZWwsIHNvdXJjZV9ub2RlLCB0YXJnZXRfbm9kZQogICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbKHUsIHYpXSA9IHdpZGdldAogICAgICAgICAgICBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbd2lkZ2V0XSA9ICh1LCB2KQogICAgICAgICAgICBzZWxmLnNjZW5lKCkuYWRkSXRlbSh3aWRnZXQpCgogICAgZGVmIGhhbmRsZUVkZ2VzUmVtb3ZlZChzZWxmLCBlZGdlczogTGlzdFtUdXBsZVtIYXNoYWJsZSwgSGFzaGFibGVdXSk6CiAgICAgICAgZm9yIHUsIHYgaW4gZWRnZXM6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFsodSwgdildCiAgICAgICAgICAgIHdpZGdldC5zZXRTb3VyY2UoTm9uZSkKICAgICAgICAgICAgd2lkZ2V0LnNldFRhcmdldChOb25lKQogICAgICAgICAgICBzZWxmLnNjZW5lKCkucmVtb3ZlSXRlbSh3aWRnZXQpCiAgICAgICAgICAgIGRlbCBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbKHUsIHYpXQogICAgICAgICAgICBkZWwgc2VsZi5fd2lkZ2V0X3RvX2l0ZW1fbWFwW3dpZGdldF0KCiAgICBkZWYgaGFuZGxlRWRnZXNQcm9wZXJ0aWVzQ2hhbmdlZChzZWxmLCBlZGdlc1Byb3BlcnRpZXMpOgogICAgICAgIGZvciBlZGdlLCBwcm9wZXJ0aWVzIGluIGVkZ2VzUHJvcGVydGllcy5pdGVtcygpOgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9hbXBbZWRnZV0KICAgICAgICAgICAgIyBzZWxmLmRlbGVnYXRlKCkuc2V0RWRnZVdpZGdldFByb3BzKHNlbGYsIGVkZ2UsIHdpZGdldCwgKipwcm9wZXJ0aWVzKQoKICAgIGRlZiBpbml0aWF0ZUNvbm5lY3Rpb24oc2VsZiwgc291cmNlOiBRR3JhcGhpY3NJdGVtKToKICAgICAgICBwcmludCgiaW5pdGlhdGVDb25uZWN0aW9uIikKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbAoKICAgIGNsYXNzIEV4YW1wbGVHcmFwaFZpZXcoR3JhcGhWaWV3KToKICAgICAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAgICAgaWYgbm90IHNlbGYuX2dyYXBobW9kZWw6CiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgaXRlbUF0TW91c2UgPSBzZWxmLml0ZW1BdChldmVudC5wb3NpdGlvbigpLnRvUG9pbnQoKSkKICAgICAgICAgICAgaWYgaXRlbUF0TW91c2U6CiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIoKS5tb3VzZURvdWJsZUNsaWNrRXZlbnQoZXZlbnQpCgogICAgICAgICAgICBjbGlja3BvcyA9IHNlbGYubWFwVG9TY2VuZShldmVudC5wb3NpdGlvbigpLnRvUG9pbnQoKSkKCiAgICAgICAgICAgICMgbiA9IG1ha2VfdW5pcXVlX2lkKGxlbmd0aD0xMikKICAgICAgICAgICAgbiA9IG1ha2VfdW5pcXVlX25hbWUoIk5PREUiLCBbbiBmb3IgbiBpbiBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzKCldKQogICAgICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmFkZE5vZGUoCiAgICAgICAgICAgICAgICBuLCBsYWJlbD0ibmV3IG5vZGUiLCBpbmxldHM9WyJpbiJdLCBvdXRsZXRzPVsib3V0Il0KICAgICAgICAgICAgKQogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KICAgICAgICAgICAgd2lkZ2V0LnNldFBvcyhjbGlja3BvcykKCiAgICAgICAgZGVmIGNyZWF0ZVN0YW5kYXJkQ29udGV4dE1lbnUoc2VsZiwgc2NlbmVQb3M6IFFQb2ludEYgfCBOb25lID0gTm9uZSk6CiAgICAgICAgICAgICIiIlRoaXMgZnVuY3Rpb24gY3JlYXRlcyB0aGUgc3RhbmRhcmQgY29udGV4dCBtZW51IHdoaWNoIGlzIHNob3duIHdoZW4KICAgICAgICAgICAgdGhlIHVzZXIgY2xpY2tzIG9uIHRoZSB0ZXh0IGVkaXQgd2l0aCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uLiBJdCBpcwogICAgICAgICAgICBjYWxsZWQgZnJvbSB0aGUgZGVmYXVsdCBjb250ZXh0TWVudUV2ZW50KCkgaGFuZGxlciBhbmQgaXQgdGFrZXMgdGhlCiAgICAgICAgICAgIHBvc2l0aW9uIGluIGRvY3VtZW50IGNvb3JkaW5hdGVzIHdoZXJlIHRoZSBtb3VzZSBjbGljayB3YXMuIFRoaXMgY2FuCiAgICAgICAgICAgIGVuYWJsZSBhY3Rpb25zIHRoYXQgYXJlIHNlbnNpdGl2ZSB0byB0aGUgcG9zaXRpb24gd2hlcmUgdGhlIHVzZXIKICAgICAgICAgICAgY2xpY2tlZC4gVGhlIHBvcHVwIG1lbnUncyBvd25lcnNoaXAgaXMgdHJhbnNmZXJyZWQgdG8gdGhlIGNhbGxlci4iIiIKCiAgICAgICAgICAgIGRlZiBjcmVhdGVfbm9kZShzY2VuZVBvczogUVBvaW50RiB8IE5vbmUpOgogICAgICAgICAgICAgICAgaWYgbm90IHNlbGYuX2dyYXBobW9kZWw6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBuID0gbWFrZV91bmlxdWVfbmFtZSgKICAgICAgICAgICAgICAgICAgICAiTk9ERSIsIFtuIGZvciBuIGluIHNlbGYuX2dyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHNlbGYuX2dyYXBobW9kZWwuYWRkTm9kZSgKICAgICAgICAgICAgICAgICAgICBuLCBsYWJlbD0ibmV3IG5vZGUiLCBpbmxldHM9WyJpbiJdLCBvdXRsZXRzPVsib3V0Il0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQogICAgICAgICAgICAgICAgd2lkZ2V0LnNldFBvcyhzY2VuZVBvcyBvciBRUG9pbnRGKDAsIDApKQoKICAgICAgICAgICAgZGVmIGNvbm5lY3Rfc2VsZWN0ZWRfbm9kZXMoKToKICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLl9ncmFwaG1vZGVsOgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgc2VsZWN0aW9uID0gW2l0ZW0gZm9yIGl0ZW0gaW4gc2VsZi5zY2VuZSgpLnNlbGVjdGVkSXRlbXMoKV0KICAgICAgICAgICAgICAgIGlmIGxlbihzZWxlY3Rpb24pIDwgMjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4KCiAgICAgICAgICAgICAgICBmb3IgaXRlbSBpbiBzZWxlY3Rpb25bMTpdOgogICAgICAgICAgICAgICAgICAgIHUgPSBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbc2VsZWN0aW9uWzBdXQogICAgICAgICAgICAgICAgICAgIHYgPSBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbaXRlbV0KICAgICAgICAgICAgICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmFkZEVkZ2UodSwgdikKCiAgICAgICAgICAgIG1lbnUgPSBRTWVudShzZWxmKQoKICAgICAgICAgICAgZGVmIG51ZGdlX3NlbGVjdGVkX25vZGVzKCk6CiAgICAgICAgICAgICAgICBmb3IgaXRlbSwgd2lkZ2V0IGluIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcC5pdGVtcygpOgogICAgICAgICAgICAgICAgICAgIHdpZGdldC5tb3ZlQnkoMTAsIDEwKQoKICAgICAgICAgICAgbnVkZ2VfYWN0aW9uID0gUUFjdGlvbihzZWxmKQogICAgICAgICAgICBudWRnZV9hY3Rpb24uc2V0VGV4dCgibnVkZ2Ugbm9kZXMiKQogICAgICAgICAgICBudWRnZV9hY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhOiBudWRnZV9zZWxlY3RlZF9ub2RlcygpKQogICAgICAgICAgICBtZW51LmFkZEFjdGlvbihudWRnZV9hY3Rpb24pCgogICAgICAgICAgICBjcmVhdGVfYWN0aW9uID0gUUFjdGlvbihzZWxmKQogICAgICAgICAgICBjcmVhdGVfYWN0aW9uLnNldFRleHQoImNyZWF0ZSBub2RlIikKICAgICAgICAgICAgY3JlYXRlX2FjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGE6IGNyZWF0ZV9ub2RlKHNjZW5lUG9zKSkKICAgICAgICAgICAgbWVudS5hZGRBY3Rpb24oY3JlYXRlX2FjdGlvbikKCiAgICAgICAgICAgIGNvbm5lY3RfYWN0aW9uID0gUUFjdGlvbihzZWxmKQogICAgICAgICAgICBjb25uZWN0X2FjdGlvbi5zZXRUZXh0KCJjb25uZWN0IikKICAgICAgICAgICAgY29ubmVjdF9hY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhOiBjb25uZWN0X3NlbGVjdGVkX25vZGVzKCkpCiAgICAgICAgICAgIG1lbnUuYWRkQWN0aW9uKGNvbm5lY3RfYWN0aW9uKQogICAgICAgICAgICByZXR1cm4gbWVudQoKICAgICAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgICAgICB2aWV3cG9zID0gc2VsZi5tYXBGcm9tR2xvYmFsKGV2ZW50Lmdsb2JhbFBvcygpKQogICAgICAgICAgICBzY2VuZXBvcyA9IHNlbGYubWFwVG9TY2VuZSh2aWV3cG9zKQogICAgICAgICAgICBtZW51ID0gc2VsZi5jcmVhdGVTdGFuZGFyZENvbnRleHRNZW51KHNjZW5lcG9zKQoKICAgICAgICAgICAgbWVudS5leGVjKGV2ZW50Lmdsb2JhbFBvcygpKQoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICB2aWV3ID0gRXhhbXBsZUdyYXBoVmlldygpCiAgICBtb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgdmlldy5zZXRNb2RlbChtb2RlbCkKICAgIHZpZXcuc2hvdygpCiAgICBhcHAuZXhlYygpCg",
					"AQAAAAAAAAABAAAAxggAAAAAAADGCAAAAAAAAAAAAAAAAPC/"
				],
				[
					910,
					1,
					"insert",
					{
						"characters": "self._"
					},
					"BgAAAFMJAAAAAAAAVAkAAAAAAAAAAAAAVAkAAAAAAABVCQAAAAAAAAAAAABVCQAAAAAAAFYJAAAAAAAAAAAAAFYJAAAAAAAAVwkAAAAAAAAAAAAAVwkAAAAAAABYCQAAAAAAAAAAAABYCQAAAAAAAFkJAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAUwkAAAAAAABTCQAAAAAAAAAAAAAAAPC/"
				],
				[
					912,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAzSkAAAAAAADNKQAAZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKIyBmcm9tIHN0YW5kYXJkX2dyYXBoX2RlbGVnYXRlIGltcG9ydCBTdGFuZGFyZEdyYXBoRGVsZWdhdGUKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9pZCwgbWFrZV91bmlxdWVfbmFtZQoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbAoKZnJvbSBweWxpdmUuUXRHcmFwaEVkaXRvci5OZXRyb3drWEdyYXBoRWRpdG9yLmxpbmtfZ3JhcGhpY3NfaXRlbXMgaW1wb3J0ICgKICAgIG1ha2VMaW5lQmV0d2VlblNoYXBlcywKKQpmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IucWdyYXBoaWNzX2Fycm93X2l0ZW0gaW1wb3J0ICgKICAgIFFHcmFwaGljc0Fycm93SXRlbSwKKQoKCmNsYXNzIFBpbldpZGdldChRR3JhcGhpY3NXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaTogSGFzaGFibGUsCiAgICAgICAgbm9kZTogT3B0aW9uYWxbIk5vZGVXaWRnZXQiXSwKICAgICAgICB2aWV3OiAiR3JhcGhWaWV3IiwKICAgICkgLT4gTm9uZToKICAgICAgICBRR3JhcGhpY3NXaWRnZXQuX19pbml0X18oc2VsZiwgcGFyZW50PW5vZGUpCgogICAgICAgIHNlbGYuX25vZGUgPSBub2RlCiAgICAgICAgc2VsZi5fdmlldyA9IHZpZXcKICAgICAgICBzZWxmLl9pID0gaQoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIHdoaWNoOiBRdC5TaXplSGludCwgY29uc3RyYWludDogUVNpemVGIHwgUVNpemUgPSBRU2l6ZUYoKQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcmV0dXJuIFFTaXplRigyMCwgMjApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsIHBhaW50ZXI6IFFQYWludGVyLCBvcHRpb246IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSwgd2lkZ2V0PU5vbmUKICAgICk6CiAgICAgICAgciA9IDEwCiAgICAgICAgcGFpbnRlci5kcmF3RWxsaXBzZSgwLCAwLCByLCByKQoKICAgIGRlZiBtb3VzZVByZXNzRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICBzZWxmLl92aWV3LmluaXRpYXRlQ29ubmVjdGlvbihzZWxmKQoKCmNsYXNzIE5vZGVXaWRnZXQoUUdyYXBoaWNzV2lkZ2V0KToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgICAgIHZpZXc6ICJHcmFwaFZpZXciLAogICAgICAgIHBhcmVudDogT3B0aW9uYWxbUUdyYXBoaWNzSXRlbV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgIFFHcmFwaGljc1dpZGdldC5fX2luaXRfXyhzZWxmLCBwYXJlbnQ9cGFyZW50KQogICAgICAgIHNlbGYuc2V0RmxhZyhRR3JhcGhpY3NJdGVtLkdyYXBoaWNzSXRlbUZsYWcuSXRlbUlzTW92YWJsZSwgVHJ1ZSkKICAgICAgICBzZWxmLnNldEZsYWcoUUdyYXBoaWNzSXRlbS5HcmFwaGljc0l0ZW1GbGFnLkl0ZW1Jc1NlbGVjdGFibGUsIFRydWUpCiAgICAgICAgc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNGb2N1c2FibGUsIFRydWUpCgogICAgICAgIHNlbGYuX3ZpZXcgPSB2aWV3CiAgICAgICAgc2VsZi5fbiA9IG4KCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBzaXplSGludCgKICAgICAgICBzZWxmLCB3aGljaDogUXQuU2l6ZUhpbnQsIGNvbnN0cmFpbnQ6IFFTaXplRiB8IFFTaXplID0gUVNpemVGKCkKICAgICkgLT4gUVNpemVGOgogICAgICAgIHBhZGRpbmcgPSA0CiAgICAgICAgZm0gPSBRRm9udE1ldHJpY3Moc2VsZi5mb250KCkpCiAgICAgICAgdGV4dF93aWR0aCA9IGZtLmhvcml6b250YWxBZHZhbmNlKGYie3NlbGYuX259IikKICAgICAgICByZXR1cm4gUVNpemVGKAogICAgICAgICAgICBwYWRkaW5nICsgdGV4dF93aWR0aCArIHBhZGRpbmcsIHBhZGRpbmcgKyBmbS5hc2NlbnQoKSArIHBhZGRpbmcKICAgICAgICApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsIHBhaW50ZXI6IFFQYWludGVyLCBvcHRpb246IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSwgd2lkZ2V0PU5vbmUKICAgICk6CiAgICAgICAgcGFkZGluZyA9IDQKICAgICAgICAjIGRyYXcgb3V0bGluZQogICAgICAgIHBhaW50ZXIuZHJhd1JvdW5kZWRSZWN0KG9wdGlvbi5yZWN0LCA0LCA0KQoKICAgICAgICAjIGRyYXcgbm9kZSB0ZXh0CiAgICAgICAgZm0gPSBvcHRpb24uZm9udE1ldHJpY3MKICAgICAgICB5ID0gb3B0aW9uLnJlY3QuaGVpZ2h0KCkgLSBwYWRkaW5nCiAgICAgICAgcGFpbnRlci5kcmF3VGV4dChwYWRkaW5nLCB5LCBmIntzZWxmLl9ufSIpCgogICAgZGVmIG1vdXNlRG91YmxlQ2xpY2tFdmVudChzZWxmLCBldmVudDogUUdyYXBoaWNzU2NlbmVNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgIHByaW50KCJwcmVzcyIpCiAgICAgICAgcmV0dXJuIHN1cGVyKCkubW91c2VQcmVzc0V2ZW50KGV2ZW50KQoKCmNsYXNzIEdyYXBoRGVsZWdhdGUoUU9iamVjdCk6CiAgICBkZWYgbm9kZUZhY3Rvcnkoc2VsZiwgdmlldywgZ3JhcGgsIG4pIC0+IFFHcmFwaGljc0l0ZW06CiAgICAgICAgcmV0dXJuIE5vZGVXaWRnZXQodmlldz12aWV3LCBuPW4pCgogICAgZGVmIGVkZ2VGYWN0b3J5KAogICAgICAgIHNlbGYsIHZpZXcsIGdyYXBoLCBzb3VyY2Vfbm9kZSwgdGFyZ2V0X25vZGUKICAgICkgLT4gUUdyYXBoaWNzSXRlbToKICAgICAgICBhcnJvdyA9IFFHcmFwaGljc0Fycm93SXRlbSgpCiAgICAgICAgcGVuID0gUVBlbih2aWV3LnBhbGV0dGUoKS5jb2xvcihRUGFsZXR0ZS5Db2xvclJvbGUuVGV4dCksIDEuNSkKICAgICAgICBhcnJvdy5zZXRQZW4ocGVuKQoKICAgICAgICBkZWYgdXBkYXRlX2xpbmsoKToKICAgICAgICAgICAgYXJyb3cuc2V0TGluZSgKICAgICAgICAgICAgICAgIG1ha2VMaW5lQmV0d2VlblNoYXBlcygKICAgICAgICAgICAgICAgICAgICBzb3VyY2Vfbm9kZS5nZW9tZXRyeSgpLCB0YXJnZXRfbm9kZS5nZW9tZXRyeSgpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKCiAgICAgICAgdXBkYXRlX2xpbmsoKQoKICAgICAgICBzb3VyY2Vfbm9kZS5nZW9tZXRyeUNoYW5nZWQuY29ubmVjdCh1cGRhdGVfbGluaykKICAgICAgICB0YXJnZXRfbm9kZS5nZW9tZXRyeUNoYW5nZWQuY29ubmVjdCh1cGRhdGVfbGluaykKICAgICAgICByZXR1cm4gYXJyb3cKCgpjbGFzcyBHcmFwaFZpZXcoUUdyYXBoaWNzVmlldyk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50PU5vbmUpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBzZWxmLnNldFJlbmRlckhpbnRzKFFQYWludGVyLkFudGlhbGlhc2luZykKICAgICAgICBzZWxmLnNldERyYWdNb2RlKFFHcmFwaGljc1ZpZXcuRHJhZ01vZGUuUnViYmVyQmFuZERyYWcpCiAgICAgICAgc2NlbmUgPSBRR3JhcGhpY3NTY2VuZSgpCiAgICAgICAgc2NlbmUuc2V0U2NlbmVSZWN0KFFSZWN0KC05OTk5IC8vIDIsIC05OTk5IC8vIDIsIDk5OTksIDk5OTkpKQogICAgICAgIHNlbGYuc2V0U2NlbmUoc2NlbmUpCiAgICAgICAgIyBzY2VuZS5pbnN0YWxsRXZlbnRGaWx0ZXIoc2VsZikKICAgICAgICBzZWxmLl9kZWxlZ2F0ZSA9IEdyYXBoRGVsZWdhdGUoKQogICAgICAgIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcCA9IGRpY3QoKQogICAgICAgIHNlbGYuX3dpZGdldF90b19pdGVtX21hcCA9IGRpY3QoKQogICAgICAgIHNlbGYuX2dyYXBobW9kZWw6IEdyYXBoTW9kZWwgfCBOb25lID0gTm9uZQoKICAgIGRlZiBub2RlV2lkZ2V0KHNlbGYsIG46IEhhc2hhYmxlKToKICAgICAgICByZXR1cm4gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCgogICAgZGVmIG1vZGVsKHNlbGYpIC0+IEdyYXBoTW9kZWwgfCBOb25lOgogICAgICAgIHJldHVybiBzZWxmLl9ncmFwaG1vZGVsCgogICAgZGVmIHNldE1vZGVsKHNlbGYsIGdyYXBobW9kZWw6IEdyYXBoTW9kZWwpOgogICAgICAgIHNlbGYuX2dyYXBobW9kZWwgPSBncmFwaG1vZGVsCgogICAgICAgIHNlbGYuX2dyYXBobW9kZWwubm9kZXNBZGRlZC5jb25uZWN0KHNlbGYuaGFuZGxlTm9kZXNBZGRlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzQWJvdXRUb0JlUmVtb3ZlZC5jb25uZWN0KHNlbGYuaGFuZGxlTm9kZXNSZW1vdmVkKQogICAgICAgIHNlbGYuX2dyYXBobW9kZWwubm9kZXNQcm9wZXJ0aWVzQ2hhbmdlZC5jb25uZWN0KAogICAgICAgICAgICBzZWxmLmhhbmRsZU5vZGVzUHJvcGVydGllc0NoYW5nZWQKICAgICAgICApCgogICAgICAgIHNlbGYuX2dyYXBobW9kZWwuZWRnZXNBZGRlZC5jb25uZWN0KHNlbGYuaGFuZGxlRWRnZXNBZGRlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmVkZ2VzQWJvdXRUb0JlUmVtb3ZlZC5jb25uZWN0KHNlbGYuaGFuZGxlRWRnZXNSZW1vdmVkKQogICAgICAgIHNlbGYuX2dyYXBobW9kZWwuZWRnZXNQcm9wZXJ0aWVzQ2hhbmdlZC5jb25uZWN0KAogICAgICAgICAgICBzZWxmLmhhbmRsZUVkZ2VzUHJvcGVydGllc0NoYW5nZWQKICAgICAgICApCgogICAgZGVmIGhhbmRsZU5vZGVzQWRkZWQoc2VsZiwgbm9kZXM6IExpc3RbSGFzaGFibGVdKToKICAgICAgICBmb3IgbiBpbiBub2RlczoKICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5fZGVsZWdhdGUubm9kZUZhY3RvcnkoCiAgICAgICAgICAgICAgICB2aWV3PXNlbGYsIGdyYXBoPXNlbGYuX2dyYXBobW9kZWwsIG49bgogICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0gPSB3aWRnZXQKICAgICAgICAgICAgc2VsZi5fd2lkZ2V0X3RvX2l0ZW1fbWFwW3dpZGdldF0gPSBuCiAgICAgICAgICAgIHNlbGYuc2NlbmUoKS5hZGRJdGVtKHdpZGdldCkKCiAgICBkZWYgaGFuZGxlTm9kZXNSZW1vdmVkKHNlbGYsIG5vZGVzOiBMaXN0W0hhc2hhYmxlXSk6CiAgICAgICAgZm9yIG4gaW4gbm9kZXM6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQogICAgICAgICAgICBzZWxmLnNjZW5lKCkucmVtb3ZlSXRlbSh3aWRnZXQpCiAgICAgICAgICAgIGRlbCBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KICAgICAgICAgICAgZGVsIHNlbGYuX3dpZGdldF90b19pdGVtX21hcFt3aWRnZXRdCgogICAgZGVmIGhhbmRsZU5vZGVzUHJvcGVydGllc0NoYW5nZWQoc2VsZiwgbm9kZXNQcm9wZXJpZXMpOgogICAgICAgIGZvciBuLCBwcm9wZXJ0aWVzIGluIG5vZGVzUHJvcGVyaWVzLml0ZW1zKCk6CiAgICAgICAgICAgIG5vZGVfd2lkZ2V0ID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCgogICAgICAgICAgICBmb3IgcHJvcCwgdmFsdWUgaW4gcHJvcGVydGllcy5pdGVtcygpOgogICAgICAgICAgICAgICAgbWF0Y2ggcHJvcDoKICAgICAgICAgICAgICAgICAgICBjYXNlICJsYWJlbCI6CiAgICAgICAgICAgICAgICAgICAgICAgIC4uLgogICAgICAgICAgICAgICAgICAgIGNhc2UgImlubGV0cyI6CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpbmxldCBpbiB2YWx1ZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpbiA9IFBpbldpZGdldChpbmxldCwgbm9kZV93aWRnZXQsIHNlbGYpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQgPSBjYXN0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFFHcmFwaGljc0xpbmVhckxheW91dCwgbm9kZV93aWRnZXQubGF5b3V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dC5hZGRJdGVtKHBpbikKCiAgICAgICAgICAgICAgICAgICAgY2FzZSAib3V0bGV0cyI6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KHByb3AsIHZhbHVlKQoKICAgIGRlZiBoYW5kbGVFZGdlc0FkZGVkKHNlbGYsIGVkZ2VzOiBMaXN0W1R1cGxlW0hhc2hhYmxlLCBIYXNoYWJsZV1dKToKICAgICAgICBmb3IgdSwgdiBpbiBlZGdlczoKICAgICAgICAgICAgc291cmNlX25vZGUgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbdV0KICAgICAgICAgICAgdGFyZ2V0X25vZGUgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbdl0KCiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2RlbGVnYXRlLmVkZ2VGYWN0b3J5KAogICAgICAgICAgICAgICAgc2VsZiwgc2VsZi5fZ3JhcGhtb2RlbCwgc291cmNlX25vZGUsIHRhcmdldF9ub2RlCiAgICAgICAgICAgICkKCiAgICAgICAgICAgIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFsodSwgdildID0gd2lkZ2V0CiAgICAgICAgICAgIHNlbGYuX3dpZGdldF90b19pdGVtX21hcFt3aWRnZXRdID0gKHUsIHYpCiAgICAgICAgICAgIHNlbGYuc2NlbmUoKS5hZGRJdGVtKHdpZGdldCkKCiAgICBkZWYgaGFuZGxlRWRnZXNSZW1vdmVkKHNlbGYsIGVkZ2VzOiBMaXN0W1R1cGxlW0hhc2hhYmxlLCBIYXNoYWJsZV1dKToKICAgICAgICBmb3IgdSwgdiBpbiBlZGdlczoKICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwWyh1LCB2KV0KICAgICAgICAgICAgd2lkZ2V0LnNldFNvdXJjZShOb25lKQogICAgICAgICAgICB3aWRnZXQuc2V0VGFyZ2V0KE5vbmUpCiAgICAgICAgICAgIHNlbGYuc2NlbmUoKS5yZW1vdmVJdGVtKHdpZGdldCkKICAgICAgICAgICAgZGVsIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFsodSwgdildCiAgICAgICAgICAgIGRlbCBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbd2lkZ2V0XQoKICAgIGRlZiBoYW5kbGVFZGdlc1Byb3BlcnRpZXNDaGFuZ2VkKHNlbGYsIGVkZ2VzUHJvcGVydGllcyk6CiAgICAgICAgZm9yIGVkZ2UsIHByb3BlcnRpZXMgaW4gZWRnZXNQcm9wZXJ0aWVzLml0ZW1zKCk6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X2FtcFtlZGdlXQogICAgICAgICAgICAjIHNlbGYuZGVsZWdhdGUoKS5zZXRFZGdlV2lkZ2V0UHJvcHMoc2VsZiwgZWRnZSwgd2lkZ2V0LCAqKnByb3BlcnRpZXMpCgogICAgZGVmIGluaXRpYXRlQ29ubmVjdGlvbihzZWxmLCBzb3VyY2U6IFFHcmFwaGljc0l0ZW0pOgogICAgICAgIHByaW50KCJpbml0aWF0ZUNvbm5lY3Rpb24iKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBmcm9tIGdyYXBoX21vZGVsIGltcG9ydCBHcmFwaE1vZGVsCgogICAgY2xhc3MgRXhhbXBsZUdyYXBoVmlldyhHcmFwaFZpZXcpOgogICAgICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgICAgICBpZiBub3Qgc2VsZi5fZ3JhcGhtb2RlbDoKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICBpdGVtQXRNb3VzZSA9IHNlbGYuaXRlbUF0KGV2ZW50LnBvc2l0aW9uKCkudG9Qb2ludCgpKQogICAgICAgICAgICBpZiBpdGVtQXRNb3VzZToKICAgICAgICAgICAgICAgIHJldHVybiBzdXBlcigpLm1vdXNlRG91YmxlQ2xpY2tFdmVudChldmVudCkKCiAgICAgICAgICAgIGNsaWNrcG9zID0gc2VsZi5tYXBUb1NjZW5lKGV2ZW50LnBvc2l0aW9uKCkudG9Qb2ludCgpKQoKICAgICAgICAgICAgIyBuID0gbWFrZV91bmlxdWVfaWQobGVuZ3RoPTEyKQogICAgICAgICAgICBuID0gbWFrZV91bmlxdWVfbmFtZSgiTk9ERSIsIFtuIGZvciBuIGluIHNlbGYuX2dyYXBobW9kZWwubm9kZXMoKV0pCiAgICAgICAgICAgIHNlbGYuX2dyYXBobW9kZWwuYWRkTm9kZSgKICAgICAgICAgICAgICAgIG4sIGxhYmVsPSJuZXcgbm9kZSIsIGlubGV0cz1bImluIl0sIG91dGxldHM9WyJvdXQiXQogICAgICAgICAgICApCiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQogICAgICAgICAgICB3aWRnZXQuc2V0UG9zKGNsaWNrcG9zKQoKICAgICAgICBkZWYgY3JlYXRlU3RhbmRhcmRDb250ZXh0TWVudShzZWxmLCBzY2VuZVBvczogUVBvaW50RiB8IE5vbmUgPSBOb25lKToKICAgICAgICAgICAgIiIiVGhpcyBmdW5jdGlvbiBjcmVhdGVzIHRoZSBzdGFuZGFyZCBjb250ZXh0IG1lbnUgd2hpY2ggaXMgc2hvd24gd2hlbgogICAgICAgICAgICB0aGUgdXNlciBjbGlja3Mgb24gdGhlIHRleHQgZWRpdCB3aXRoIHRoZSByaWdodCBtb3VzZSBidXR0b24uIEl0IGlzCiAgICAgICAgICAgIGNhbGxlZCBmcm9tIHRoZSBkZWZhdWx0IGNvbnRleHRNZW51RXZlbnQoKSBoYW5kbGVyIGFuZCBpdCB0YWtlcyB0aGUKICAgICAgICAgICAgcG9zaXRpb24gaW4gZG9jdW1lbnQgY29vcmRpbmF0ZXMgd2hlcmUgdGhlIG1vdXNlIGNsaWNrIHdhcy4gVGhpcyBjYW4KICAgICAgICAgICAgZW5hYmxlIGFjdGlvbnMgdGhhdCBhcmUgc2Vuc2l0aXZlIHRvIHRoZSBwb3NpdGlvbiB3aGVyZSB0aGUgdXNlcgogICAgICAgICAgICBjbGlja2VkLiBUaGUgcG9wdXAgbWVudSdzIG93bmVyc2hpcCBpcyB0cmFuc2ZlcnJlZCB0byB0aGUgY2FsbGVyLiIiIgoKICAgICAgICAgICAgZGVmIGNyZWF0ZV9ub2RlKHNjZW5lUG9zOiBRUG9pbnRGIHwgTm9uZSk6CiAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZi5fZ3JhcGhtb2RlbDoKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIG4gPSBtYWtlX3VuaXF1ZV9uYW1lKAogICAgICAgICAgICAgICAgICAgICJOT0RFIiwgW24gZm9yIG4gaW4gc2VsZi5fZ3JhcGhtb2RlbC5ub2RlcygpXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5hZGROb2RlKAogICAgICAgICAgICAgICAgICAgIG4sIGxhYmVsPSJuZXcgbm9kZSIsIGlubGV0cz1bImluIl0sIG91dGxldHM9WyJvdXQiXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgd2lkZ2V0ID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCiAgICAgICAgICAgICAgICB3aWRnZXQuc2V0UG9zKHNjZW5lUG9zIG9yIFFQb2ludEYoMCwgMCkpCgogICAgICAgICAgICBkZWYgY29ubmVjdF9zZWxlY3RlZF9ub2RlcygpOgogICAgICAgICAgICAgICAgaWYgbm90IHNlbGYuX2dyYXBobW9kZWw6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBbaXRlbSBmb3IgaXRlbSBpbiBzZWxmLnNjZW5lKCkuc2VsZWN0ZWRJdGVtcygpXQogICAgICAgICAgICAgICAgaWYgbGVuKHNlbGVjdGlvbikgPCAyOgogICAgICAgICAgICAgICAgICAgIHJldHVybgoKICAgICAgICAgICAgICAgIGZvciBpdGVtIGluIHNlbGVjdGlvblsxOl06CiAgICAgICAgICAgICAgICAgICAgdSA9IHNlbGYuX3dpZGdldF90b19pdGVtX21hcFtzZWxlY3Rpb25bMF1dCiAgICAgICAgICAgICAgICAgICAgdiA9IHNlbGYuX3dpZGdldF90b19pdGVtX21hcFtpdGVtXQogICAgICAgICAgICAgICAgICAgIHNlbGYuX2dyYXBobW9kZWwuYWRkRWRnZSh1LCB2KQoKICAgICAgICAgICAgbWVudSA9IFFNZW51KHNlbGYpCgogICAgICAgICAgICBkZWYgbnVkZ2Vfc2VsZWN0ZWRfbm9kZXMoKToKICAgICAgICAgICAgICAgIGZvciBpdGVtLCB3aWRnZXQgaW4gc2VsZi5faXRlbV90b193aWRnZXRfbWFwLml0ZW1zKCk6CiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0Lm1vdmVCeSgxMCwgMTApCgogICAgICAgICAgICBudWRnZV9hY3Rpb24gPSBRQWN0aW9uKHNlbGYpCiAgICAgICAgICAgIG51ZGdlX2FjdGlvbi5zZXRUZXh0KCJudWRnZSBub2RlcyIpCiAgICAgICAgICAgIG51ZGdlX2FjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGE6IG51ZGdlX3NlbGVjdGVkX25vZGVzKCkpCiAgICAgICAgICAgIG1lbnUuYWRkQWN0aW9uKG51ZGdlX2FjdGlvbikKCiAgICAgICAgICAgIGNyZWF0ZV9hY3Rpb24gPSBRQWN0aW9uKHNlbGYpCiAgICAgICAgICAgIGNyZWF0ZV9hY3Rpb24uc2V0VGV4dCgiY3JlYXRlIG5vZGUiKQogICAgICAgICAgICBjcmVhdGVfYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYTogY3JlYXRlX25vZGUoc2NlbmVQb3MpKQogICAgICAgICAgICBtZW51LmFkZEFjdGlvbihjcmVhdGVfYWN0aW9uKQoKICAgICAgICAgICAgY29ubmVjdF9hY3Rpb24gPSBRQWN0aW9uKHNlbGYpCiAgICAgICAgICAgIGNvbm5lY3RfYWN0aW9uLnNldFRleHQoImNvbm5lY3QiKQogICAgICAgICAgICBjb25uZWN0X2FjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGE6IGNvbm5lY3Rfc2VsZWN0ZWRfbm9kZXMoKSkKICAgICAgICAgICAgbWVudS5hZGRBY3Rpb24oY29ubmVjdF9hY3Rpb24pCiAgICAgICAgICAgIHJldHVybiBtZW51CgogICAgICAgIGRlZiBjb250ZXh0TWVudUV2ZW50KHNlbGYsIGV2ZW50OiBRQ29udGV4dE1lbnVFdmVudCk6CiAgICAgICAgICAgIHZpZXdwb3MgPSBzZWxmLm1hcEZyb21HbG9iYWwoZXZlbnQuZ2xvYmFsUG9zKCkpCiAgICAgICAgICAgIHNjZW5lcG9zID0gc2VsZi5tYXBUb1NjZW5lKHZpZXdwb3MpCiAgICAgICAgICAgIG1lbnUgPSBzZWxmLmNyZWF0ZVN0YW5kYXJkQ29udGV4dE1lbnUoc2NlbmVwb3MpCgogICAgICAgICAgICBtZW51LmV4ZWMoZXZlbnQuZ2xvYmFsUG9zKCkpCgogICAgYXBwID0gUUFwcGxpY2F0aW9uKCkKICAgIHZpZXcgPSBFeGFtcGxlR3JhcGhWaWV3KCkKICAgIG1vZGVsID0gR3JhcGhNb2RlbCgpCiAgICB2aWV3LnNldE1vZGVsKG1vZGVsKQogICAgdmlldy5zaG93KCkKICAgIGFwcC5leGVjKCkK",
					"AQAAAAAAAAABAAAAWQkAAAAAAABZCQAAAAAAAAAAAAAAAPC/"
				],
				[
					923,
					1,
					"cut",
					null,
					"AQAAAMcIAAAAAAAAxwgAAAAAAACWAAAAICAgICAgICAjIGRyYXcgbm9kZSB0ZXh0CiAgICAgICAgZm0gPSBvcHRpb24uZm9udE1ldHJpY3MKICAgICAgICB5ID0gb3B0aW9uLnJlY3QuaGVpZ2h0KCkgLSBwYWRkaW5nCiAgICAgICAgcGFpbnRlci5kcmF3VGV4dChwYWRkaW5nLCB5LCBmIntzZWxmLl9ufSIp",
					"AQAAAAAAAAABAAAAXQkAAAAAAADHCAAAAAAAAAAAAAAAAPC/"
				],
				[
					924,
					2,
					"left_delete",
					null,
					"AgAAAMYIAAAAAAAAxggAAAAAAAABAAAACsUIAAAAAAAAxQgAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAxwgAAAAAAADHCAAAAAAAAAAAAAAAAPC/"
				],
				[
					926,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAANSkAAAAAAAA1KQAAZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKIyBmcm9tIHN0YW5kYXJkX2dyYXBoX2RlbGVnYXRlIGltcG9ydCBTdGFuZGFyZEdyYXBoRGVsZWdhdGUKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9pZCwgbWFrZV91bmlxdWVfbmFtZQoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbAoKZnJvbSBweWxpdmUuUXRHcmFwaEVkaXRvci5OZXRyb3drWEdyYXBoRWRpdG9yLmxpbmtfZ3JhcGhpY3NfaXRlbXMgaW1wb3J0ICgKICAgIG1ha2VMaW5lQmV0d2VlblNoYXBlcywKKQpmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IucWdyYXBoaWNzX2Fycm93X2l0ZW0gaW1wb3J0ICgKICAgIFFHcmFwaGljc0Fycm93SXRlbSwKKQoKCmNsYXNzIFBpbldpZGdldChRR3JhcGhpY3NXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaTogSGFzaGFibGUsCiAgICAgICAgbm9kZTogT3B0aW9uYWxbIk5vZGVXaWRnZXQiXSwKICAgICAgICB2aWV3OiAiR3JhcGhWaWV3IiwKICAgICkgLT4gTm9uZToKICAgICAgICBRR3JhcGhpY3NXaWRnZXQuX19pbml0X18oc2VsZiwgcGFyZW50PW5vZGUpCgogICAgICAgIHNlbGYuX25vZGUgPSBub2RlCiAgICAgICAgc2VsZi5fdmlldyA9IHZpZXcKICAgICAgICBzZWxmLl9pID0gaQoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIHdoaWNoOiBRdC5TaXplSGludCwgY29uc3RyYWludDogUVNpemVGIHwgUVNpemUgPSBRU2l6ZUYoKQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcmV0dXJuIFFTaXplRigyMCwgMjApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsIHBhaW50ZXI6IFFQYWludGVyLCBvcHRpb246IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSwgd2lkZ2V0PU5vbmUKICAgICk6CiAgICAgICAgciA9IDEwCiAgICAgICAgcGFpbnRlci5kcmF3RWxsaXBzZSgwLCAwLCByLCByKQoKICAgIGRlZiBtb3VzZVByZXNzRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICBzZWxmLl92aWV3LmluaXRpYXRlQ29ubmVjdGlvbihzZWxmKQoKCmNsYXNzIE5vZGVXaWRnZXQoUUdyYXBoaWNzV2lkZ2V0KToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgICAgIHZpZXc6ICJHcmFwaFZpZXciLAogICAgICAgIHBhcmVudDogT3B0aW9uYWxbUUdyYXBoaWNzSXRlbV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgIFFHcmFwaGljc1dpZGdldC5fX2luaXRfXyhzZWxmLCBwYXJlbnQ9cGFyZW50KQogICAgICAgIHNlbGYuc2V0RmxhZyhRR3JhcGhpY3NJdGVtLkdyYXBoaWNzSXRlbUZsYWcuSXRlbUlzTW92YWJsZSwgVHJ1ZSkKICAgICAgICBzZWxmLnNldEZsYWcoUUdyYXBoaWNzSXRlbS5HcmFwaGljc0l0ZW1GbGFnLkl0ZW1Jc1NlbGVjdGFibGUsIFRydWUpCiAgICAgICAgc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNGb2N1c2FibGUsIFRydWUpCgogICAgICAgIHNlbGYuX3ZpZXcgPSB2aWV3CiAgICAgICAgc2VsZi5fbiA9IG4KCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBzaXplSGludCgKICAgICAgICBzZWxmLCB3aGljaDogUXQuU2l6ZUhpbnQsIGNvbnN0cmFpbnQ6IFFTaXplRiB8IFFTaXplID0gUVNpemVGKCkKICAgICkgLT4gUVNpemVGOgogICAgICAgIHBhZGRpbmcgPSA0CiAgICAgICAgZm0gPSBRRm9udE1ldHJpY3Moc2VsZi5mb250KCkpCiAgICAgICAgdGV4dF93aWR0aCA9IGZtLmhvcml6b250YWxBZHZhbmNlKGYie3NlbGYuX259IikKICAgICAgICByZXR1cm4gUVNpemVGKAogICAgICAgICAgICBwYWRkaW5nICsgdGV4dF93aWR0aCArIHBhZGRpbmcsIHBhZGRpbmcgKyBmbS5hc2NlbnQoKSArIHBhZGRpbmcKICAgICAgICApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsIHBhaW50ZXI6IFFQYWludGVyLCBvcHRpb246IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSwgd2lkZ2V0PU5vbmUKICAgICk6CiAgICAgICAgcGFkZGluZyA9IDQKICAgICAgICAjIGRyYXcgb3V0bGluZQogICAgICAgIHBhaW50ZXIuZHJhd1JvdW5kZWRSZWN0KG9wdGlvbi5yZWN0LCA0LCA0KQoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICBwcmludCgicHJlc3MiKQogICAgICAgIHJldHVybiBzdXBlcigpLm1vdXNlUHJlc3NFdmVudChldmVudCkKCgpjbGFzcyBHcmFwaERlbGVnYXRlKFFPYmplY3QpOgogICAgZGVmIG5vZGVGYWN0b3J5KHNlbGYsIHZpZXcsIGdyYXBoLCBuKSAtPiBRR3JhcGhpY3NJdGVtOgogICAgICAgIHJldHVybiBOb2RlV2lkZ2V0KHZpZXc9dmlldywgbj1uKQoKICAgIGRlZiBlZGdlRmFjdG9yeSgKICAgICAgICBzZWxmLCB2aWV3LCBncmFwaCwgc291cmNlX25vZGUsIHRhcmdldF9ub2RlCiAgICApIC0+IFFHcmFwaGljc0l0ZW06CiAgICAgICAgYXJyb3cgPSBRR3JhcGhpY3NBcnJvd0l0ZW0oKQogICAgICAgIHBlbiA9IFFQZW4odmlldy5wYWxldHRlKCkuY29sb3IoUVBhbGV0dGUuQ29sb3JSb2xlLlRleHQpLCAxLjUpCiAgICAgICAgYXJyb3cuc2V0UGVuKHBlbikKCiAgICAgICAgZGVmIHVwZGF0ZV9saW5rKCk6CiAgICAgICAgICAgIGFycm93LnNldExpbmUoCiAgICAgICAgICAgICAgICBtYWtlTGluZUJldHdlZW5TaGFwZXMoCiAgICAgICAgICAgICAgICAgICAgc291cmNlX25vZGUuZ2VvbWV0cnkoKSwgdGFyZ2V0X25vZGUuZ2VvbWV0cnkoKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCgogICAgICAgIHVwZGF0ZV9saW5rKCkKCiAgICAgICAgc291cmNlX25vZGUuZ2VvbWV0cnlDaGFuZ2VkLmNvbm5lY3QodXBkYXRlX2xpbmspCiAgICAgICAgdGFyZ2V0X25vZGUuZ2VvbWV0cnlDaGFuZ2VkLmNvbm5lY3QodXBkYXRlX2xpbmspCiAgICAgICAgcmV0dXJuIGFycm93CgoKY2xhc3MgR3JhcGhWaWV3KFFHcmFwaGljc1ZpZXcpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudD1Ob25lKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudD1wYXJlbnQpCiAgICAgICAgc2VsZi5zZXRSZW5kZXJIaW50cyhRUGFpbnRlci5BbnRpYWxpYXNpbmcpCiAgICAgICAgc2VsZi5zZXREcmFnTW9kZShRR3JhcGhpY3NWaWV3LkRyYWdNb2RlLlJ1YmJlckJhbmREcmFnKQogICAgICAgIHNjZW5lID0gUUdyYXBoaWNzU2NlbmUoKQogICAgICAgIHNjZW5lLnNldFNjZW5lUmVjdChRUmVjdCgtOTk5OSAvLyAyLCAtOTk5OSAvLyAyLCA5OTk5LCA5OTk5KSkKICAgICAgICBzZWxmLnNldFNjZW5lKHNjZW5lKQogICAgICAgICMgc2NlbmUuaW5zdGFsbEV2ZW50RmlsdGVyKHNlbGYpCiAgICAgICAgc2VsZi5fZGVsZWdhdGUgPSBHcmFwaERlbGVnYXRlKCkKICAgICAgICBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXAgPSBkaWN0KCkKICAgICAgICBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXAgPSBkaWN0KCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsOiBHcmFwaE1vZGVsIHwgTm9uZSA9IE5vbmUKCiAgICBkZWYgbm9kZVdpZGdldChzZWxmLCBuOiBIYXNoYWJsZSk6CiAgICAgICAgcmV0dXJuIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQoKICAgIGRlZiBtb2RlbChzZWxmKSAtPiBHcmFwaE1vZGVsIHwgTm9uZToKICAgICAgICByZXR1cm4gc2VsZi5fZ3JhcGhtb2RlbAoKICAgIGRlZiBzZXRNb2RlbChzZWxmLCBncmFwaG1vZGVsOiBHcmFwaE1vZGVsKToKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsID0gZ3JhcGhtb2RlbAoKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzQWRkZWQuY29ubmVjdChzZWxmLmhhbmRsZU5vZGVzQWRkZWQpCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5ub2Rlc0Fib3V0VG9CZVJlbW92ZWQuY29ubmVjdChzZWxmLmhhbmRsZU5vZGVzUmVtb3ZlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzUHJvcGVydGllc0NoYW5nZWQuY29ubmVjdCgKICAgICAgICAgICAgc2VsZi5oYW5kbGVOb2Rlc1Byb3BlcnRpZXNDaGFuZ2VkCiAgICAgICAgKQoKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmVkZ2VzQWRkZWQuY29ubmVjdChzZWxmLmhhbmRsZUVkZ2VzQWRkZWQpCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5lZGdlc0Fib3V0VG9CZVJlbW92ZWQuY29ubmVjdChzZWxmLmhhbmRsZUVkZ2VzUmVtb3ZlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmVkZ2VzUHJvcGVydGllc0NoYW5nZWQuY29ubmVjdCgKICAgICAgICAgICAgc2VsZi5oYW5kbGVFZGdlc1Byb3BlcnRpZXNDaGFuZ2VkCiAgICAgICAgKQoKICAgIGRlZiBoYW5kbGVOb2Rlc0FkZGVkKHNlbGYsIG5vZGVzOiBMaXN0W0hhc2hhYmxlXSk6CiAgICAgICAgZm9yIG4gaW4gbm9kZXM6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2RlbGVnYXRlLm5vZGVGYWN0b3J5KAogICAgICAgICAgICAgICAgdmlldz1zZWxmLCBncmFwaD1zZWxmLl9ncmFwaG1vZGVsLCBuPW4KICAgICAgICAgICAgKQoKICAgICAgICAgICAgc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dID0gd2lkZ2V0CiAgICAgICAgICAgIHNlbGYuX3dpZGdldF90b19pdGVtX21hcFt3aWRnZXRdID0gbgogICAgICAgICAgICBzZWxmLnNjZW5lKCkuYWRkSXRlbSh3aWRnZXQpCgogICAgZGVmIGhhbmRsZU5vZGVzUmVtb3ZlZChzZWxmLCBub2RlczogTGlzdFtIYXNoYWJsZV0pOgogICAgICAgIGZvciBuIGluIG5vZGVzOgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KICAgICAgICAgICAgc2VsZi5zY2VuZSgpLnJlbW92ZUl0ZW0od2lkZ2V0KQogICAgICAgICAgICBkZWwgc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCiAgICAgICAgICAgIGRlbCBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbd2lkZ2V0XQoKICAgIGRlZiBoYW5kbGVOb2Rlc1Byb3BlcnRpZXNDaGFuZ2VkKHNlbGYsIG5vZGVzUHJvcGVyaWVzKToKICAgICAgICBmb3IgbiwgcHJvcGVydGllcyBpbiBub2Rlc1Byb3Blcmllcy5pdGVtcygpOgogICAgICAgICAgICBub2RlX3dpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQoKICAgICAgICAgICAgZm9yIHByb3AsIHZhbHVlIGluIHByb3BlcnRpZXMuaXRlbXMoKToKICAgICAgICAgICAgICAgIG1hdGNoIHByb3A6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAibGFiZWwiOgogICAgICAgICAgICAgICAgICAgICAgICAuLi4KICAgICAgICAgICAgICAgICAgICBjYXNlICJpbmxldHMiOgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgaW5sZXQgaW4gdmFsdWU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaW4gPSBQaW5XaWRnZXQoaW5sZXQsIG5vZGVfd2lkZ2V0LCBzZWxmKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0ID0gY2FzdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBRR3JhcGhpY3NMaW5lYXJMYXlvdXQsIG5vZGVfd2lkZ2V0LmxheW91dCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQuYWRkSXRlbShwaW4pCgogICAgICAgICAgICAgICAgICAgIGNhc2UgIm91dGxldHMiOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChwcm9wLCB2YWx1ZSkKCiAgICBkZWYgaGFuZGxlRWRnZXNBZGRlZChzZWxmLCBlZGdlczogTGlzdFtUdXBsZVtIYXNoYWJsZSwgSGFzaGFibGVdXSk6CiAgICAgICAgZm9yIHUsIHYgaW4gZWRnZXM6CiAgICAgICAgICAgIHNvdXJjZV9ub2RlID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW3VdCiAgICAgICAgICAgIHRhcmdldF9ub2RlID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW3ZdCgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9kZWxlZ2F0ZS5lZGdlRmFjdG9yeSgKICAgICAgICAgICAgICAgIHNlbGYsIHNlbGYuX2dyYXBobW9kZWwsIHNvdXJjZV9ub2RlLCB0YXJnZXRfbm9kZQogICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbKHUsIHYpXSA9IHdpZGdldAogICAgICAgICAgICBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbd2lkZ2V0XSA9ICh1LCB2KQogICAgICAgICAgICBzZWxmLnNjZW5lKCkuYWRkSXRlbSh3aWRnZXQpCgogICAgZGVmIGhhbmRsZUVkZ2VzUmVtb3ZlZChzZWxmLCBlZGdlczogTGlzdFtUdXBsZVtIYXNoYWJsZSwgSGFzaGFibGVdXSk6CiAgICAgICAgZm9yIHUsIHYgaW4gZWRnZXM6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFsodSwgdildCiAgICAgICAgICAgIHdpZGdldC5zZXRTb3VyY2UoTm9uZSkKICAgICAgICAgICAgd2lkZ2V0LnNldFRhcmdldChOb25lKQogICAgICAgICAgICBzZWxmLnNjZW5lKCkucmVtb3ZlSXRlbSh3aWRnZXQpCiAgICAgICAgICAgIGRlbCBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbKHUsIHYpXQogICAgICAgICAgICBkZWwgc2VsZi5fd2lkZ2V0X3RvX2l0ZW1fbWFwW3dpZGdldF0KCiAgICBkZWYgaGFuZGxlRWRnZXNQcm9wZXJ0aWVzQ2hhbmdlZChzZWxmLCBlZGdlc1Byb3BlcnRpZXMpOgogICAgICAgIGZvciBlZGdlLCBwcm9wZXJ0aWVzIGluIGVkZ2VzUHJvcGVydGllcy5pdGVtcygpOgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9hbXBbZWRnZV0KICAgICAgICAgICAgIyBzZWxmLmRlbGVnYXRlKCkuc2V0RWRnZVdpZGdldFByb3BzKHNlbGYsIGVkZ2UsIHdpZGdldCwgKipwcm9wZXJ0aWVzKQoKICAgIGRlZiBpbml0aWF0ZUNvbm5lY3Rpb24oc2VsZiwgc291cmNlOiBRR3JhcGhpY3NJdGVtKToKICAgICAgICBwcmludCgiaW5pdGlhdGVDb25uZWN0aW9uIikKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbAoKICAgIGNsYXNzIEV4YW1wbGVHcmFwaFZpZXcoR3JhcGhWaWV3KToKICAgICAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAgICAgaWYgbm90IHNlbGYuX2dyYXBobW9kZWw6CiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgaXRlbUF0TW91c2UgPSBzZWxmLml0ZW1BdChldmVudC5wb3NpdGlvbigpLnRvUG9pbnQoKSkKICAgICAgICAgICAgaWYgaXRlbUF0TW91c2U6CiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIoKS5tb3VzZURvdWJsZUNsaWNrRXZlbnQoZXZlbnQpCgogICAgICAgICAgICBjbGlja3BvcyA9IHNlbGYubWFwVG9TY2VuZShldmVudC5wb3NpdGlvbigpLnRvUG9pbnQoKSkKCiAgICAgICAgICAgICMgbiA9IG1ha2VfdW5pcXVlX2lkKGxlbmd0aD0xMikKICAgICAgICAgICAgbiA9IG1ha2VfdW5pcXVlX25hbWUoIk5PREUiLCBbbiBmb3IgbiBpbiBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzKCldKQogICAgICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmFkZE5vZGUoCiAgICAgICAgICAgICAgICBuLCBsYWJlbD0ibmV3IG5vZGUiLCBpbmxldHM9WyJpbiJdLCBvdXRsZXRzPVsib3V0Il0KICAgICAgICAgICAgKQogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KICAgICAgICAgICAgd2lkZ2V0LnNldFBvcyhjbGlja3BvcykKCiAgICAgICAgZGVmIGNyZWF0ZVN0YW5kYXJkQ29udGV4dE1lbnUoc2VsZiwgc2NlbmVQb3M6IFFQb2ludEYgfCBOb25lID0gTm9uZSk6CiAgICAgICAgICAgICIiIlRoaXMgZnVuY3Rpb24gY3JlYXRlcyB0aGUgc3RhbmRhcmQgY29udGV4dCBtZW51IHdoaWNoIGlzIHNob3duIHdoZW4KICAgICAgICAgICAgdGhlIHVzZXIgY2xpY2tzIG9uIHRoZSB0ZXh0IGVkaXQgd2l0aCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uLiBJdCBpcwogICAgICAgICAgICBjYWxsZWQgZnJvbSB0aGUgZGVmYXVsdCBjb250ZXh0TWVudUV2ZW50KCkgaGFuZGxlciBhbmQgaXQgdGFrZXMgdGhlCiAgICAgICAgICAgIHBvc2l0aW9uIGluIGRvY3VtZW50IGNvb3JkaW5hdGVzIHdoZXJlIHRoZSBtb3VzZSBjbGljayB3YXMuIFRoaXMgY2FuCiAgICAgICAgICAgIGVuYWJsZSBhY3Rpb25zIHRoYXQgYXJlIHNlbnNpdGl2ZSB0byB0aGUgcG9zaXRpb24gd2hlcmUgdGhlIHVzZXIKICAgICAgICAgICAgY2xpY2tlZC4gVGhlIHBvcHVwIG1lbnUncyBvd25lcnNoaXAgaXMgdHJhbnNmZXJyZWQgdG8gdGhlIGNhbGxlci4iIiIKCiAgICAgICAgICAgIGRlZiBjcmVhdGVfbm9kZShzY2VuZVBvczogUVBvaW50RiB8IE5vbmUpOgogICAgICAgICAgICAgICAgaWYgbm90IHNlbGYuX2dyYXBobW9kZWw6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBuID0gbWFrZV91bmlxdWVfbmFtZSgKICAgICAgICAgICAgICAgICAgICAiTk9ERSIsIFtuIGZvciBuIGluIHNlbGYuX2dyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHNlbGYuX2dyYXBobW9kZWwuYWRkTm9kZSgKICAgICAgICAgICAgICAgICAgICBuLCBsYWJlbD0ibmV3IG5vZGUiLCBpbmxldHM9WyJpbiJdLCBvdXRsZXRzPVsib3V0Il0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQogICAgICAgICAgICAgICAgd2lkZ2V0LnNldFBvcyhzY2VuZVBvcyBvciBRUG9pbnRGKDAsIDApKQoKICAgICAgICAgICAgZGVmIGNvbm5lY3Rfc2VsZWN0ZWRfbm9kZXMoKToKICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLl9ncmFwaG1vZGVsOgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgc2VsZWN0aW9uID0gW2l0ZW0gZm9yIGl0ZW0gaW4gc2VsZi5zY2VuZSgpLnNlbGVjdGVkSXRlbXMoKV0KICAgICAgICAgICAgICAgIGlmIGxlbihzZWxlY3Rpb24pIDwgMjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4KCiAgICAgICAgICAgICAgICBmb3IgaXRlbSBpbiBzZWxlY3Rpb25bMTpdOgogICAgICAgICAgICAgICAgICAgIHUgPSBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbc2VsZWN0aW9uWzBdXQogICAgICAgICAgICAgICAgICAgIHYgPSBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbaXRlbV0KICAgICAgICAgICAgICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmFkZEVkZ2UodSwgdikKCiAgICAgICAgICAgIG1lbnUgPSBRTWVudShzZWxmKQoKICAgICAgICAgICAgZGVmIG51ZGdlX3NlbGVjdGVkX25vZGVzKCk6CiAgICAgICAgICAgICAgICBmb3IgaXRlbSwgd2lkZ2V0IGluIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcC5pdGVtcygpOgogICAgICAgICAgICAgICAgICAgIHdpZGdldC5tb3ZlQnkoMTAsIDEwKQoKICAgICAgICAgICAgbnVkZ2VfYWN0aW9uID0gUUFjdGlvbihzZWxmKQogICAgICAgICAgICBudWRnZV9hY3Rpb24uc2V0VGV4dCgibnVkZ2Ugbm9kZXMiKQogICAgICAgICAgICBudWRnZV9hY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhOiBudWRnZV9zZWxlY3RlZF9ub2RlcygpKQogICAgICAgICAgICBtZW51LmFkZEFjdGlvbihudWRnZV9hY3Rpb24pCgogICAgICAgICAgICBjcmVhdGVfYWN0aW9uID0gUUFjdGlvbihzZWxmKQogICAgICAgICAgICBjcmVhdGVfYWN0aW9uLnNldFRleHQoImNyZWF0ZSBub2RlIikKICAgICAgICAgICAgY3JlYXRlX2FjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGE6IGNyZWF0ZV9ub2RlKHNjZW5lUG9zKSkKICAgICAgICAgICAgbWVudS5hZGRBY3Rpb24oY3JlYXRlX2FjdGlvbikKCiAgICAgICAgICAgIGNvbm5lY3RfYWN0aW9uID0gUUFjdGlvbihzZWxmKQogICAgICAgICAgICBjb25uZWN0X2FjdGlvbi5zZXRUZXh0KCJjb25uZWN0IikKICAgICAgICAgICAgY29ubmVjdF9hY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhOiBjb25uZWN0X3NlbGVjdGVkX25vZGVzKCkpCiAgICAgICAgICAgIG1lbnUuYWRkQWN0aW9uKGNvbm5lY3RfYWN0aW9uKQogICAgICAgICAgICByZXR1cm4gbWVudQoKICAgICAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgICAgICB2aWV3cG9zID0gc2VsZi5tYXBGcm9tR2xvYmFsKGV2ZW50Lmdsb2JhbFBvcygpKQogICAgICAgICAgICBzY2VuZXBvcyA9IHNlbGYubWFwVG9TY2VuZSh2aWV3cG9zKQogICAgICAgICAgICBtZW51ID0gc2VsZi5jcmVhdGVTdGFuZGFyZENvbnRleHRNZW51KHNjZW5lcG9zKQoKICAgICAgICAgICAgbWVudS5leGVjKGV2ZW50Lmdsb2JhbFBvcygpKQoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICB2aWV3ID0gRXhhbXBsZUdyYXBoVmlldygpCiAgICBtb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgdmlldy5zZXRNb2RlbChtb2RlbCkKICAgIHZpZXcuc2hvdygpCiAgICBhcHAuZXhlYygpCg",
					"AQAAAAAAAAABAAAAxQgAAAAAAADFCAAAAAAAAAAAAAAAAPC/"
				],
				[
					930,
					1,
					"insert",
					{
						"characters": "\n\n#"
					},
					"BgAAAKcGAAAAAAAAqAYAAAAAAAAAAAAAqAYAAAAAAACwBgAAAAAAAAAAAACwBgAAAAAAALEGAAAAAAAAAAAAALEGAAAAAAAAuQYAAAAAAAAAAAAAqAYAAAAAAACoBgAAAAAAAAgAAAAgICAgICAgILEGAAAAAAAAsgYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAApwYAAAAAAACnBgAAAAAAAAAAAAAAAPC/"
				],
				[
					931,
					1,
					"insert",
					{
						"characters": " add"
					},
					"BAAAALIGAAAAAAAAswYAAAAAAAAAAAAAswYAAAAAAAC0BgAAAAAAAAAAAAC0BgAAAAAAALUGAAAAAAAAAAAAALUGAAAAAAAAtgYAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsgYAAAAAAACyBgAAAAAAAAAAAAAAAPC/"
				],
				[
					932,
					1,
					"insert",
					{
						"characters": " name"
					},
					"BQAAALYGAAAAAAAAtwYAAAAAAAAAAAAAtwYAAAAAAAC4BgAAAAAAAAAAAAC4BgAAAAAAALkGAAAAAAAAAAAAALkGAAAAAAAAugYAAAAAAAAAAAAAugYAAAAAAAC7BgAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtgYAAAAAAAC2BgAAAAAAAAAAAAAAAPC/"
				],
				[
					933,
					1,
					"insert",
					{
						"characters": " label"
					},
					"BgAAALsGAAAAAAAAvAYAAAAAAAAAAAAAvAYAAAAAAAC9BgAAAAAAAAAAAAC9BgAAAAAAAL4GAAAAAAAAAAAAAL4GAAAAAAAAvwYAAAAAAAAAAAAAvwYAAAAAAADABgAAAAAAAAAAAADABgAAAAAAAMEGAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAuwYAAAAAAAC7BgAAAAAAAAAAAAAAAPC/"
				],
				[
					934,
					1,
					"insert",
					{
						"characters": "\nQ"
					},
					"AwAAAMEGAAAAAAAAwgYAAAAAAAAAAAAAwgYAAAAAAADKBgAAAAAAAAAAAADKBgAAAAAAAMsGAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwQYAAAAAAADBBgAAAAAAAAAAAAAAAPC/"
				],
				[
					935,
					1,
					"insert",
					{
						"characters": "Gra"
					},
					"AwAAAMsGAAAAAAAAzAYAAAAAAAAAAAAAzAYAAAAAAADNBgAAAAAAAAAAAADNBgAAAAAAAM4GAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAywYAAAAAAADLBgAAAAAAAAAAAAAAAPC/"
				],
				[
					936,
					4,
					"left_delete",
					null,
					"BAAAAM0GAAAAAAAAzQYAAAAAAAABAAAAYcwGAAAAAAAAzAYAAAAAAAABAAAAcssGAAAAAAAAywYAAAAAAAABAAAAR8oGAAAAAAAAygYAAAAAAAABAAAAUQ",
					"AQAAAAAAAAABAAAAzgYAAAAAAADOBgAAAAAAAAAAAAAAAPC/"
				],
				[
					939,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AwAAAK8EAAAAAAAAsAQAAAAAAAAAAAAAwwYAAAAAAADDBgAAAAAAAAgAAAAgICAgICAgILAEAAAAAAAAsQQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAArwQAAAAAAACvBAAAAAAAAAAAAAAAAPC/"
				],
				[
					941,
					1,
					"insert",
					{
						"characters": "class"
					},
					"BQAAALAEAAAAAAAAsQQAAAAAAAAAAAAAsQQAAAAAAACyBAAAAAAAAAAAAACyBAAAAAAAALMEAAAAAAAAAAAAALMEAAAAAAAAtAQAAAAAAAAAAAAAtAQAAAAAAAC1BAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsAQAAAAAAACwBAAAAAAAAAAAAAAAAAAA"
				],
				[
					942,
					1,
					"insert",
					{
						"characters": " QGraphicsT"
					},
					"CwAAALUEAAAAAAAAtgQAAAAAAAAAAAAAtgQAAAAAAAC3BAAAAAAAAAAAAAC3BAAAAAAAALgEAAAAAAAAAAAAALgEAAAAAAAAuQQAAAAAAAAAAAAAuQQAAAAAAAC6BAAAAAAAAAAAAAC6BAAAAAAAALsEAAAAAAAAAAAAALsEAAAAAAAAvAQAAAAAAAAAAAAAvAQAAAAAAAC9BAAAAAAAAAAAAAC9BAAAAAAAAL4EAAAAAAAAAAAAAL4EAAAAAAAAvwQAAAAAAAAAAAAAvwQAAAAAAADABAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAtQQAAAAAAAC1BAAAAAAAAAAAAAAAAPC/"
				],
				[
					943,
					1,
					"insert",
					{
						"characters": "extItem"
					},
					"BwAAAMAEAAAAAAAAwQQAAAAAAAAAAAAAwQQAAAAAAADCBAAAAAAAAAAAAADCBAAAAAAAAMMEAAAAAAAAAAAAAMMEAAAAAAAAxAQAAAAAAAAAAAAAxAQAAAAAAADFBAAAAAAAAAAAAADFBAAAAAAAAMYEAAAAAAAAAAAAAMYEAAAAAAAAxwQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwAQAAAAAAADABAAAAAAAAAAAAAAAAPC/"
				],
				[
					945,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAMcEAAAAAAAAyAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAxwQAAAAAAADHBAAAAAAAAAAAAAAAAPC/"
				],
				[
					946,
					1,
					"reindent",
					null,
					"AQAAAMgEAAAAAAAAzAQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyAQAAAAAAADIBAAAAAAAAAAAAAAAAPC/"
				],
				[
					960,
					1,
					"left_delete",
					null,
					"AgAAALAEAAAAAAAAsAQAAAAAAAAeAAAAY2xhc3MgUUdyYXBoaWNzVGV4dEl0ZW0KICAgIAoKsAQAAAAAAAC4BAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAzgQAAAAAAACwBAAAAAAAAAAAAAAAAPC/"
				],
				[
					965,
					1,
					"left_delete",
					null,
					"AQAAALAEAAAAAAAAsAQAAAAAAAAIAAAAICAgICAgICA",
					"AQAAAAAAAAABAAAAuAQAAAAAAACwBAAAAAAAAAAAAAAAAPC/"
				],
				[
					969,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAATykAAAAAAABQKQAAZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKIyBmcm9tIHN0YW5kYXJkX2dyYXBoX2RlbGVnYXRlIGltcG9ydCBTdGFuZGFyZEdyYXBoRGVsZWdhdGUKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9pZCwgbWFrZV91bmlxdWVfbmFtZQoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbAoKZnJvbSBweWxpdmUuUXRHcmFwaEVkaXRvci5OZXRyb3drWEdyYXBoRWRpdG9yLmxpbmtfZ3JhcGhpY3NfaXRlbXMgaW1wb3J0ICgKICAgIG1ha2VMaW5lQmV0d2VlblNoYXBlcywKKQpmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IucWdyYXBoaWNzX2Fycm93X2l0ZW0gaW1wb3J0ICgKICAgIFFHcmFwaGljc0Fycm93SXRlbSwKKQoKCmNsYXNzIFBpbldpZGdldChRR3JhcGhpY3NXaWRnZXQpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsCiAgICAgICAgaTogSGFzaGFibGUsCiAgICAgICAgbm9kZTogT3B0aW9uYWxbIk5vZGVXaWRnZXQiXSwKICAgICAgICB2aWV3OiAiR3JhcGhWaWV3IiwKICAgICkgLT4gTm9uZToKICAgICAgICBRR3JhcGhpY3NXaWRnZXQuX19pbml0X18oc2VsZiwgcGFyZW50PW5vZGUpCgogICAgICAgIHNlbGYuX25vZGUgPSBub2RlCiAgICAgICAgc2VsZi5fdmlldyA9IHZpZXcKICAgICAgICBzZWxmLl9pID0gaQoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIHdoaWNoOiBRdC5TaXplSGludCwgY29uc3RyYWludDogUVNpemVGIHwgUVNpemUgPSBRU2l6ZUYoKQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcmV0dXJuIFFTaXplRigyMCwgMjApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsIHBhaW50ZXI6IFFQYWludGVyLCBvcHRpb246IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSwgd2lkZ2V0PU5vbmUKICAgICk6CiAgICAgICAgciA9IDEwCiAgICAgICAgcGFpbnRlci5kcmF3RWxsaXBzZSgwLCAwLCByLCByKQoKICAgIGRlZiBtb3VzZVByZXNzRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICBzZWxmLl92aWV3LmluaXRpYXRlQ29ubmVjdGlvbihzZWxmKQoKCmNsYXNzIE5vZGVXaWRnZXQoUUdyYXBoaWNzV2lkZ2V0KToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgICAgIHZpZXc6ICJHcmFwaFZpZXciLAogICAgICAgIHBhcmVudDogT3B0aW9uYWxbUUdyYXBoaWNzSXRlbV0gPSBOb25lLAogICAgKSAtPiBOb25lOgogICAgICAgIFFHcmFwaGljc1dpZGdldC5fX2luaXRfXyhzZWxmLCBwYXJlbnQ9cGFyZW50KQogICAgICAgIHNlbGYuc2V0RmxhZyhRR3JhcGhpY3NJdGVtLkdyYXBoaWNzSXRlbUZsYWcuSXRlbUlzTW92YWJsZSwgVHJ1ZSkKICAgICAgICBzZWxmLnNldEZsYWcoUUdyYXBoaWNzSXRlbS5HcmFwaGljc0l0ZW1GbGFnLkl0ZW1Jc1NlbGVjdGFibGUsIFRydWUpCiAgICAgICAgc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNGb2N1c2FibGUsIFRydWUpCgogICAgICAgIHNlbGYuX3ZpZXcgPSB2aWV3CiAgICAgICAgc2VsZi5fbiA9IG4KCiAgICAgICAgIyBhZGQgbmFtZSBsYWJlbAoKCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBzaXplSGludCgKICAgICAgICBzZWxmLCB3aGljaDogUXQuU2l6ZUhpbnQsIGNvbnN0cmFpbnQ6IFFTaXplRiB8IFFTaXplID0gUVNpemVGKCkKICAgICkgLT4gUVNpemVGOgogICAgICAgIHBhZGRpbmcgPSA0CiAgICAgICAgZm0gPSBRRm9udE1ldHJpY3Moc2VsZi5mb250KCkpCiAgICAgICAgdGV4dF93aWR0aCA9IGZtLmhvcml6b250YWxBZHZhbmNlKGYie3NlbGYuX259IikKICAgICAgICByZXR1cm4gUVNpemVGKAogICAgICAgICAgICBwYWRkaW5nICsgdGV4dF93aWR0aCArIHBhZGRpbmcsIHBhZGRpbmcgKyBmbS5hc2NlbnQoKSArIHBhZGRpbmcKICAgICAgICApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsIHBhaW50ZXI6IFFQYWludGVyLCBvcHRpb246IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSwgd2lkZ2V0PU5vbmUKICAgICk6CiAgICAgICAgcGFkZGluZyA9IDQKICAgICAgICAjIGRyYXcgb3V0bGluZQogICAgICAgIHBhaW50ZXIuZHJhd1JvdW5kZWRSZWN0KG9wdGlvbi5yZWN0LCA0LCA0KQoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICBwcmludCgicHJlc3MiKQogICAgICAgIHJldHVybiBzdXBlcigpLm1vdXNlUHJlc3NFdmVudChldmVudCkKCgpjbGFzcyBHcmFwaERlbGVnYXRlKFFPYmplY3QpOgogICAgZGVmIG5vZGVGYWN0b3J5KHNlbGYsIHZpZXcsIGdyYXBoLCBuKSAtPiBRR3JhcGhpY3NJdGVtOgogICAgICAgIHJldHVybiBOb2RlV2lkZ2V0KHZpZXc9dmlldywgbj1uKQoKICAgIGRlZiBlZGdlRmFjdG9yeSgKICAgICAgICBzZWxmLCB2aWV3LCBncmFwaCwgc291cmNlX25vZGUsIHRhcmdldF9ub2RlCiAgICApIC0+IFFHcmFwaGljc0l0ZW06CiAgICAgICAgYXJyb3cgPSBRR3JhcGhpY3NBcnJvd0l0ZW0oKQogICAgICAgIHBlbiA9IFFQZW4odmlldy5wYWxldHRlKCkuY29sb3IoUVBhbGV0dGUuQ29sb3JSb2xlLlRleHQpLCAxLjUpCiAgICAgICAgYXJyb3cuc2V0UGVuKHBlbikKCiAgICAgICAgZGVmIHVwZGF0ZV9saW5rKCk6CiAgICAgICAgICAgIGFycm93LnNldExpbmUoCiAgICAgICAgICAgICAgICBtYWtlTGluZUJldHdlZW5TaGFwZXMoCiAgICAgICAgICAgICAgICAgICAgc291cmNlX25vZGUuZ2VvbWV0cnkoKSwgdGFyZ2V0X25vZGUuZ2VvbWV0cnkoKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCgogICAgICAgIHVwZGF0ZV9saW5rKCkKCiAgICAgICAgc291cmNlX25vZGUuZ2VvbWV0cnlDaGFuZ2VkLmNvbm5lY3QodXBkYXRlX2xpbmspCiAgICAgICAgdGFyZ2V0X25vZGUuZ2VvbWV0cnlDaGFuZ2VkLmNvbm5lY3QodXBkYXRlX2xpbmspCiAgICAgICAgcmV0dXJuIGFycm93CgoKY2xhc3MgR3JhcGhWaWV3KFFHcmFwaGljc1ZpZXcpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudD1Ob25lKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudD1wYXJlbnQpCiAgICAgICAgc2VsZi5zZXRSZW5kZXJIaW50cyhRUGFpbnRlci5BbnRpYWxpYXNpbmcpCiAgICAgICAgc2VsZi5zZXREcmFnTW9kZShRR3JhcGhpY3NWaWV3LkRyYWdNb2RlLlJ1YmJlckJhbmREcmFnKQogICAgICAgIHNjZW5lID0gUUdyYXBoaWNzU2NlbmUoKQogICAgICAgIHNjZW5lLnNldFNjZW5lUmVjdChRUmVjdCgtOTk5OSAvLyAyLCAtOTk5OSAvLyAyLCA5OTk5LCA5OTk5KSkKICAgICAgICBzZWxmLnNldFNjZW5lKHNjZW5lKQogICAgICAgICMgc2NlbmUuaW5zdGFsbEV2ZW50RmlsdGVyKHNlbGYpCiAgICAgICAgc2VsZi5fZGVsZWdhdGUgPSBHcmFwaERlbGVnYXRlKCkKICAgICAgICBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXAgPSBkaWN0KCkKICAgICAgICBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXAgPSBkaWN0KCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsOiBHcmFwaE1vZGVsIHwgTm9uZSA9IE5vbmUKCiAgICBkZWYgbm9kZVdpZGdldChzZWxmLCBuOiBIYXNoYWJsZSk6CiAgICAgICAgcmV0dXJuIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQoKICAgIGRlZiBtb2RlbChzZWxmKSAtPiBHcmFwaE1vZGVsIHwgTm9uZToKICAgICAgICByZXR1cm4gc2VsZi5fZ3JhcGhtb2RlbAoKICAgIGRlZiBzZXRNb2RlbChzZWxmLCBncmFwaG1vZGVsOiBHcmFwaE1vZGVsKToKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsID0gZ3JhcGhtb2RlbAoKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzQWRkZWQuY29ubmVjdChzZWxmLmhhbmRsZU5vZGVzQWRkZWQpCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5ub2Rlc0Fib3V0VG9CZVJlbW92ZWQuY29ubmVjdChzZWxmLmhhbmRsZU5vZGVzUmVtb3ZlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzUHJvcGVydGllc0NoYW5nZWQuY29ubmVjdCgKICAgICAgICAgICAgc2VsZi5oYW5kbGVOb2Rlc1Byb3BlcnRpZXNDaGFuZ2VkCiAgICAgICAgKQoKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmVkZ2VzQWRkZWQuY29ubmVjdChzZWxmLmhhbmRsZUVkZ2VzQWRkZWQpCiAgICAgICAgc2VsZi5fZ3JhcGhtb2RlbC5lZGdlc0Fib3V0VG9CZVJlbW92ZWQuY29ubmVjdChzZWxmLmhhbmRsZUVkZ2VzUmVtb3ZlZCkKICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmVkZ2VzUHJvcGVydGllc0NoYW5nZWQuY29ubmVjdCgKICAgICAgICAgICAgc2VsZi5oYW5kbGVFZGdlc1Byb3BlcnRpZXNDaGFuZ2VkCiAgICAgICAgKQoKICAgIGRlZiBoYW5kbGVOb2Rlc0FkZGVkKHNlbGYsIG5vZGVzOiBMaXN0W0hhc2hhYmxlXSk6CiAgICAgICAgZm9yIG4gaW4gbm9kZXM6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2RlbGVnYXRlLm5vZGVGYWN0b3J5KAogICAgICAgICAgICAgICAgdmlldz1zZWxmLCBncmFwaD1zZWxmLl9ncmFwaG1vZGVsLCBuPW4KICAgICAgICAgICAgKQoKICAgICAgICAgICAgc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dID0gd2lkZ2V0CiAgICAgICAgICAgIHNlbGYuX3dpZGdldF90b19pdGVtX21hcFt3aWRnZXRdID0gbgogICAgICAgICAgICBzZWxmLnNjZW5lKCkuYWRkSXRlbSh3aWRnZXQpCgogICAgZGVmIGhhbmRsZU5vZGVzUmVtb3ZlZChzZWxmLCBub2RlczogTGlzdFtIYXNoYWJsZV0pOgogICAgICAgIGZvciBuIGluIG5vZGVzOgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KICAgICAgICAgICAgc2VsZi5zY2VuZSgpLnJlbW92ZUl0ZW0od2lkZ2V0KQogICAgICAgICAgICBkZWwgc2VsZi5faXRlbV90b193aWRnZXRfbWFwW25dCiAgICAgICAgICAgIGRlbCBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbd2lkZ2V0XQoKICAgIGRlZiBoYW5kbGVOb2Rlc1Byb3BlcnRpZXNDaGFuZ2VkKHNlbGYsIG5vZGVzUHJvcGVyaWVzKToKICAgICAgICBmb3IgbiwgcHJvcGVydGllcyBpbiBub2Rlc1Byb3Blcmllcy5pdGVtcygpOgogICAgICAgICAgICBub2RlX3dpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQoKICAgICAgICAgICAgZm9yIHByb3AsIHZhbHVlIGluIHByb3BlcnRpZXMuaXRlbXMoKToKICAgICAgICAgICAgICAgIG1hdGNoIHByb3A6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAibGFiZWwiOgogICAgICAgICAgICAgICAgICAgICAgICAuLi4KICAgICAgICAgICAgICAgICAgICBjYXNlICJpbmxldHMiOgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgaW5sZXQgaW4gdmFsdWU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaW4gPSBQaW5XaWRnZXQoaW5sZXQsIG5vZGVfd2lkZ2V0LCBzZWxmKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0ID0gY2FzdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBRR3JhcGhpY3NMaW5lYXJMYXlvdXQsIG5vZGVfd2lkZ2V0LmxheW91dCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQuYWRkSXRlbShwaW4pCgogICAgICAgICAgICAgICAgICAgIGNhc2UgIm91dGxldHMiOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChwcm9wLCB2YWx1ZSkKCiAgICBkZWYgaGFuZGxlRWRnZXNBZGRlZChzZWxmLCBlZGdlczogTGlzdFtUdXBsZVtIYXNoYWJsZSwgSGFzaGFibGVdXSk6CiAgICAgICAgZm9yIHUsIHYgaW4gZWRnZXM6CiAgICAgICAgICAgIHNvdXJjZV9ub2RlID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW3VdCiAgICAgICAgICAgIHRhcmdldF9ub2RlID0gc2VsZi5faXRlbV90b193aWRnZXRfbWFwW3ZdCgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9kZWxlZ2F0ZS5lZGdlRmFjdG9yeSgKICAgICAgICAgICAgICAgIHNlbGYsIHNlbGYuX2dyYXBobW9kZWwsIHNvdXJjZV9ub2RlLCB0YXJnZXRfbm9kZQogICAgICAgICAgICApCgogICAgICAgICAgICBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbKHUsIHYpXSA9IHdpZGdldAogICAgICAgICAgICBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbd2lkZ2V0XSA9ICh1LCB2KQogICAgICAgICAgICBzZWxmLnNjZW5lKCkuYWRkSXRlbSh3aWRnZXQpCgogICAgZGVmIGhhbmRsZUVkZ2VzUmVtb3ZlZChzZWxmLCBlZGdlczogTGlzdFtUdXBsZVtIYXNoYWJsZSwgSGFzaGFibGVdXSk6CiAgICAgICAgZm9yIHUsIHYgaW4gZWRnZXM6CiAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFsodSwgdildCiAgICAgICAgICAgIHdpZGdldC5zZXRTb3VyY2UoTm9uZSkKICAgICAgICAgICAgd2lkZ2V0LnNldFRhcmdldChOb25lKQogICAgICAgICAgICBzZWxmLnNjZW5lKCkucmVtb3ZlSXRlbSh3aWRnZXQpCiAgICAgICAgICAgIGRlbCBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbKHUsIHYpXQogICAgICAgICAgICBkZWwgc2VsZi5fd2lkZ2V0X3RvX2l0ZW1fbWFwW3dpZGdldF0KCiAgICBkZWYgaGFuZGxlRWRnZXNQcm9wZXJ0aWVzQ2hhbmdlZChzZWxmLCBlZGdlc1Byb3BlcnRpZXMpOgogICAgICAgIGZvciBlZGdlLCBwcm9wZXJ0aWVzIGluIGVkZ2VzUHJvcGVydGllcy5pdGVtcygpOgogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9hbXBbZWRnZV0KICAgICAgICAgICAgIyBzZWxmLmRlbGVnYXRlKCkuc2V0RWRnZVdpZGdldFByb3BzKHNlbGYsIGVkZ2UsIHdpZGdldCwgKipwcm9wZXJ0aWVzKQoKICAgIGRlZiBpbml0aWF0ZUNvbm5lY3Rpb24oc2VsZiwgc291cmNlOiBRR3JhcGhpY3NJdGVtKToKICAgICAgICBwcmludCgiaW5pdGlhdGVDb25uZWN0aW9uIikKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbAoKICAgIGNsYXNzIEV4YW1wbGVHcmFwaFZpZXcoR3JhcGhWaWV3KToKICAgICAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAgICAgaWYgbm90IHNlbGYuX2dyYXBobW9kZWw6CiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgaXRlbUF0TW91c2UgPSBzZWxmLml0ZW1BdChldmVudC5wb3NpdGlvbigpLnRvUG9pbnQoKSkKICAgICAgICAgICAgaWYgaXRlbUF0TW91c2U6CiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIoKS5tb3VzZURvdWJsZUNsaWNrRXZlbnQoZXZlbnQpCgogICAgICAgICAgICBjbGlja3BvcyA9IHNlbGYubWFwVG9TY2VuZShldmVudC5wb3NpdGlvbigpLnRvUG9pbnQoKSkKCiAgICAgICAgICAgICMgbiA9IG1ha2VfdW5pcXVlX2lkKGxlbmd0aD0xMikKICAgICAgICAgICAgbiA9IG1ha2VfdW5pcXVlX25hbWUoIk5PREUiLCBbbiBmb3IgbiBpbiBzZWxmLl9ncmFwaG1vZGVsLm5vZGVzKCldKQogICAgICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmFkZE5vZGUoCiAgICAgICAgICAgICAgICBuLCBsYWJlbD0ibmV3IG5vZGUiLCBpbmxldHM9WyJpbiJdLCBvdXRsZXRzPVsib3V0Il0KICAgICAgICAgICAgKQogICAgICAgICAgICB3aWRnZXQgPSBzZWxmLl9pdGVtX3RvX3dpZGdldF9tYXBbbl0KICAgICAgICAgICAgd2lkZ2V0LnNldFBvcyhjbGlja3BvcykKCiAgICAgICAgZGVmIGNyZWF0ZVN0YW5kYXJkQ29udGV4dE1lbnUoc2VsZiwgc2NlbmVQb3M6IFFQb2ludEYgfCBOb25lID0gTm9uZSk6CiAgICAgICAgICAgICIiIlRoaXMgZnVuY3Rpb24gY3JlYXRlcyB0aGUgc3RhbmRhcmQgY29udGV4dCBtZW51IHdoaWNoIGlzIHNob3duIHdoZW4KICAgICAgICAgICAgdGhlIHVzZXIgY2xpY2tzIG9uIHRoZSB0ZXh0IGVkaXQgd2l0aCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uLiBJdCBpcwogICAgICAgICAgICBjYWxsZWQgZnJvbSB0aGUgZGVmYXVsdCBjb250ZXh0TWVudUV2ZW50KCkgaGFuZGxlciBhbmQgaXQgdGFrZXMgdGhlCiAgICAgICAgICAgIHBvc2l0aW9uIGluIGRvY3VtZW50IGNvb3JkaW5hdGVzIHdoZXJlIHRoZSBtb3VzZSBjbGljayB3YXMuIFRoaXMgY2FuCiAgICAgICAgICAgIGVuYWJsZSBhY3Rpb25zIHRoYXQgYXJlIHNlbnNpdGl2ZSB0byB0aGUgcG9zaXRpb24gd2hlcmUgdGhlIHVzZXIKICAgICAgICAgICAgY2xpY2tlZC4gVGhlIHBvcHVwIG1lbnUncyBvd25lcnNoaXAgaXMgdHJhbnNmZXJyZWQgdG8gdGhlIGNhbGxlci4iIiIKCiAgICAgICAgICAgIGRlZiBjcmVhdGVfbm9kZShzY2VuZVBvczogUVBvaW50RiB8IE5vbmUpOgogICAgICAgICAgICAgICAgaWYgbm90IHNlbGYuX2dyYXBobW9kZWw6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBuID0gbWFrZV91bmlxdWVfbmFtZSgKICAgICAgICAgICAgICAgICAgICAiTk9ERSIsIFtuIGZvciBuIGluIHNlbGYuX2dyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHNlbGYuX2dyYXBobW9kZWwuYWRkTm9kZSgKICAgICAgICAgICAgICAgICAgICBuLCBsYWJlbD0ibmV3IG5vZGUiLCBpbmxldHM9WyJpbiJdLCBvdXRsZXRzPVsib3V0Il0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIHdpZGdldCA9IHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcFtuXQogICAgICAgICAgICAgICAgd2lkZ2V0LnNldFBvcyhzY2VuZVBvcyBvciBRUG9pbnRGKDAsIDApKQoKICAgICAgICAgICAgZGVmIGNvbm5lY3Rfc2VsZWN0ZWRfbm9kZXMoKToKICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLl9ncmFwaG1vZGVsOgogICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgc2VsZWN0aW9uID0gW2l0ZW0gZm9yIGl0ZW0gaW4gc2VsZi5zY2VuZSgpLnNlbGVjdGVkSXRlbXMoKV0KICAgICAgICAgICAgICAgIGlmIGxlbihzZWxlY3Rpb24pIDwgMjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4KCiAgICAgICAgICAgICAgICBmb3IgaXRlbSBpbiBzZWxlY3Rpb25bMTpdOgogICAgICAgICAgICAgICAgICAgIHUgPSBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbc2VsZWN0aW9uWzBdXQogICAgICAgICAgICAgICAgICAgIHYgPSBzZWxmLl93aWRnZXRfdG9faXRlbV9tYXBbaXRlbV0KICAgICAgICAgICAgICAgICAgICBzZWxmLl9ncmFwaG1vZGVsLmFkZEVkZ2UodSwgdikKCiAgICAgICAgICAgIG1lbnUgPSBRTWVudShzZWxmKQoKICAgICAgICAgICAgZGVmIG51ZGdlX3NlbGVjdGVkX25vZGVzKCk6CiAgICAgICAgICAgICAgICBmb3IgaXRlbSwgd2lkZ2V0IGluIHNlbGYuX2l0ZW1fdG9fd2lkZ2V0X21hcC5pdGVtcygpOgogICAgICAgICAgICAgICAgICAgIHdpZGdldC5tb3ZlQnkoMTAsIDEwKQoKICAgICAgICAgICAgbnVkZ2VfYWN0aW9uID0gUUFjdGlvbihzZWxmKQogICAgICAgICAgICBudWRnZV9hY3Rpb24uc2V0VGV4dCgibnVkZ2Ugbm9kZXMiKQogICAgICAgICAgICBudWRnZV9hY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhOiBudWRnZV9zZWxlY3RlZF9ub2RlcygpKQogICAgICAgICAgICBtZW51LmFkZEFjdGlvbihudWRnZV9hY3Rpb24pCgogICAgICAgICAgICBjcmVhdGVfYWN0aW9uID0gUUFjdGlvbihzZWxmKQogICAgICAgICAgICBjcmVhdGVfYWN0aW9uLnNldFRleHQoImNyZWF0ZSBub2RlIikKICAgICAgICAgICAgY3JlYXRlX2FjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGE6IGNyZWF0ZV9ub2RlKHNjZW5lUG9zKSkKICAgICAgICAgICAgbWVudS5hZGRBY3Rpb24oY3JlYXRlX2FjdGlvbikKCiAgICAgICAgICAgIGNvbm5lY3RfYWN0aW9uID0gUUFjdGlvbihzZWxmKQogICAgICAgICAgICBjb25uZWN0X2FjdGlvbi5zZXRUZXh0KCJjb25uZWN0IikKICAgICAgICAgICAgY29ubmVjdF9hY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhOiBjb25uZWN0X3NlbGVjdGVkX25vZGVzKCkpCiAgICAgICAgICAgIG1lbnUuYWRkQWN0aW9uKGNvbm5lY3RfYWN0aW9uKQogICAgICAgICAgICByZXR1cm4gbWVudQoKICAgICAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgICAgICB2aWV3cG9zID0gc2VsZi5tYXBGcm9tR2xvYmFsKGV2ZW50Lmdsb2JhbFBvcygpKQogICAgICAgICAgICBzY2VuZXBvcyA9IHNlbGYubWFwVG9TY2VuZSh2aWV3cG9zKQogICAgICAgICAgICBtZW51ID0gc2VsZi5jcmVhdGVTdGFuZGFyZENvbnRleHRNZW51KHNjZW5lcG9zKQoKICAgICAgICAgICAgbWVudS5leGVjKGV2ZW50Lmdsb2JhbFBvcygpKQoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICB2aWV3ID0gRXhhbXBsZUdyYXBoVmlldygpCiAgICBtb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgdmlldy5zZXRNb2RlbChtb2RlbCkKICAgIHZpZXcuc2hvdygpCiAgICBhcHAuZXhlYygpCg",
					"AQAAAAAAAAABAAAA8yIAAAAAAADzIgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"contents": "Searching 195 files for \"QGraphicsTextItem\"\n\nC:\\dev\\src\\pylive\\pylive\\examples\\visual_coding.py:\n   48  \t\tself.expressioneditor.setTextWidth(self.rect.width()-10)\n   49  \n   50: \t\tself.outputlabel = QGraphicsTextItem(self)\n   51  \t\tself.outputlabel.setPos(0,30)\n   52  \n\nC:\\dev\\src\\pylive\\pylive\\examples\\python_function_graph\\graph_view.py:\n   45          self._view.initiateConnection(self)\n   46  \n   47: class QGraphicsTextItem\n   48      \n   49  \n\nC:\\dev\\src\\pylive\\pylive\\QtGraphEditor\\dag_graph_graphics_scene.py:\n   10  \n   11  class TextWidget(QGraphicsWidget):\n   12: \t\"\"\"A simple widget that contains a QGraphicsTextItem.\"\"\"\n   13  \tdef __init__(self, text, parent=None):\n   14  \t\tsuper().__init__(parent)\n   15  \t\t# Create the text item\n   16: \t\tself.text_item = QGraphicsTextItem(text, self)\n   17  \t\tself.text_item.document().setDocumentMargin(0)\n   18  \t\tself.text_item.setTextInteractionFlags(Qt.TextInteractionFlag.TextEditorInteraction)\n\nC:\\dev\\src\\pylive\\pylive\\QtGraphEditor\\editable_text_item.py:\n    4  from PySide6.QtWidgets import *\n    5  \n    6: class EditableTextItem(QGraphicsTextItem):\n    7  \ttextChanged = Signal(str)\n    8  \tdef __init__(self, text:str=\"\", parent=None):\n\nC:\\dev\\src\\pylive\\pylive\\QtGraphEditor\\graphview_columnbased.py:\n  262  \n  263  \n  264: class EditableTextItem(QGraphicsTextItem):\n  265  \tdef __init__(self, text, parent=None):\n  266  \t\tsuper().__init__(text, parent)\n\nC:\\dev\\src\\pylive\\pylive\\QtGraphEditor\\graphview_rolebased.py:\n    9  \n   10  \n   11: class EditableTextItem(QGraphicsTextItem):\n   12  \tdef __init__(self, text, parent=None):\n   13  \t\tsuper().__init__(text, parent)\n\n7 matches across 6 files\n",
			"settings":
			{
				"buffer_size": 1665,
				"line_ending": "Windows",
				"name": "Find Results",
				"scratch": true
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "pylive/QtGraphEditor/dag_graph_graphics_scene.py",
			"settings":
			{
				"buffer_size": 31507,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					4,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAE3sAAAAAAAB6ZQAAZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSB0eXBpbmcgaW1wb3J0ICoKCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IucGFuX2FuZF96b29tX2dyYXBoaWNzdmlld19vcHRpbWl6ZWQgaW1wb3J0IFBhbkFuZFpvb21HcmFwaGljc1ZpZXcKCgoKY2xhc3MgVGV4dFdpZGdldChRR3JhcGhpY3NXaWRnZXQpOgoJIiIiQSBzaW1wbGUgd2lkZ2V0IHRoYXQgY29udGFpbnMgYSBRR3JhcGhpY3NUZXh0SXRlbS4iIiIKCWRlZiBfX2luaXRfXyhzZWxmLCB0ZXh0LCBwYXJlbnQ9Tm9uZSk6CgkJc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQpCgkJIyBDcmVhdGUgdGhlIHRleHQgaXRlbQoJCXNlbGYudGV4dF9pdGVtID0gUUdyYXBoaWNzVGV4dEl0ZW0odGV4dCwgc2VsZikKCQlzZWxmLnRleHRfaXRlbS5kb2N1bWVudCgpLnNldERvY3VtZW50TWFyZ2luKDApCgkJc2VsZi50ZXh0X2l0ZW0uc2V0VGV4dEludGVyYWN0aW9uRmxhZ3MoUXQuVGV4dEludGVyYWN0aW9uRmxhZy5UZXh0RWRpdG9ySW50ZXJhY3Rpb24pCgkJc2VsZi50ZXh0X2l0ZW0uc2V0QWNjZXB0ZWRNb3VzZUJ1dHRvbnMoUXQuTW91c2VCdXR0b24uTm9CdXR0b24pICAjIFRyYW5zcGFyZW50IHRvIG1vdXNlIGV2ZW50cwoJCXNlbGYudGV4dF9pdGVtLnNldEVuYWJsZWQoRmFsc2UpCgoJCXNlbGYuc2V0RmxhZyhRR3JhcGhpY3NJdGVtLkdyYXBoaWNzSXRlbUZsYWcuSXRlbVNlbmRzU2NlbmVQb3NpdGlvbkNoYW5nZXMpCgkJc2VsZi5zZXRfbGluZV9oZWlnaHQoMS4xKQoKCWRlZiBzZXRfbGluZV9oZWlnaHQoc2VsZiwgbGluZV9oZWlnaHQpOgoJCSIiIlNldCB0aGUgbGluZSBoZWlnaHQgZm9yIHRoZSB0ZXh0LiIiIgoJCWN1cnNvciA9IFFUZXh0Q3Vyc29yKHNlbGYudGV4dF9pdGVtLmRvY3VtZW50KCkpCgkJY3Vyc29yLnNlbGVjdChRVGV4dEN1cnNvci5TZWxlY3Rpb25UeXBlLkRvY3VtZW50KQoKCQkjIENvbmZpZ3VyZSBibG9jayBmb3JtYXQKCQlibG9ja19mb3JtYXQgPSBRVGV4dEJsb2NrRm9ybWF0KCkKCQlibG9ja19mb3JtYXQuc2V0TGluZUhlaWdodCgxMDAsIDEpCgkJY3Vyc29yLm1lcmdlQmxvY2tGb3JtYXQoYmxvY2tfZm9ybWF0KQoKCWRlZiBzaXplSGludChzZWxmLCB3aGljaCwgY29uc3RyYWludD1RU2l6ZUYoKSk6CgkJdGV4dF9zaXplID0gUVNpemUoc2VsZi50ZXh0X2l0ZW0uZG9jdW1lbnQoKS5zaXplKCkudG9TaXplKCkpCgkJcmV0dXJuIHRleHRfc2l6ZQoKCmNsYXNzIENpcmNsZVdpZGdldChRR3JhcGhpY3NXaWRnZXQpOgoJZGVmIF9faW5pdF9fKHNlbGYsIHJhZGl1czpmbG9hdCwgcGFyZW50PU5vbmUpOgoJCXN1cGVyKCkuX19pbml0X18oKQoJCXNlbGYuY2lyY2xlX2l0ZW0gPSBRR3JhcGhpY3NFbGxpcHNlSXRlbShRUmVjdEYoMCwwLHJhZGl1cyoyLCByYWRpdXMqMiksIHNlbGYpCgkJdGV4dF9jb2xvciA9IHNlbGYucGFsZXR0ZSgpLmNvbG9yKFFQYWxldHRlLkNvbG9yUm9sZS5UZXh0KQoJCXNlbGYuY2lyY2xlX2l0ZW0uc2V0QnJ1c2goUXQuQnJ1c2hTdHlsZS5Ob0JydXNoKQoJCXNlbGYuY2lyY2xlX2l0ZW0uc2V0UGVuKFFQZW4odGV4dF9jb2xvciwgMS40KSkKCglkZWYgc2l6ZUhpbnQoc2VsZiwgd2hpY2gsIGNvbnN0cmFpbnQ9UVNpemVGKCkpOgoJCWNpcmNsZV9yZWN0ID0gc2VsZi5jaXJjbGVfaXRlbS5yZWN0KCkKCQlyZXR1cm4gY2lyY2xlX3JlY3Quc2l6ZSgpCgoKY2xhc3MgUGluV2lkZ2V0KFFHcmFwaGljc1dpZGdldCk6CglkZWYgX19pbml0X18oc2VsZiwgdGV4dCwgb3JpZW50YXRpb249UXQuT3JpZW50YXRpb24uSG9yaXpvbnRhbCk6CgkJc3VwZXIoKS5fX2luaXRfXygpCgkJIyBzdG9yZSByZWxhdGlvbnMKCQlzZWxmLl9wYXJlbnRfbm9kZTpOb2RlV2lkZ2V0fE5vbmUgPSBOb25lCgkJc2VsZi5fZWRnZXMgPSBbXQoJCQoJCSMgU2V0dXAgd2lkZ2V0cwoJCXNlbGYuc2V0QWNjZXB0SG92ZXJFdmVudHMoVHJ1ZSkKCQlzZWxmLmNpcmNsZV9pdGVtID0gQ2lyY2xlV2lkZ2V0KHJhZGl1cz0zKQoJCXNlbGYudGV4dF93aWRnZXQgPSBUZXh0V2lkZ2V0KHRleHQpCgkJZm9udCA9IHNlbGYudGV4dF93aWRnZXQudGV4dF9pdGVtLmRvY3VtZW50KCkuZGVmYXVsdEZvbnQoKQoJCWZvbnQuc2V0UG9pbnRTaXplKDYpCgkJc2VsZi50ZXh0X3dpZGdldC50ZXh0X2l0ZW0uZG9jdW1lbnQoKS5zZXREZWZhdWx0Rm9udChmb250KQoKCQkjIGxheW91dAoJCXNlbGYubWFpbl9sYXlvdXQgPSBRR3JhcGhpY3NMaW5lYXJMYXlvdXQoUXQuT3JpZW50YXRpb24uSG9yaXpvbnRhbCkKCQlzZWxmLm1haW5fbGF5b3V0LnNldENvbnRlbnRzTWFyZ2lucygwLDAsMCwwKQoJCXNlbGYubWFpbl9sYXlvdXQuc2V0U3BhY2luZygzKQoJCXNlbGYuc2V0TGF5b3V0KHNlbGYubWFpbl9sYXlvdXQpCgkJc2VsZi5zZXRPcmllbnRhdGlvbihvcmllbnRhdGlvbikKCgkJIyB1cGRhdGUgZWRnZSBvbiBzY2VuZXBvcyBvciBnZW9tZXRyeSBjaGFuZ2UKCQkKCQlzZWxmLmdlb21ldHJ5Q2hhbmdlZC5jb25uZWN0KHNlbGYudXBkYXRlRWRnZXMpCgkJc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtU2VuZHNTY2VuZVBvc2l0aW9uQ2hhbmdlcykKCglkZWYgc2V0T3JpZW50YXRpb24oc2VsZiwgb3JpZW50YXRpb246UXQuT3JpZW50YXRpb24pOgoJCW1hdGNoIG9yaWVudGF0aW9uOgoJCQljYXNlIFF0Lk9yaWVudGF0aW9uLlZlcnRpY2FsOgoJCQkJc2VsZi5tYWluX2xheW91dC5zZXRPcmllbnRhdGlvbihvcmllbnRhdGlvbikKCQkJCXNlbGYubWFpbl9sYXlvdXQucmVtb3ZlSXRlbShzZWxmLnRleHRfd2lkZ2V0KQoJCQkJc2VsZi50ZXh0X3dpZGdldC5oaWRlKCkKCQkJCWlmIGlzaW5zdGFuY2Uoc2VsZiwgT3V0bGV0V2lkZ2V0KToKCQkJCQlzZWxmLnRleHRfd2lkZ2V0Lm1vdmVCeSgzLCsxMCkKCQkJCWVsc2U6CgkJCQkJc2VsZi50ZXh0X3dpZGdldC5tb3ZlQnkoMywtMTMpCgkJCQkKCQkJCXNlbGYuX29yaWVudGF0aW9uID0gb3JpZW50YXRpb24KCgkJCWNhc2UgUXQuT3JpZW50YXRpb24uSG9yaXpvbnRhbDoKCQkJCXNlbGYubWFpbl9sYXlvdXQuc2V0T3JpZW50YXRpb24ob3JpZW50YXRpb24pCgkJCQlpZiBpc2luc3RhbmNlKHNlbGYsIE91dGxldFdpZGdldCk6CgkJCQkJc2VsZi5tYWluX2xheW91dC5pbnNlcnRJdGVtKDAsIHNlbGYudGV4dF93aWRnZXQpCgkJCQllbHNlOgoJCQkJCXNlbGYubWFpbl9sYXlvdXQuYWRkSXRlbShzZWxmLnRleHRfd2lkZ2V0KQoJCQkJc2VsZi50ZXh0X3dpZGdldC5zaG93KCkKCQkJCXNlbGYuX29yaWVudGF0aW9uID0gb3JpZW50YXRpb24KCQkJY2FzZSBfOgoJCQkJLi4uCgoJCXNlbGYudXBkYXRlR2VvbWV0cnkoKQoJCXNlbGYuYWRqdXN0U2l6ZSgpCgoJZGVmIHNldEhpZ2hsaWdodChzZWxmLCB2YWx1ZSk6CgkJaWYgdmFsdWU6CgkJCWFjY2VudF9jb2xvciA9IHNlbGYucGFsZXR0ZSgpLmNvbG9yKFFQYWxldHRlLkNvbG9yUm9sZS5BY2NlbnQpCgkJCXNlbGYuY2lyY2xlX2l0ZW0uY2lyY2xlX2l0ZW0uc2V0UGVuKFFQZW4oYWNjZW50X2NvbG9yLCAyKSkKCQllbHNlOgoJCQl0ZXh0X2NvbG9yID0gc2VsZi5wYWxldHRlKCkuY29sb3IoUVBhbGV0dGUuQ29sb3JSb2xlLlRleHQpCgkJCXNlbGYuY2lyY2xlX2l0ZW0uY2lyY2xlX2l0ZW0uc2V0UGVuKFFQZW4odGV4dF9jb2xvciwgMikpCgoJZGVmIHVwZGF0ZUVkZ2VzKHNlbGYpOgoJCWZvciBlZGdlX2l0ZW0gaW4gbGlzdChzZWxmLl9lZGdlcyk6CgkJCWVkZ2VfaXRlbS51cGRhdGVQb3NpdGlvbigpCgoJZGVmIGl0ZW1DaGFuZ2Uoc2VsZiwgY2hhbmdlLCB2YWx1ZSk6CgkJbWF0Y2ggY2hhbmdlOgoJCQljYXNlIFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtQ2hhbmdlLkl0ZW1TY2VuZVBvc2l0aW9uSGFzQ2hhbmdlZDoKCQkJCXNlbGYudXBkYXRlRWRnZXMoKQoKCQlyZXR1cm4gc3VwZXIoKS5pdGVtQ2hhbmdlKGNoYW5nZSwgdmFsdWUpCgoJZGVmIHNoYXBlKHNlbGYpOgoJCXNoYXBlID0gUVBhaW50ZXJQYXRoKCkKCQljaXJjbGVfcmVjdCA9IHNlbGYuY2lyY2xlX2l0ZW0ucmVjdCgpCgkJY2lyY2xlX3JlY3QuYWRqdXN0KC01LC01LDUsNSkKCQljaXJjbGVfcmVjdC50cmFuc2xhdGUoc2VsZi5jaXJjbGVfaXRlbS5wb3MoKSkKCQlzaGFwZS5hZGRSZWN0KCBjaXJjbGVfcmVjdCApCgkJcmV0dXJuIHNoYXBlCgoJZGVmIGJvdW5kaW5nUmVjdChzZWxmKSAtPiBRUmVjdEY6CgkJcmV0dXJuIHNlbGYuc2hhcGUoKS5ib3VuZGluZ1JlY3QoKQoKCWRlZiBvcmllbnRhdGlvbihzZWxmKToKCQlyZXR1cm4gc2VsZi5fb3JpZW50YXRpb24KCglkZWYgaG92ZXJFbnRlckV2ZW50KHNlbGYsIGV2ZW50OiBRR3JhcGhpY3NTY2VuZUhvdmVyRXZlbnQpIC0+IE5vbmU6CgkJc2VsZi5zZXRIaWdobGlnaHQoVHJ1ZSkKCQlpZiBzZWxmLm9yaWVudGF0aW9uKCkgPT0gUXQuT3JpZW50YXRpb24uVmVydGljYWw6CgkJCXNlbGYudGV4dF93aWRnZXQuc2hvdygpCgkJcmV0dXJuIHN1cGVyKCkuaG92ZXJFbnRlckV2ZW50KGV2ZW50KQoKCWRlZiBob3ZlckxlYXZlRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lSG92ZXJFdmVudCkgLT4gTm9uZToKCQlzZWxmLnNldEhpZ2hsaWdodChGYWxzZSkKCQlpZiBzZWxmLm9yaWVudGF0aW9uKCkgPT0gUXQuT3JpZW50YXRpb24uVmVydGljYWw6CgkJCXNlbGYudGV4dF93aWRnZXQuaGlkZSgpCgkJcmV0dXJuIHN1cGVyKCkuaG92ZXJMZWF2ZUV2ZW50KGV2ZW50KQoKCgoJIyBkZWYgcGFpbnQoc2VsZiwgcGFpbnRlciwgb3B0aW9uLCB3aWRnZXQpOgoJIyAJcGFpbnRlci5zZXRQZW4oJ2dyZWVuJykKCSMgCXBhaW50ZXIuZHJhd1JlY3Qoc2VsZi5ib3VuZGluZ1JlY3QoKSkKCSMgCXBhaW50ZXIuc2V0UGVuKCdjeWFuJykKCSMgCXBhaW50ZXIuZHJhd1BhdGgoc2VsZi5zaGFwZSgpKQoKCmNsYXNzIE91dGxldFdpZGdldChQaW5XaWRnZXQpOgoJZGVmIF9faW5pdF9fKHNlbGYsIHRleHQpOgoJCXN1cGVyKCkuX19pbml0X18odGV4dCkKCQlzZWxmLm1haW5fbGF5b3V0LmFkZEl0ZW0oc2VsZi50ZXh0X3dpZGdldCkKCQlzZWxmLm1haW5fbGF5b3V0LmFkZEl0ZW0oc2VsZi5jaXJjbGVfaXRlbSkKCQlzZWxmLm1haW5fbGF5b3V0LnNldEFsaWdubWVudChzZWxmLmNpcmNsZV9pdGVtLCBRdC5BbGlnbm1lbnRGbGFnLkFsaWduQ2VudGVyKQoKCWRlZiBkZXN0cm95KHNlbGYpOgoJCWZvciBlZGdlIGluIHJldmVyc2VkKHNlbGYuX2VkZ2VzKToKCQkJZWRnZS5kZXN0cm95KCkKCQlzZWxmLl9lZGdlcyA9IFtdCgoJCWlmIHNlbGYuX3BhcmVudF9ub2RlOgoJCQlzZWxmLl9wYXJlbnRfbm9kZS5yZW1vdmVPdXRsZXQoc2VsZikKCQlzZWxmLnNjZW5lKCkucmVtb3ZlSXRlbShzZWxmKQoKCmNsYXNzIElubGV0V2lkZ2V0KFBpbldpZGdldCk6CglkZWYgX19pbml0X18oc2VsZiwgdGV4dCk6CgkJc3VwZXIoKS5fX2luaXRfXyh0ZXh0KQoJCXNlbGYubWFpbl9sYXlvdXQuYWRkSXRlbShzZWxmLmNpcmNsZV9pdGVtKQoJCXNlbGYubWFpbl9sYXlvdXQuYWRkSXRlbShzZWxmLnRleHRfd2lkZ2V0KQoJCXNlbGYubWFpbl9sYXlvdXQuc2V0QWxpZ25tZW50KHNlbGYuY2lyY2xlX2l0ZW0sIFF0LkFsaWdubWVudEZsYWcuQWxpZ25DZW50ZXIpCgoJZGVmIGRlc3Ryb3koc2VsZik6CgkJZm9yIGVkZ2UgaW4gcmV2ZXJzZWQoc2VsZi5fZWRnZXMpOgoJCQllZGdlLmRlc3Ryb3koKQoJCXNlbGYuX2VkZ2VzID0gW10KCgkJaWYgc2VsZi5fcGFyZW50X25vZGU6CgkJCXNlbGYuX3BhcmVudF9ub2RlLnJlbW92ZUlubGV0KHNlbGYpCgkJc2VsZi5fcGFyZW50X25vZGUgPSBOb25lCgkJc2VsZi5zY2VuZSgpLnJlbW92ZUl0ZW0oc2VsZikKCgpjbGFzcyBOb2RlV2lkZ2V0KFFHcmFwaGljc1dpZGdldCk6CgkiIiJBIHdpZGdldCB0aGF0IGhvbGRzIG11bHRpcGxlIFRleHRXaWRnZXRzIGFycmFuZ2VkIGluIGEgdmVydGljYWwgbGF5b3V0LiIiIgoKCWRlZiBfX2luaXRfXyhzZWxmLCB0aXRsZT0iTm9kZSIsIG9yaWVudGF0aW9uPVF0Lk9yaWVudGF0aW9uLkhvcml6b250YWwsIHBhcmVudD1Ob25lKToKCQlzdXBlcigpLl9faW5pdF9fKHBhcmVudCkKCgkJIyBFbmFibGUgc2VsZWN0aW9uIGFuZCBtb3ZlbWVudAoJCXNlbGYuc2V0RmxhZyhRR3JhcGhpY3NXaWRnZXQuR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNTZWxlY3RhYmxlLCBUcnVlKQoJCXNlbGYuc2V0RmxhZyhRR3JhcGhpY3NXaWRnZXQuR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNNb3ZhYmxlLCBUcnVlKQoJCXNlbGYuc2V0RmxhZyhRR3JhcGhpY3NXaWRnZXQuR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNGb2N1c2FibGUsIFRydWUpCgoJCXNlbGYuX29yaWVudGF0aW9uID0gUXQuT3JpZW50YXRpb24uSG9yaXpvbnRhbAoKCQkjIENyZWF0ZSBhIGxheW91dAoJCXNlbGYubWFpbl9sYXlvdXQgPSBRR3JhcGhpY3NMaW5lYXJMYXlvdXQoUXQuT3JpZW50YXRpb24uVmVydGljYWwpCgkJc2VsZi5tYWluX2xheW91dC5zZXRDb250ZW50c01hcmdpbnMoOCwzLDgsMykKCQlzZWxmLm1haW5fbGF5b3V0LnNldFNwYWNpbmcoMCkKCgkJIyBjcmVhdGUgaGVhZGluZyBsYXlvdXQKCQlzZWxmLmhlYWRlciA9IFRleHRXaWRnZXQodGl0bGUpCgkJc2VsZi5tYWluX2xheW91dC5hZGRJdGVtKHNlbGYuaGVhZGVyKQoKCQkjIENyZWF0ZSBpbmxldHMgbGF5b3V0CgkJc2VsZi5pbmxldHNfbGF5b3V0ID0gUUdyYXBoaWNzTGluZWFyTGF5b3V0KFF0Lk9yaWVudGF0aW9uLlZlcnRpY2FsKQoJCXNlbGYubWFpbl9sYXlvdXQuYWRkSXRlbShzZWxmLmlubGV0c19sYXlvdXQpCgoJCSMgY3JlYXRlIG91dGxldHMgbGF5b3V0CgkJc2VsZi5vdXRsZXRzX2xheW91dCA9IFFHcmFwaGljc0xpbmVhckxheW91dChRdC5PcmllbnRhdGlvbi5WZXJ0aWNhbCkKCQlzZWxmLm1haW5fbGF5b3V0LmFkZEl0ZW0oc2VsZi5vdXRsZXRzX2xheW91dCkKCQlzZWxmLm1haW5fbGF5b3V0LnNldEFsaWdubWVudChzZWxmLm91dGxldHNfbGF5b3V0LCBRdC5BbGlnbm1lbnRGbGFnLkFsaWduUmlnaHQpCgoJCSMgU2V0IHRoZSBsYXlvdXQgZm9yIHRoZSB3aWRnZXQKCQlzZWxmLnNldExheW91dChzZWxmLm1haW5fbGF5b3V0KQoJCXNlbGYuc2V0T3JpZW50YXRpb24ob3JpZW50YXRpb24pCgoJCSMgRGVmaW5lIHRoZSBib3VuZGluZyBnZW9tZXRyeQoJCSMgc2VsZi5zZXRHZW9tZXRyeShRUmVjdEYoLTc1LCAtNTksIDE1MCwgMTAwKSkKCQlzZWxmLl9pbmxldHMgPSBbXQoJCXNlbGYuX291dGxldHMgPSBbXQoKCWRlZiBvcmllbnRhdGlvbihzZWxmKToKCQlyZXR1cm4gc2VsZi5fb3JpZW50YXRpb24KCglkZWYgc2V0T3JpZW50YXRpb24oc2VsZiwgb3JpZW50YXRpb246UXQuT3JpZW50YXRpb24pOgoJCW1hdGNoIG9yaWVudGF0aW9uOgoJCQljYXNlIFF0Lk9yaWVudGF0aW9uLlZlcnRpY2FsOgoKCQkJCSMgU2V0IG9yaWVudGF0aW9uIGZvciBpbmxldHMgYW5kIG91dGxldHMKCQkJCXNlbGYuaW5sZXRzX2xheW91dC5zZXRPcmllbnRhdGlvbihvcmllbnRhdGlvbikKCQkJCXNlbGYub3V0bGV0c19sYXlvdXQuc2V0T3JpZW50YXRpb24ob3JpZW50YXRpb24pCgkJCQkjIHNlbGYuaW5sZXRzX2xheW91dC5zZXRNYXhpbXVtSGVpZ2h0KDEpCgkJCQkjIHNlbGYub3V0bGV0c19sYXlvdXQuc2V0TWF4aW11bUhlaWdodCgxKQoKCQkJCSMgVXBkYXRlIG9yaWVudGF0aW9uIGZvciBjaGlsZCBpdGVtcwoKCQkJCWZvciBpIGluIHJhbmdlKHNlbGYuaW5sZXRzX2xheW91dC5jb3VudCgpKToKCQkJCQlpdGVtID0gY2FzdChJbmxldFdpZGdldCwgc2VsZi5pbmxldHNfbGF5b3V0Lml0ZW1BdChpKSkKCQkJCQlpdGVtLnNldE9yaWVudGF0aW9uKG9yaWVudGF0aW9uKQoKCQkJCWZvciBpIGluIHJhbmdlKHNlbGYub3V0bGV0c19sYXlvdXQuY291bnQoKSk6CgkJCQkJaXRlbSA9IGNhc3QoT3V0bGV0V2lkZ2V0LCBzZWxmLm91dGxldHNfbGF5b3V0Lml0ZW1BdChpKSkKCQkJCQlpdGVtLnNldE9yaWVudGF0aW9uKG9yaWVudGF0aW9uKQoKCQkJCSAjIENsZWFyIGFuZCByZW9yZGVyIG1haW5fbGF5b3V0OiBpbmxldHMsIGhlYWRlciwgb3V0bGV0cwoJCQkJd2hpbGUgc2VsZi5tYWluX2xheW91dC5jb3VudCgpID4gMDoKCQkJCQlzZWxmLm1haW5fbGF5b3V0LnJlbW92ZUF0KDApCgoJCQkJc2VsZi5tYWluX2xheW91dC5hZGRJdGVtKHNlbGYuaW5sZXRzX2xheW91dCkKCQkJCXNlbGYubWFpbl9sYXlvdXQuYWRkSXRlbShzZWxmLmhlYWRlcikKCQkJCXNlbGYubWFpbl9sYXlvdXQuYWRkSXRlbShzZWxmLm91dGxldHNfbGF5b3V0KQoKCQkJCSMgQWxpZ24gaXRlbXMKCQkJCXNlbGYubWFpbl9sYXlvdXQuc2V0QWxpZ25tZW50KHNlbGYuaW5sZXRzX2xheW91dCwgUXQuQWxpZ25tZW50RmxhZy5BbGlnbkNlbnRlcikKCQkJCXNlbGYubWFpbl9sYXlvdXQuc2V0QWxpZ25tZW50KHNlbGYub3V0bGV0c19sYXlvdXQsIFF0LkFsaWdubWVudEZsYWcuQWxpZ25DZW50ZXIpCgoJCQkJc2VsZi5fb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbgoJCQkKCQkJY2FzZSBRdC5PcmllbnRhdGlvbi5Ib3Jpem9udGFsOgoJCQkJIyBVcGRhdGUgb3JpZW50YXRpb24gZm9yIGlubGV0cyBhbmQgb3V0bGV0cwoJCQkJc2VsZi5pbmxldHNfbGF5b3V0LnNldE9yaWVudGF0aW9uKG9yaWVudGF0aW9uKQoJCQkJc2VsZi5vdXRsZXRzX2xheW91dC5zZXRPcmllbnRhdGlvbihvcmllbnRhdGlvbikKCgkJCQkKCQkJCQoKCQkJCWZvciBpIGluIHJhbmdlKHNlbGYuaW5sZXRzX2xheW91dC5jb3VudCgpKToKCQkJCQlpdGVtID0gY2FzdChJbmxldFdpZGdldCwgc2VsZi5pbmxldHNfbGF5b3V0Lml0ZW1BdChpKSkKCQkJCQlpdGVtLnNldE9yaWVudGF0aW9uKG9yaWVudGF0aW9uKQoKCQkJCWZvciBpIGluIHJhbmdlKHNlbGYub3V0bGV0c19sYXlvdXQuY291bnQoKSk6CgkJCQkJaXRlbSA9IGNhc3QoT3V0bGV0V2lkZ2V0LCBzZWxmLm91dGxldHNfbGF5b3V0Lml0ZW1BdChpKSkKCQkJCQlpdGVtLnNldE9yaWVudGF0aW9uKG9yaWVudGF0aW9uKQoKCQkJCSMgQ2xlYXIgYW5kIHJlb3JkZXIgbWFpbl9sYXlvdXQ6IGhlYWRlciwgaW5sZXRzLCBvdXRsZXRzCgkJCQl3aGlsZSBzZWxmLm1haW5fbGF5b3V0LmNvdW50KCkgPiAwOgoJCQkJCXNlbGYubWFpbl9sYXlvdXQucmVtb3ZlQXQoMCkKCgkJCQlzZWxmLm1haW5fbGF5b3V0LmFkZEl0ZW0oc2VsZi5oZWFkZXIpCgkJCQlzZWxmLm1haW5fbGF5b3V0LmFkZEl0ZW0oc2VsZi5pbmxldHNfbGF5b3V0KQoJCQkJc2VsZi5tYWluX2xheW91dC5hZGRJdGVtKHNlbGYub3V0bGV0c19sYXlvdXQpCgoJCQkJIyBBbGlnbiBpdGVtcwoJCQkJc2VsZi5tYWluX2xheW91dC5zZXRBbGlnbm1lbnQoc2VsZi5pbmxldHNfbGF5b3V0LCBRdC5BbGlnbm1lbnRGbGFnLkFsaWduTGVmdCkKCQkJCXNlbGYubWFpbl9sYXlvdXQuc2V0QWxpZ25tZW50KHNlbGYub3V0bGV0c19sYXlvdXQsIFF0LkFsaWdubWVudEZsYWcuQWxpZ25SaWdodCkKCgkJCQlzZWxmLl9vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uCgkJCWNhc2UgXzoKCQkJCS4uLgoKCQlzZWxmLmFkanVzdFNpemUoKQoKCWRlZiBhZGRJbmxldChzZWxmLCBpbmxldDpJbmxldFdpZGdldCk6CgkJc2VsZi5pbmxldHNfbGF5b3V0LmFkZEl0ZW0oaW5sZXQpCgkJc2VsZi5pbmxldHNfbGF5b3V0LnNldEFsaWdubWVudChpbmxldCwgUXQuQWxpZ25tZW50RmxhZy5BbGlnbkxlZnQpCgkJaW5sZXQuX3BhcmVudF9ub2RlID0gc2VsZgoJCWlubGV0LnNldFBhcmVudEl0ZW0oc2VsZikKCQlzZWxmLl9pbmxldHMuYXBwZW5kKGlubGV0KQoKCWRlZiByZW1vdmVJbmxldChzZWxmLCBpbmxldDpJbmxldFdpZGdldCk6CgkJc2VsZi5pbmxldHNfbGF5b3V0LnJlbW92ZUl0ZW0oaW5sZXQpCgkJaW5sZXQuX3BhcmVudF9ub2RlID0gTm9uZQoJCXNlbGYuX2lubGV0cy5yZW1vdmUoaW5sZXQpCgoJZGVmIGFkZE91dGxldChzZWxmLCBvdXRsZXQ6T3V0bGV0V2lkZ2V0KToKCQlzZWxmLm91dGxldHNfbGF5b3V0LmFkZEl0ZW0ob3V0bGV0KQoJCXNlbGYub3V0bGV0c19sYXlvdXQuc2V0QWxpZ25tZW50KG91dGxldCwgUXQuQWxpZ25tZW50RmxhZy5BbGlnblJpZ2h0KQoJCW91dGxldC5fcGFyZW50X25vZGUgPSBzZWxmCgkJb3V0bGV0LnNldFBhcmVudEl0ZW0oc2VsZikKCQlzZWxmLl9vdXRsZXRzLmFwcGVuZChvdXRsZXQpCgoJZGVmIHJlbW92ZU91dGxldChzZWxmLCBvdXRsZXQ6T3V0bGV0V2lkZ2V0KToKCQlzZWxmLm91dGxldHNfbGF5b3V0LnJlbW92ZUl0ZW0ob3V0bGV0KQoJCW91dGxldC5fcGFyZW50X25vZGUgPSBOb25lCgkJc2VsZi5fb3V0bGV0cy5yZW1vdmUob3V0bGV0KQoKCWRlZiBwYWludChzZWxmLCBwYWludGVyOlFQYWludGVyLCBvcHRpb246UVN0eWxlT3B0aW9uR3JhcGhpY3NJdGVtLCB3aWRnZXQ9Tm9uZSk6CgkJIyBEcmF3IHRoZSBub2RlIHJlY3RhbmdsZQoJCXBhbGV0dGU6UVBhbGV0dGUgPSBvcHRpb24ucGFsZXR0ZSAjIHR5cGU6IGlnbm9yZQoJCXN0YXRlOlFTdHlsZS5TdGF0ZUZsYWcgPSBvcHRpb24uc3RhdGUgIyB0eXBlOiBpZ25vcmUKCgkJcGFpbnRlci5zZXRCcnVzaChwYWxldHRlLndpbmRvdygpKQoJCSMgcGFpbnRlci5zZXRCcnVzaChRdC5Ob0JydXNoKQoKCQlwZW4gPSBRUGVuKHBhbGV0dGUudGV4dCgpLmNvbG9yKCksIDEpCgkJcGVuLnNldENvc21ldGljKFRydWUpCgkJcGVuLnNldFdpZHRoRigxKQoJCWlmIHN0YXRlICYgUVN0eWxlLlN0YXRlRmxhZy5TdGF0ZV9TZWxlY3RlZDoKCQkJcGVuLnNldENvbG9yKHBhbGV0dGUuYWNjZW50KCkuY29sb3IoKSkKCQlwYWludGVyLnNldFBlbihwZW4pCgoJCSMgcGFpbnRlci5zZXRQZW4ocGFsZXR0ZS53aW5kb3coKS5jb2xvcigpKQoJCXBhaW50ZXIuZHJhd1JvdW5kZWRSZWN0KFFSZWN0RihRUG9pbnRGKCksIHNlbGYuc2l6ZSgpKSwgMywgMykKCglkZWYgZGVzdHJveShzZWxmKToKCQl3aGlsZSBzZWxmLl9pbmxldHM6CgkJCXNlbGYuX2lubGV0c1swXS5kZXN0cm95KCkgIyBBbHdheXMgcmVtb3ZlIGZpcnN0CgoJCXdoaWxlIHNlbGYuX291dGxldHM6CgkJCXNlbGYuX291dGxldHNbMF0uZGVzdHJveSgpICMgQWx3YXlzIHJlbW92ZSBmaXJzdAoJCQoJCXNlbGYuc2NlbmUoKS5yZW1vdmVJdGVtKHNlbGYpCgoKY2xhc3MgRWRnZVdpZGdldChRR3JhcGhpY3NMaW5lSXRlbSk6CgkiIiJHcmFwaGljcyBpdGVtIHJlcHJlc2VudGluZyBhbiBlZGdlIChjb25uZWN0aW9uKS4iIiIKCUdyYWJUaHJlc2hvbGQgPSAxNQoJZGVmIF9faW5pdF9fKHNlbGYsIHNvdXJjZV9vdXRsZXQ6T3V0bGV0V2lkZ2V0fE5vbmUsIHRhcmdldF9pbmxldDpJbmxldFdpZGdldHxOb25lKToKCQlzdXBlcigpLl9faW5pdF9fKHBhcmVudD1Ob25lKQoJCWFzc2VydCBzb3VyY2Vfb3V0bGV0IGlzIE5vbmUgb3IgaXNpbnN0YW5jZShzb3VyY2Vfb3V0bGV0LCBPdXRsZXRXaWRnZXQpLCBmImdvdDoge3NvdXJjZV9vdXRsZXR9IgoJCWFzc2VydCB0YXJnZXRfaW5sZXQgaXMgTm9uZSBvciBpc2luc3RhbmNlKHRhcmdldF9pbmxldCwgSW5sZXRXaWRnZXQpLCBmImdvdDoge3RhcmdldF9pbmxldH0iCgkJc2VsZi5fc291cmNlX291dGxldCA9IHNvdXJjZV9vdXRsZXQKCQlzZWxmLl90YXJnZXRfaW5sZXQgPSB0YXJnZXRfaW5sZXQKCgkJaWYgc291cmNlX291dGxldDoKCQkJc291cmNlX291dGxldC5fZWRnZXMuYXBwZW5kKHNlbGYpCgkJaWYgdGFyZ2V0X2lubGV0OgoJCQl0YXJnZXRfaW5sZXQuX2VkZ2VzLmFwcGVuZChzZWxmKQoKCQlzZWxmLnNldFBlbihRUGVuKFF0Lkdsb2JhbENvbG9yLmJsYWNrLCAyKSkKCQlzZWxmLnVwZGF0ZVBvc2l0aW9uKCkKCgkJIyBFbmFibGUgc2VsZWN0aW5nCgkJc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNTZWxlY3RhYmxlKQoJCXNlbGYuc2V0QWNjZXB0SG92ZXJFdmVudHMoVHJ1ZSkKCgkJc2VsZi5zZXRaVmFsdWUoLTEpCgoJCSMKCQlzZWxmLmlzX21vdmluZ19lbmRwb2ludCA9IEZhbHNlXAoKCQlzZWxmLkdyYWJUaHJlc2hvbGQgPSAxMAoJCXNlbGYuX3NoYXBlX3BlbiA9IFFQZW4oUXQuR2xvYmFsQ29sb3IuYmxhY2ssIHNlbGYuR3JhYlRocmVzaG9sZCkKCglkZWYgc291cmNlT3V0bGV0KHNlbGYpLT5PdXRsZXRXaWRnZXR8Tm9uZToKCQlyZXR1cm4gc2VsZi5fc291cmNlX291dGxldAoKCWRlZiBzZXRTb3VyY2VPdXRsZXQoc2VsZiwgcGluOiBPdXRsZXRXaWRnZXR8Tm9uZSk6CgkJYXNzZXJ0IHBpbiBpcyBOb25lIG9yIGlzaW5zdGFuY2UocGluLCBPdXRsZXRXaWRnZXQpLCBmImdvdDoge3Bpbn0iCgoJCSMgYWRkIG9yIHJlbW92ZSBlZGdlIHRvIHBpbiBlZGdlcyBmb3IgcG9zaXRpb24gdXBkYXRlCgkJaWYgcGluOgoJCQlwaW4uX2VkZ2VzLmFwcGVuZChzZWxmKQoJCWVsaWYgc2VsZi5fc291cmNlX291dGxldDoKCQkJc2VsZi5fc291cmNlX291dGxldC5fZWRnZXMucmVtb3ZlKHNlbGYpCgoJCXNlbGYuX3NvdXJjZV9vdXRsZXQgPSBwaW4KCQlzZWxmLnVwZGF0ZVBvc2l0aW9uKCkKCglkZWYgdGFyZ2V0SW5sZXQoc2VsZik6CgkJcmV0dXJuIHNlbGYuX3RhcmdldF9pbmxldAoKCWRlZiBzZXRUYXJnZXRJbmxldChzZWxmLCBwaW46IElubGV0V2lkZ2V0fE5vbmUpOgoJCWFzc2VydCBwaW4gaXMgTm9uZSBvciBpc2luc3RhbmNlKHBpbiwgSW5sZXRXaWRnZXQpLCBmImdvdDoge3Bpbn0iCgoJCSMgYWRkIG9yIHJlbW92ZSBlZGdlIHRvIHBpbiBlZGdlcyBmb3IgcG9zaXRpb24gdXBkYXRlCgkJaWYgcGluOgoJCQlwaW4uX2VkZ2VzLmFwcGVuZChzZWxmKQoJCWVsaWYgc2VsZi5fdGFyZ2V0X2lubGV0OgoJCQlzZWxmLl90YXJnZXRfaW5sZXQuX2VkZ2VzLnJlbW92ZShzZWxmKQoJCXNlbGYuX3RhcmdldF9pbmxldCA9IHBpbgoJCXNlbGYudXBkYXRlUG9zaXRpb24oKQoKCglkZWYgc2hhcGUoc2VsZikgLT4gUVBhaW50ZXJQYXRoOgoJCSIiIk92ZXJyaWRlIHNoYXBlIHRvIHByb3ZpZGUgYSB3aWRlciBjbGlja2FibGUgYXJlYS4iIiIKCQkKCQlzZWxmLl9zaGFwZV9wZW4uc2V0Q29zbWV0aWMoVHJ1ZSkKCQlwYXRoID0gUVBhaW50ZXJQYXRoKCkKCQlwYXRoLm1vdmVUbyhzZWxmLmxpbmUoKS5wMSgpKQoJCXBhdGgubGluZVRvKHNlbGYubGluZSgpLnAyKCkpCgkJc3Ryb2tlciA9IFFQYWludGVyUGF0aFN0cm9rZXIoKQoJCXN0cm9rZXIuc2V0V2lkdGgoc2VsZi5HcmFiVGhyZXNob2xkKQoJCXN0cm9rZXIuc2V0Q2FwU3R5bGUoUXQuUGVuQ2FwU3R5bGUuUm91bmRDYXApCgkJc3Ryb2tlci5zZXRKb2luU3R5bGUoUXQuUGVuSm9pblN0eWxlLlJvdW5kSm9pbikKCQlyZXR1cm4gc3Ryb2tlci5jcmVhdGVTdHJva2UocGF0aCkKCglkZWYgYm91bmRpbmdSZWN0KHNlbGYpIC0+IFFSZWN0RjoKCQkiIiJPdmVycmlkZSBib3VuZGluZ1JlY3QgdG8gYWNjb3VudCBmb3IgdGhlIHdpZGVyIGNvbGxpc2lvbiBzaGFwZS4iIiIKCQlzZWxmLl9zaGFwZV9wZW4gPSBRUGVuKFF0Lkdsb2JhbENvbG9yLmJsYWNrLCBzZWxmLkdyYWJUaHJlc2hvbGQpCgkJZXh0cmEgPSAoc2VsZi5fc2hhcGVfcGVuLndpZHRoKCkgKyBzZWxmLnBlbigpLndpZHRoKCkpIC8gMi4wCgkJcDEgPSBzZWxmLmxpbmUoKS5wMSgpCgkJcDIgPSBzZWxmLmxpbmUoKS5wMigpCgkJcmV0dXJuIFFSZWN0RihwMSwgUVNpemVGKHAyLngoKSAtIHAxLngoKSwgcDIueSgpIC0gcDEueSgpKSkubm9ybWFsaXplZCgpLmFkanVzdGVkKC1leHRyYSwgLWV4dHJhLCBleHRyYSwgZXh0cmEpCgoJZGVmIHVwZGF0ZVBvc2l0aW9uKHNlbGYpOgoJCSMgYXNzZXJ0IHNlbGYuX3NvdXJjZV9vdXRsZXQgYW5kIHNlbGYuX3RhcmdldF9pbmxldAoJCSMgaWYgbm90ICgKCQkjIAlzZWxmLnNjZW5lIAoJCSMgCWFuZCBzZWxmLl9zb3VyY2Vfb3V0bGV0LnNjZW5lKCkgCgkJIyAJYW5kIHNlbGYuX3RhcmdldF9pbmxldC5zY2VuZSgpCgkJIyApOgoJCSMgCXJldHVybiAjIGRvbnQgdXBkYXRlIHBvc2l0aW9uIGlmIG5vdCBpbiBzY2VuZSBvciB0aGUgcGlucyBhcmUgbm90IHBhcnQgb2YgdGhlIHNhbWUgc2NlbmUKCgkJIyBhc3NlcnQgc2VsZi5zY2VuZSgpID09IHNlbGYuX3NvdXJjZV9vdXRsZXQuc2NlbmUoKSA9PSBzZWxmLl90YXJnZXRfaW5sZXQuc2NlbmUoKQoKCgkJbGluZSA9IHNlbGYubGluZSgpCgkJc291cmNlUGluID0gc2VsZi5fc291cmNlX291dGxldAoJCXRhcmdldFBpbiA9IHNlbGYuX3RhcmdldF9pbmxldAoKCQlkZWYgZ2V0Q29ubmVjdGlvblBvaW50KHdpZGdldCk6CgkJCSMgdHJ5OgoJCQkjIAlyZXR1cm4gd2lkZ2V0LmdldENvbm5lY3Rpb25Qb2ludCgpCgkJCSMgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgoJCQlyZXR1cm4gd2lkZ2V0LnNjZW5lUG9zKCkgKyB3aWRnZXQuYm91bmRpbmdSZWN0KCkuY2VudGVyKCkKCgkJaWYgc291cmNlUGluIGFuZCB0YXJnZXRQaW46CgkJCWxpbmUuc2V0UDEoIGdldENvbm5lY3Rpb25Qb2ludChzb3VyY2VQaW4pICkKCQkJbGluZS5zZXRQMiggZ2V0Q29ubmVjdGlvblBvaW50KHRhcmdldFBpbikgKQoJCQlzZWxmLnNldExpbmUobGluZSkKCQllbGlmIHNvdXJjZVBpbjoKCQkJbGluZS5zZXRQMSggZ2V0Q29ubmVjdGlvblBvaW50KHNvdXJjZVBpbikgKQoJCQlsaW5lLnNldFAyKCBnZXRDb25uZWN0aW9uUG9pbnQoc291cmNlUGluKSApCgkJCXNlbGYuc2V0TGluZShsaW5lKQoJCWVsaWYgdGFyZ2V0UGluOgoJCQlsaW5lLnNldFAxKCBnZXRDb25uZWN0aW9uUG9pbnQodGFyZ2V0UGluKSApCgkJCWxpbmUuc2V0UDIoIGdldENvbm5lY3Rpb25Qb2ludCh0YXJnZXRQaW4pICkKCQkJc2VsZi5zZXRMaW5lKGxpbmUpCgkJZWxzZToKCQkJcmV0dXJuICMgbm90aGluZyB0byB1cGRhdGUKCglkZWYgZGVzdHJveShzZWxmKToKCQkjIFNhZmVseSByZW1vdmUgZnJvbSBzb3VyY2UgcGluCgkJaWYgc2VsZi5fc291cmNlX291dGxldDoKCQkJdHJ5OgoJCQkJc2VsZi5fc291cmNlX291dGxldC5fZWRnZXMucmVtb3ZlKHNlbGYpCgkJCWV4Y2VwdCBWYWx1ZUVycm9yOgoJCQkJcGFzcyAgIyBBbHJlYWR5IHJlbW92ZWQKCQkJc2VsZi5fc291cmNlX291dGxldCA9IE5vbmUKCgkJIyBTYWZlbHkgcmVtb3ZlIGZyb20gdGFyZ2V0IHBpbgoJCWlmIHNlbGYuX3RhcmdldF9pbmxldDoKCQkJdHJ5OgoJCQkJc2VsZi5fdGFyZ2V0X2lubGV0Ll9lZGdlcy5yZW1vdmUoc2VsZikKCQkJZXhjZXB0IFZhbHVlRXJyb3I6CgkJCQlwYXNzICAjIEFscmVhZHkgcmVtb3ZlZAoJCQlzZWxmLl90YXJnZXRfaW5sZXQgPSBOb25lCgoJCSMgU2FmZWx5IHJlbW92ZSBmcm9tIHNjZW5lCgkJaWYgc2VsZi5zY2VuZSgpOgoJCQlzZWxmLnNjZW5lKCkucmVtb3ZlSXRlbShzZWxmKQoKCWRlZiBwYWludChzZWxmLCBwYWludGVyOlFQYWludGVyLCBvcHRpb246UVN0eWxlT3B0aW9uR3JhcGhpY3NJdGVtLCB3aWRnZXQ9Tm9uZSk6CgkJcDEgPSBzZWxmLmxpbmUoKS5wMSgpCgkJcDIgPSBzZWxmLmxpbmUoKS5wMigpCgoJCXBhbGV0dGU6UVBhbGV0dGUgPSBvcHRpb24ucGFsZXR0ZSAjIHR5cGU6IGlnbm9yZQoJCXN0YXRlOlFTdHlsZS5TdGF0ZUZsYWcgPSBvcHRpb24uc3RhdGUgIyB0eXBlOiBpZ25vcmUKCQlwZW4gPSBRUGVuKHBhbGV0dGUudGV4dCgpLmNvbG9yKCksIDIpCgkJcGVuLnNldENvc21ldGljKFRydWUpCgkJcGVuLnNldFdpZHRoRigxKQoJCWlmIHN0YXRlICYgKFFTdHlsZS5TdGF0ZUZsYWcuU3RhdGVfU2VsZWN0ZWQgfCBRU3R5bGUuU3RhdGVGbGFnLlN0YXRlX01vdXNlT3Zlcik6CgkJCXBlbi5zZXRDb2xvcihwYWxldHRlLmFjY2VudCgpLmNvbG9yKCkpCgkJcGFpbnRlci5zZXRQZW4ocGVuKQoKCQkjIHBhaW50ZXIuc2V0UGVuKG9wdGlvbnMucGFsZXR0ZS5saWdodCgpLmNvbG9yKCkpCgkJcGFpbnRlci5kcmF3TGluZShzZWxmLmxpbmUoKSkKCgpjbGFzcyBEQUdTY2VuZShRR3JhcGhpY3NTY2VuZSk6CglkZWYgX19pbml0X18oc2VsZiwgcGFyZW50PU5vbmUpOgoJCXN1cGVyKCkuX19pbml0X18ocGFyZW50KQoKCQkjIENyZWF0ZSBhIHNjZW5lIHRvIGhvbGQgdGhlIG5vZGUgYW5kIGVkZ2UgZ3JhcGhpY3MKCQlzZWxmLnNldFNjZW5lUmVjdChRUmVjdCgtOTk5OS8vMiwtOTk5OS8vMiwgOTk5OSwgOTk5OSkpCgoJCXNlbGYuaW50ZXJhY3RpdmVfZWRnZTpFZGdlV2lkZ2V0fE5vbmUgPSBOb25lCgkJc2VsZi5pbnRlcmFjdGl2ZV9lZGdlX2ZpeGVkX3BpbjpQaW5XaWRnZXR8Tm9uZSA9IE5vbmUKCQlzZWxmLmludGVyYWN0aXZlX2VkZ2VfbW92aW5nX3BpbjpQaW5XaWRnZXR8Tm9uZSA9IE5vbmUgIyBrZWVwIHRyYWNrIG9mIG9yaWdpbmFsIGNvbm5lY3Rpb24KCQlzZWxmLmlzX2RyYWdnaW5nX2VkZ2UgPSBGYWxzZSAjIGluZGljYXRlIHRoYXQgYW4gZWRnZSBpcyBiZWluZyBtb3ZlZAoKCWRlZiBhZGROb2RlKHNlbGYsIG5vZGU6IE5vZGVXaWRnZXQpOgoJCXNlbGYuYWRkSXRlbShub2RlKQoKCWRlZiByZW1vdmVOb2RlcyhzZWxmLCBub2RlOk5vZGVXaWRnZXQpOgoJCW5vZGUuZGVzdHJveSgpCgoJZGVmIGFkZEVkZ2Uoc2VsZiwgZWRnZTogRWRnZVdpZGdldCk6CgkJc2VsZi5hZGRJdGVtKGVkZ2UpCgoJZGVmIHBpbkF0KHNlbGYsIHBvczpRUG9pbnR8UVBvaW50RiktPlBpbldpZGdldHxOb25lOgoJCWZvciBpdGVtIGluIHNlbGYuaXRlbXMocG9zLCBkZXZpY2VUcmFuc2Zvcm09UVRyYW5zZm9ybSgpKToKCQkJaWYgaXNpbnN0YW5jZShpdGVtLCBQaW5XaWRnZXQpOgoJCQkJcmV0dXJuIGl0ZW0KCQlyZXR1cm4gTm9uZQoKCWRlZiBub2RlQXQoc2VsZiwgcG9zOlFQb2ludHxRUG9pbnRGKS0+Tm9kZVdpZGdldHxOb25lOgoJCWZvciBpdGVtIGluIHNlbGYuaXRlbXMocG9zLCBkZXZpY2VUcmFuc2Zvcm09UVRyYW5zZm9ybSgpKToKCQkJaWYgaXNpbnN0YW5jZShpdGVtLCBOb2RlV2lkZ2V0KToKCQkJCXJldHVybiBpdGVtCgkJcmV0dXJuIE5vbmUKCglkZWYgZWRnZUF0KHNlbGYsIHBvczpRUG9pbnR8UVBvaW50RiktPkVkZ2VXaWRnZXR8Tm9uZToKCQlmb3IgaXRlbSBpbiBzZWxmLml0ZW1zKHBvcywgZGV2aWNlVHJhbnNmb3JtPVFUcmFuc2Zvcm0oKSk6CgkJCWlmIGlzaW5zdGFuY2UoaXRlbSwgRWRnZVdpZGdldCk6CgkJCQlyZXR1cm4gaXRlbQoJCXJldHVybiBOb25lCgoJZGVmIG1vdXNlUHJlc3NFdmVudChzZWxmLCBldmVudCktPk5vbmU6CgkJc2VsZi5tb3VzZVByZXNzU2NlbmVQb3MgPSBldmVudC5zY2VuZVBvcygpCgoJCWlmIHBpbjo9c2VsZi5waW5BdChldmVudC5zY2VuZVBvcygpKToKCQkJc2VsZi5pbml0aWF0ZUNvbm5lY3Rpb24ocGluKQoJCQlldmVudC5hY2NlcHQoKQoJCQlyZXR1cm4KCgkJaWYgZWRnZTo9c2VsZi5lZGdlQXQoZXZlbnQuc2NlbmVQb3MoKSk6CgkJCWRlbHRhMSA9IGVkZ2UubGluZSgpLnAxKCkgLSBldmVudC5zY2VuZVBvcygpCgkJCWQxID0gZGVsdGExLm1hbmhhdHRhbkxlbmd0aCgpCgkJCWRlbHRhMiA9IGVkZ2UubGluZSgpLnAyKCkgLSBldmVudC5zY2VuZVBvcygpCgkJCWQyID0gZGVsdGEyLm1hbmhhdHRhbkxlbmd0aCgpCgoJCQlpZiBkMTxkMjoKCQkJCXNlbGYuaW50ZXJhY3RpdmVfZWRnZV9maXhlZF9waW4gPSBlZGdlLl90YXJnZXRfaW5sZXQKCQkJCXNlbGYuaW50ZXJhY3RpdmVfZWRnZV9tb3ZpbmdfcGluID0gZWRnZS5fc291cmNlX291dGxldAoJCQllbHNlOgoJCQkJc2VsZi5pbnRlcmFjdGl2ZV9lZGdlX2ZpeGVkX3BpbiA9IGVkZ2UuX3NvdXJjZV9vdXRsZXQKCQkJCXNlbGYuaW50ZXJhY3RpdmVfZWRnZV9tb3ZpbmdfcGluID0gZWRnZS5fdGFyZ2V0X2lubGV0CgoJCQlzZWxmLmludGVyYWN0aXZlX2VkZ2UgPSBlZGdlCgkJCXNlbGYuaXNfZHJhZ2dpbmdfZWRnZSA9IEZhbHNlCgkJCWV2ZW50LmFjY2VwdCgpCgkJCXJldHVybgoJCQoJCXJldHVybiBzdXBlcigpLm1vdXNlUHJlc3NFdmVudChldmVudCkKCglkZWYgbW91c2VNb3ZlRXZlbnQoc2VsZiwgZXZlbnQ6IFFHcmFwaGljc1NjZW5lTW91c2VFdmVudCkgLT4gTm9uZToKCQlHcmFiVGhyZXNob2xkID0gMTUKCQkKCQlpZiBzZWxmLmludGVyYWN0aXZlX2VkZ2UgYW5kIG5vdCBzZWxmLmlzX2RyYWdnaW5nX2VkZ2U6CgkJCW1vdXNlRGVsdGEgPSBldmVudC5zY2VuZVBvcygpIC0gc2VsZi5tb3VzZVByZXNzU2NlbmVQb3MKCQkJSXNUaHJlc2hvbGRTdXJwYXNzZWQgPSBtb3VzZURlbHRhLm1hbmhhdHRhbkxlbmd0aCgpPkdyYWJUaHJlc2hvbGQKCQkJaWYgSXNUaHJlc2hvbGRTdXJwYXNzZWQ6CgkJCQlzZWxmLmlzX2RyYWdnaW5nX2VkZ2UgPSBUcnVlCgoJCWlmIHNlbGYuaXNfZHJhZ2dpbmdfZWRnZSBhbmQgc2VsZi5pbnRlcmFjdGl2ZV9lZGdlOgoJCQlzZWxmLm1vdmVDb25uZWN0aW9uKGV2ZW50LnNjZW5lUG9zKCkpCgkJCXJldHVybgoJCQoJCXJldHVybiBzdXBlcigpLm1vdXNlTW92ZUV2ZW50KGV2ZW50KQoKCWRlZiBtb3VzZVJlbGVhc2VFdmVudChzZWxmLCBldmVudCk6CgkJIiIiCgkJT3ZlcnJpZGUgbW91c2VSZWxlYXNlRXZlbnQgdG8gZmlsdGVyIGV2ZW50cyB3aGVuIHRoZSBtb3VzZSBpcyByZWxlYXNlZCBpbiB0aGUgc2NlbmUuCgkJIiIiCgkJaWYgc2VsZi5pc19kcmFnZ2luZ19lZGdlOgoJCQlwaW4gPSBzZWxmLnBpbkF0KGV2ZW50LnNjZW5lUG9zKCkpCgkJCXNlbGYuZmluaXNoQ29ubmVjdGlvbihwaW4pCgoJCXNlbGYuaXNfZHJhZ2dpbmdfZWRnZSA9IEZhbHNlCgkJc2VsZi5pbnRlcmFjdGl2ZV9lZGdlX2ZpeGVkX3BpbiA9IE5vbmUKCQlzZWxmLmludGVyYWN0aXZlX2VkZ2UgPSBOb25lCgkJc2VsZi5pbnRlcmFjdGl2ZV9lZGdlX21vdmluZ19waW4gPSBOb25lCgoJCXJldHVybiBzdXBlcigpLm1vdXNlUmVsZWFzZUV2ZW50KGV2ZW50KQoJCQoJZGVmIGluaXRpYXRlQ29ubmVjdGlvbihzZWxmLCBwaW4pOgoJCWlmIGlzaW5zdGFuY2UocGluLCBPdXRsZXRXaWRnZXQpOgoJCQlzZWxmLmludGVyYWN0aXZlX2VkZ2UgPSBFZGdlV2lkZ2V0KHNvdXJjZV9vdXRsZXQ9cGluLCB0YXJnZXRfaW5sZXQ9Tm9uZSkKCQkJc2VsZi5pbnRlcmFjdGl2ZV9lZGdlX2ZpeGVkX3BpbiA9IHBpbgoJCWVsaWYgaXNpbnN0YW5jZShwaW4sIElubGV0V2lkZ2V0KToKCQkJc2VsZi5pbnRlcmFjdGl2ZV9lZGdlID0gRWRnZVdpZGdldChzb3VyY2Vfb3V0bGV0PU5vbmUsIHRhcmdldF9pbmxldD1waW4pCgkJCXNlbGYuaW50ZXJhY3RpdmVfZWRnZV9maXhlZF9waW4gPSBwaW4KCQlhc3NlcnQgc2VsZi5pbnRlcmFjdGl2ZV9lZGdlCgkJc2VsZi5pbnRlcmFjdGl2ZV9lZGdlLnVwZGF0ZVBvc2l0aW9uKCkKCQlzZWxmLmFkZEl0ZW0oc2VsZi5pbnRlcmFjdGl2ZV9lZGdlKQoJCXNlbGYuaXNfZHJhZ2dpbmdfZWRnZSA9IFRydWUKCglkZWYgbW92ZUNvbm5lY3Rpb24oc2VsZiwgc2NlbmVwb3M6UVBvaW50Rik6CgkJYXNzZXJ0IGlzaW5zdGFuY2Uoc2NlbmVwb3MsIFFQb2ludEYpLCBmImdvdDoge3NjZW5lcG9zfSIKCQlhc3NlcnQgc2VsZi5pbnRlcmFjdGl2ZV9lZGdlCgoJCSMgbW92ZSBmcmVlIGVuZHBvaW50CgkJbGluZSA9IHNlbGYuaW50ZXJhY3RpdmVfZWRnZS5saW5lKCkKCQlpZiBpc2luc3RhbmNlKHNlbGYuaW50ZXJhY3RpdmVfZWRnZV9maXhlZF9waW4sIE91dGxldFdpZGdldCk6CgkJCWxpbmUuc2V0UDIoc2NlbmVwb3MpCgkJZWxpZiBpc2luc3RhbmNlKHNlbGYuaW50ZXJhY3RpdmVfZWRnZV9maXhlZF9waW4sIElubGV0V2lkZ2V0KToKCQkJbGluZS5zZXRQMShzY2VuZXBvcykKCQlzZWxmLmludGVyYWN0aXZlX2VkZ2Uuc2V0TGluZShsaW5lKQoKCQkjIGF0dGFjaCBmcmVlIGVuZHBvaW50IHRvIGNsb3NlYnkgcGluCgkJcGluVW5kZXJNb3VzZSA9IHNlbGYucGluQXQoc2NlbmVwb3MpCgoJCWlmIGN1cnJlbnRfaW5sZXQ6PXNlbGYuaW50ZXJhY3RpdmVfZWRnZS50YXJnZXRJbmxldCgpOgoJCQljdXJyZW50X2lubGV0LnNldEhpZ2hsaWdodChGYWxzZSkKCQlpZiBjdXJyZW50X291dGxldDo9c2VsZi5pbnRlcmFjdGl2ZV9lZGdlLnNvdXJjZU91dGxldCgpOgoJCQljdXJyZW50X291dGxldC5zZXRIaWdobGlnaHQoRmFsc2UpCgoJCWlmIGlzaW5zdGFuY2Uoc2VsZi5pbnRlcmFjdGl2ZV9lZGdlX2ZpeGVkX3BpbiwgT3V0bGV0V2lkZ2V0KSBhbmQgaXNpbnN0YW5jZShwaW5VbmRlck1vdXNlLCBJbmxldFdpZGdldCk6CgkJCXBpblVuZGVyTW91c2Uuc2V0SGlnaGxpZ2h0KFRydWUpCgkJCXNlbGYuaW50ZXJhY3RpdmVfZWRnZS5zZXRUYXJnZXRJbmxldChwaW5VbmRlck1vdXNlKQoJCQlzZWxmLmludGVyYWN0aXZlX2VkZ2UudXBkYXRlUG9zaXRpb24oKQoJCWVsaWYgaXNpbnN0YW5jZShzZWxmLmludGVyYWN0aXZlX2VkZ2VfZml4ZWRfcGluLCBJbmxldFdpZGdldCkgYW5kIGlzaW5zdGFuY2UocGluVW5kZXJNb3VzZSwgT3V0bGV0V2lkZ2V0KToKCQkJcGluVW5kZXJNb3VzZS5zZXRIaWdobGlnaHQoVHJ1ZSkKCQkJc2VsZi5pbnRlcmFjdGl2ZV9lZGdlLnNldFNvdXJjZU91dGxldChwaW5VbmRlck1vdXNlKQoJCQlzZWxmLmludGVyYWN0aXZlX2VkZ2UudXBkYXRlUG9zaXRpb24oKQoKCWRlZiBjYW5jZWxDb25uZWN0aW9uKHNlbGYpOgoJCWFzc2VydCBzZWxmLmlzX2RyYWdnaW5nX2VkZ2UgYW5kIHNlbGYuaW50ZXJhY3RpdmVfZWRnZSBhbmQgc2VsZi5pbnRlcmFjdGl2ZV9lZGdlX2ZpeGVkX3BpbgoKCQlpZiBzZWxmLmludGVyYWN0aXZlX2VkZ2VfbW92aW5nX3BpbjoKCQkJIyByZXN0b3JlIGVkZ2UgcGluIGNvbm5lY3Rpb25zCgkJCWlmIGlzaW5zdGFuY2Uoc2VsZi5pbnRlcmFjdGl2ZV9lZGdlX21vdmluZ19waW4sIElubGV0V2lkZ2V0KToKCQkJCXNlbGYuaW50ZXJhY3RpdmVfZWRnZS5zZXRUYXJnZXRJbmxldChzZWxmLmludGVyYWN0aXZlX2VkZ2VfbW92aW5nX3BpbikKCQkJaWYgaXNpbnN0YW5jZShzZWxmLmludGVyYWN0aXZlX2VkZ2VfbW92aW5nX3BpbiwgT3V0bGV0V2lkZ2V0KToKCQkJCXNlbGYuaW50ZXJhY3RpdmVfZWRnZS5zZXRTb3VyY2VPdXRsZXQoc2VsZi5pbnRlcmFjdGl2ZV9lZGdlX21vdmluZ19waW4pCgkJZWxzZToKCQkJc2VsZi5pbnRlcmFjdGl2ZV9lZGdlLmRlc3Ryb3koKQoJCQkjcmVtb3ZlIGNhbmNlbGxlZCBlZGdlIGNyZWF0aW9uCgoJZGVmIGNhbkNvbm5lY3Qoc2VsZiwgc3RhcnRfcGluOiBQaW5XaWRnZXQsIGVuZF9waW46IFBpbldpZGdldCkgLT4gYm9vbDoKCQkjIENoZWNrIGlmIHN0YXJ0X3BpbiBpcyBhbiBPdXRsZXRXaWRnZXQgYW5kIGVuZF9waW4gaXMgYW4gSW5sZXRXaWRnZXQsIG9yIHZpY2UgdmVyc2EKCQlpZiBpc2luc3RhbmNlKHN0YXJ0X3BpbiwgT3V0bGV0V2lkZ2V0KSBhbmQgaXNpbnN0YW5jZShlbmRfcGluLCBJbmxldFdpZGdldCk6CgkJCXJldHVybiBUcnVlCgkJZWxpZiBpc2luc3RhbmNlKHN0YXJ0X3BpbiwgSW5sZXRXaWRnZXQpIGFuZCBpc2luc3RhbmNlKGVuZF9waW4sIE91dGxldFdpZGdldCk6CgkJCXJldHVybiBUcnVlCgoJCSMgWW91IGNhbiBhZGQgYWRkaXRpb25hbCBjaGVja3MgaGVyZSAoZS5nLiwgc2FtZSBub2RlLCBhbHJlYWR5IGNvbm5lY3RlZCwgZXRjLikKCQkKCQlyZXR1cm4gRmFsc2UKCglkZWYgZmluaXNoQ29ubmVjdGlvbihzZWxmLCBwaW46UGluV2lkZ2V0fE5vbmUpOgoJCWFzc2VydCBzZWxmLmludGVyYWN0aXZlX2VkZ2VfZml4ZWRfcGluCgkJYXNzZXJ0IHNlbGYuaW50ZXJhY3RpdmVfZWRnZQoKCQlzdGFydF9waW46UGluV2lkZ2V0ID0gc2VsZi5pbnRlcmFjdGl2ZV9lZGdlX2ZpeGVkX3BpbgoJCWVuZF9waW4gPSBwaW4KCgkJaWYgcGluIGFuZCBzZWxmLmNhbkNvbm5lY3Qoc3RhcnRfcGluLCBwaW4pOgoJCQkiIiJlc3RhYmxpc2ggY29ubmVjdGlvbiIiIgoJCQlpZiBpc2luc3RhbmNlKHNlbGYuaW50ZXJhY3RpdmVfZWRnZV9maXhlZF9waW4sIElubGV0V2lkZ2V0KToKCQkJCW91dGxldCA9IGNhc3QoT3V0bGV0V2lkZ2V0LCBwaW4pCgkJCQlzZWxmLmludGVyYWN0aXZlX2VkZ2Uuc2V0U291cmNlT3V0bGV0KG91dGxldCkKCgkJCWVsaWYgaXNpbnN0YW5jZShzZWxmLmludGVyYWN0aXZlX2VkZ2VfZml4ZWRfcGluLCBPdXRsZXRXaWRnZXQpOgoJCQkJaW5sZXQgPSBjYXN0KElubGV0V2lkZ2V0LCBwaW4pCgkJCQlzZWxmLmludGVyYWN0aXZlX2VkZ2Uuc2V0VGFyZ2V0SW5sZXQoaW5sZXQpCgkJZWxzZToKCQkJIiIicmVtb3ZlIGludGVyYWN0aXZlIGVkZ2UiIiIKCQkJc2VsZi5pbnRlcmFjdGl2ZV9lZGdlLmRlc3Ryb3koKQoKCQlzZWxmLmludGVyYWN0aXZlX2VkZ2UgPSBOb25lCgkJc2VsZi5pbnRlcmFjdGl2ZV9lZGdlX2ZpeGVkX3BpbiA9IE5vbmUKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgoJY2xhc3MgR3JhcGhWaWV3KFFHcmFwaGljc1ZpZXcpOgoJCWRlZiBfX2luaXRfXyhzZWxmKToKCQkJc3VwZXIoKS5fX2luaXRfXygpCgkJCXNlbGYuc2V0V2luZG93VGl0bGUoIkRBR1NjZW5lIGV4YW1wbGUiKQoJCQlzZWxmLnNldFJlbmRlckhpbnQoUVBhaW50ZXIuUmVuZGVySGludC5BbnRpYWxpYXNpbmcpCgkJCXNlbGYuc2V0SW50ZXJhY3RpdmUoVHJ1ZSkKCQkJc2VsZi5zZXREcmFnTW9kZShRR3JhcGhpY3NWaWV3LkRyYWdNb2RlLlJ1YmJlckJhbmREcmFnKSAjIG9wdGlvbmFsLCBkZWZhdWx0IG1vdXNlIGJlaGF2aW91cgoKCQlkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpIC0+IE5vbmU6CgkJCSMgQ3JlYXRlIHRoZSBjb250ZXh0IG1lbnUKCQkJY29udGV4dF9tZW51ID0gUU1lbnUoc2VsZikKCQkJCgkJCSMgQWRkIGFjdGlvbnMgdG8gdGhlIGNvbnRleHQgbWVudQoJCQlkZWxldGVfc2VsZWN0aW9uX2FjdGlvbiA9IFFBY3Rpb24oImRlbGV0ZSBzZWxlY3Rpb24iLCBzZWxmKQoJCQljb250ZXh0X21lbnUuYWRkQWN0aW9uKGRlbGV0ZV9zZWxlY3Rpb25fYWN0aW9uKQoJCQlkZWxldGVfc2VsZWN0aW9uX2FjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChzZWxmLmRlbGV0ZVNlbGVjdGVkTm9kZXMpCgkJCQoJCQljcmVhdGVfbm9kZV9hY3Rpb24gPSBRQWN0aW9uKCJjcmVhdGUgbm9kZSIsIHNlbGYpCgkJCWNvbnRleHRfbWVudS5hZGRBY3Rpb24oY3JlYXRlX25vZGVfYWN0aW9uKQoJCQljbGlja3BvcyA9IHNlbGYubWFwVG9TY2VuZShldmVudC5wb3MoKSkKCQkJY3JlYXRlX25vZGVfYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYTogc2VsZi5jcmVhdGVOb2RlKGNsaWNrcG9zKSApCgoJCQlob3Jpem9udGFsX29yaWVudGF0aW9uX2FjdGlvbiA9IFFBY3Rpb24oZiJob3Jpem9udGFsIG9yaWVudGF0aW9uIiwgc2VsZikKCQkJY29udGV4dF9tZW51LmFkZEFjdGlvbihob3Jpem9udGFsX29yaWVudGF0aW9uX2FjdGlvbikKCQkJaG9yaXpvbnRhbF9vcmllbnRhdGlvbl9hY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3Qoc2VsZi5mbGlwT3JpZW50YXRpb24pCgoJCQlmbGlwX29yaWVudGF0aW9uX2FjdGlvbiA9IFFBY3Rpb24oZiJmbGlwIG9yaWVudGF0aW9uIiwgc2VsZikKCQkJY29udGV4dF9tZW51LmFkZEFjdGlvbihmbGlwX29yaWVudGF0aW9uX2FjdGlvbikKCQkJZmxpcF9vcmllbnRhdGlvbl9hY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3Qoc2VsZi5mbGlwT3JpZW50YXRpb24pCgkJCQoJCQkjIFNob3cgdGhlIGNvbnRleHQgbWVudSBhdCB0aGUgcG9zaXRpb24gb2YgdGhlIG1vdXNlIGV2ZW50CgkJCWNvbnRleHRfbWVudS5leGVjKGV2ZW50Lmdsb2JhbFBvcygpKQoKCQlkZWYgc2V0T3JpZW50YXRpb24oc2VsZik6CgkJCWdyYXBoc2NlbmUgPSBjYXN0KERBR1NjZW5lLCBzZWxmLnNjZW5lKCkpCgkJCWZvciBpdGVtIGluIGdyYXBoc2NlbmUuaXRlbXMoKToKCQkJCWlmIGlzaW5zdGFuY2UoaXRlbSwgTm9kZVdpZGdldCk6CgkJCQkJbm9kZSA9IGNhc3QoTm9kZVdpZGdldCwgaXRlbSkKCQkJCQlpZiBub2RlLm9yaWVudGF0aW9uKCkgPT0gUXQuT3JpZW50YXRpb24uVmVydGljYWw6CgkJCQkJCW5vZGUuc2V0T3JpZW50YXRpb24oUXQuT3JpZW50YXRpb24uSG9yaXpvbnRhbCkKCQkJCQllbGlmIG5vZGUub3JpZW50YXRpb24oKSA9PSBRdC5PcmllbnRhdGlvbi5Ib3Jpem9udGFsOgoJCQkJCQlub2RlLnNldE9yaWVudGF0aW9uKFF0Lk9yaWVudGF0aW9uLlZlcnRpY2FsKQoKCQlkZWYgZmxpcE9yaWVudGF0aW9uKHNlbGYpOgoJCQlncmFwaHNjZW5lID0gY2FzdChEQUdTY2VuZSwgc2VsZi5zY2VuZSgpKQoJCQlmb3IgaXRlbSBpbiBncmFwaHNjZW5lLml0ZW1zKCk6CgkJCQlpZiBpc2luc3RhbmNlKGl0ZW0sIE5vZGVXaWRnZXQpOgoJCQkJCW5vZGUgPSBjYXN0KE5vZGVXaWRnZXQsIGl0ZW0pCgkJCQkJaWYgbm9kZS5vcmllbnRhdGlvbigpID09IFF0Lk9yaWVudGF0aW9uLlZlcnRpY2FsOgoJCQkJCQlub2RlLnNldE9yaWVudGF0aW9uKFF0Lk9yaWVudGF0aW9uLkhvcml6b250YWwpCgkJCQkJZWxpZiBub2RlLm9yaWVudGF0aW9uKCkgPT0gUXQuT3JpZW50YXRpb24uSG9yaXpvbnRhbDoKCQkJCQkJbm9kZS5zZXRPcmllbnRhdGlvbihRdC5PcmllbnRhdGlvbi5WZXJ0aWNhbCkKCgkJZGVmIGNyZWF0ZU5vZGUoc2VsZiwgc2NlbmVwb3M9UVBvaW50RigwLDApLC8pOgoJCQlncmFwaHNjZW5lID0gY2FzdChEQUdTY2VuZSwgc2VsZi5zY2VuZSgpKQoJCQlub2RlID0gTm9kZVdpZGdldCgiPG5ldyBub2RlPiIpCgkJCW5vZGUuc2V0UG9zKHNjZW5lcG9zKQoJCQlncmFwaHNjZW5lLmFkZE5vZGUobm9kZSkKCQkJbm9kZS5hZGRJbmxldChJbmxldFdpZGdldCgiaW4iKSkKCQkJbm9kZS5hZGRPdXRsZXQoT3V0bGV0V2lkZ2V0KCJvdXQiKSkKCgkJZGVmIGRlbGV0ZVNlbGVjdGVkTm9kZXMoc2VsZik6CgkJCWZvciBub2RlIGluIChpdGVtIGZvciBpdGVtIGluIHNlbGYuc2NlbmUoKS5zZWxlY3RlZEl0ZW1zKCkgaWYgaXNpbnN0YW5jZShpdGVtLCBOb2RlV2lkZ2V0KSk6CgkJCQlub2RlLmRlc3Ryb3koKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKCWltcG9ydCBzeXMKCWFwcCA9IFFBcHBsaWNhdGlvbihzeXMuYXJndikKCgkjIHNldHVwIG1haW4gd2luZG93Cgl3aW5kb3cgPSBRV2lkZ2V0KCkKCW1haW5MYXlvdXQgPSBRVkJveExheW91dCgpCgltYWluTGF5b3V0LnNldENvbnRlbnRzTWFyZ2lucygwLDAsMCwwKQoJd2luZG93LnNldExheW91dChtYWluTGF5b3V0KQoJZ3JhcGh2aWV3ID0gUUdyYXBoaWNzVmlldygpCgltYWluTGF5b3V0LmFkZFdpZGdldChncmFwaHZpZXcpCgoJIyBjcmVhdGUgZ3JhcGggc2NlbmUKCWdyYXBoc2NlbmUgPSBEQUdTY2VuZSgpCglncmFwaHNjZW5lLnNldFNjZW5lUmVjdChRUmVjdEYoLTQwMCwgLTQwMCwgODAwLCA4MDApKQoJZ3JhcGh2aWV3LnNldFNjZW5lKGdyYXBoc2NlbmUpCgoJIyBDcmVhdGUgbm9kZXMKCXJlYWRfdGV4dF9ub2RlID0gTm9kZVdpZGdldCgiUmVhZCBUZXh0IikKCW91dGxldCA9IE91dGxldFdpZGdldCgidGV4dCBvdXQiKQoJcmVhZF90ZXh0X25vZGUuYWRkT3V0bGV0KG91dGxldCkKCWdyYXBoc2NlbmUuYWRkTm9kZShyZWFkX3RleHRfbm9kZSkKCXJlYWRfdGV4dF9ub2RlLm1vdmVCeSgtNzAsIC03MCkKCgljb252ZXJ0X25vZGUgPSBOb2RlV2lkZ2V0KCJNYXJrZG93bjJIdG1sIikKCWlubGV0ICA9SW5sZXRXaWRnZXQoIk1hcmtkb3duIGluIikKCWNvbnZlcnRfbm9kZS5hZGRJbmxldChpbmxldCkKCWNvbnZlcnRfbm9kZS5hZGRPdXRsZXQoT3V0bGV0V2lkZ2V0KCJIVE1MIG91dCIpKQoJZ3JhcGhzY2VuZS5hZGROb2RlKGNvbnZlcnRfbm9kZSkKCWNvbnZlcnRfbm9kZS5tb3ZlQnkoMCwgMCkKCgl3cml0ZV90ZXh0X25vZGUgPSBOb2RlV2lkZ2V0KCJXcml0ZSBUZXh0IikKCXdyaXRlX3RleHRfbm9kZS5hZGRJbmxldChJbmxldFdpZGdldCgidGV4dCBpbiIpKQoJZ3JhcGhzY2VuZS5hZGROb2RlKHdyaXRlX3RleHRfbm9kZSkKCXdyaXRlX3RleHRfbm9kZS5tb3ZlQnkoNzAsIDEwMCkKCgkjIGNyZWF0ZSBlZGdlMQoJZWRnZTEgPSBFZGdlV2lkZ2V0KG91dGxldCwgaW5sZXQpCglncmFwaHNjZW5lLmFkZEVkZ2UoZWRnZTEpCgoJIyBzZXQgbm9kZXMgb3JpZW50YXRpb24KCWZvciBub2RlIGluIChpdGVtIGZvciBpdGVtIGluIGdyYXBoc2NlbmUuaXRlbXMoKSBpZiBpc2luc3RhbmNlKGl0ZW0sIE5vZGVXaWRnZXQpKToKCQlub2RlLnNldE9yaWVudGF0aW9uKFF0Lk9yaWVudGF0aW9uLlZlcnRpY2FsKQoKCSMgc2hvdyB3aW5kb3cKCXdpbmRvdy5zaG93KCkKCXN5cy5leGl0KGFwcC5leGVjKCkpCg",
					"AQAAAAAAAAABAAAAVwwAAAAAAABXDAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "pylive/utils/unique.py",
			"settings":
			{
				"buffer_size": 658,
				"line_ending": "Windows"
			}
		},
		{
			"file": "pylive/examples/python_function_graph/main.py",
			"settings":
			{
				"buffer_size": 3075,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					1503,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAHUBAAAAAAAAdgEAAAAAAAAAAAAAdgEAAAAAAAB2AQAAAAAAADkAAABmcm9tIHN0YW5kYXJkX2dyYXBoX2RlbGVnYXRlIGltcG9ydCBBYnN0cmFjdEdyYXBoRGVsZWdhdGU",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK4BAAAAAAAAdQEAAAAAAAAAAAAAAADwvw"
				],
				[
					1504,
					1,
					"left_delete",
					null,
					"AQAAAHUBAAAAAAAAdQEAAAAAAAABAAAACg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHYBAAAAAAAAdgEAAAAAAAAAAAAAAADwvw"
				],
				[
					1528,
					1,
					"left_delete",
					null,
					"AQAAACkHAAAAAAAAKQcAAAAAAAAIBwAAZGVmIGNyZWF0ZU5vZGVXaWRnZXQoc2VsZiwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlKSAtPiBRR3JhcGhpY3NJdGVtOgogICAgICAgICIiImNyZWF0ZSBhbmQgYmluZCB0aGUgd2lkZ2V0IiIiCiAgICAgICAgZm4gPSBncmFwaC5nZXROb2RlUHJvcGVydHkobiwgImZuIikKICAgICAgICB3aWRnZXQgPSBGdW5jdGlvbk5vZGVXaWRnZXQoZm4pCiAgICAgICAgcmV0dXJuIHdpZGdldAoKICAgIGRlZiBjcmVhdGVQcm9wZXJ0eVdpZGdldCgKICAgICAgICBzZWxmLCBncmFwaDogR3JhcGhNb2RlbCwgbjogSGFzaGFibGUsIGF0dHI6IHN0ciwgcHJvcDogb2JqZWN0CiAgICApOgogICAgICAgIHBhc3MKCiAgICBkZWYgc2V0Tm9kZVdpZGdldFByb3BzKAogICAgICAgIHNlbGYsIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZSwgd2lkZ2V0OiBRR3JhcGhpY3NXaWRnZXQsICoqcHJvcHMKICAgICk6CiAgICAgICAgLi4uCiAgICAgICAgcHJpbnQoImhlbGxvIikKICAgICAgICAiIiJ1cGRhdGUgaXdkZ2V0IHByb3BzIGZyb20gbW9kZWwiIiIKICAgICAgICAjIGlmICdsYWJlbCcgaW4gcHJvcHMua2V5cygpOgogICAgICAgICMgCXdpZGdldC5sYWJlbC5kb2N1bWVudCgpLnNldFBsYWluVGV4dChwcm9wc1snbGFiZWwnXSkKCiAgICAgICAgIyBpZiAnaW5sZXRzJyBpbiBwcm9wcy5rZXlzKCk6CiAgICAgICAgIyAJLi4uCgogICAgICAgICMgaWYgJ291dGxldHMnIGluIHByb3BzLmtleXMoKToKICAgICAgICAjIAkuLi4KCiAgICBkZWYgc2V0Tm9kZU1vZGVsUHJvcHMoCiAgICAgICAgc2VsZiwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlLCB3aWRnZXQ6IFFHcmFwaGljc1dpZGdldCwgKipwcm9wcwogICAgKToKICAgICAgICAiIiJ1cGRhdGUgbW9kZWwgcHJvcHMgZnJvbSB3aWRnZXQiIiIKICAgICAgICBncmFwaC5zZXROb2RlUHJvcGVydGllcyhuLCAqKnByb3BzKQoKICAgIGRlZiBjcmVhdGVFZGdlV2lkZ2V0KAogICAgICAgIHNlbGYsCiAgICAgICAgZ3JhcGg6IEdyYXBoTW9kZWwsCiAgICAgICAgc291cmNlOiBRR3JhcGhpY3NXaWRnZXQsCiAgICAgICAgdGFyZ2V0OiBRR3JhcGhpY3NXaWRnZXQsCiAgICApIC0+IFFHcmFwaGljc0Fycm93SXRlbToKICAgICAgICBsaW5rID0gRm5FZGdlV2lkZ2V0KCkKCiAgICAgICAgZGVmIHVwZGF0ZV9saW5rKCk6CiAgICAgICAgICAgIGxpbmsuc2V0TGluZSgKICAgICAgICAgICAgICAgIG1ha2VMaW5lQmV0d2VlblNoYXBlcyhzb3VyY2UuZ2VvbWV0cnkoKSwgdGFyZ2V0Lmdlb21ldHJ5KCkpCiAgICAgICAgICAgICkKCiAgICAgICAgdXBkYXRlX2xpbmsoKQoKICAgICAgICBzb3VyY2UuZ2VvbWV0cnlDaGFuZ2VkLmNvbm5lY3QodXBkYXRlX2xpbmspCiAgICAgICAgdGFyZ2V0Lmdlb21ldHJ5Q2hhbmdlZC5jb25uZWN0KHVwZGF0ZV9saW5rKQoKICAgICAgICByZXR1cm4gbGluawoKICAgIGRlZiBzZXRFZGdlV2lkZ2V0UHJvcHMoCiAgICAgICAgc2VsZiwKICAgICAgICBncmFwaDogR3JhcGhNb2RlbCwKICAgICAgICBlOiBUdXBsZVtIYXNoYWJsZSwgSGFzaGFibGVdLAogICAgICAgIHdpZGdldDogUUdyYXBoaWNzQXJyb3dJdGVtLAogICAgICAgICoqcHJvcHMsCiAgICApOgogICAgICAgIC4uLgoKICAgIGRlZiBzZXRFZGdlTW9kZWxQcm9wcygKICAgICAgICBzZWxmLAogICAgICAgIGdyYXBoOiBHcmFwaE1vZGVsLAogICAgICAgIGU6IFR1cGxlW0hhc2hhYmxlLCBIYXNoYWJsZV0sCiAgICAgICAgd2lkZ2V0OiBRR3JhcGhpY3NBcnJvd0l0ZW0sCiAgICAgICAgKipwcm9wcywKICAgICk6CiAgICAgICAgLi4u",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADEOAAAAAAAAKQcAAAAAAAAAAAAAAADwvw"
				],
				[
					1529,
					1,
					"insert",
					{
						"characters": "def"
					},
					"AwAAACkHAAAAAAAAKgcAAAAAAAAAAAAAKgcAAAAAAAArBwAAAAAAAAAAAAArBwAAAAAAACwHAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACkHAAAAAAAAKQcAAAAAAAAAAAAAAADwvw"
				],
				[
					1530,
					1,
					"insert",
					{
						"characters": " pan"
					},
					"BAAAACwHAAAAAAAALQcAAAAAAAAAAAAALQcAAAAAAAAuBwAAAAAAAAAAAAAuBwAAAAAAAC8HAAAAAAAAAAAAAC8HAAAAAAAAMAcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACwHAAAAAAAALAcAAAAAAAAAAAAAAADwvw"
				],
				[
					1531,
					1,
					"left_delete",
					null,
					"AQAAAC8HAAAAAAAALwcAAAAAAAABAAAAbg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADAHAAAAAAAAMAcAAAAAAAAAAAAAAADwvw"
				],
				[
					1532,
					1,
					"insert",
					{
						"characters": "intNode"
					},
					"BwAAAC8HAAAAAAAAMAcAAAAAAAAAAAAAMAcAAAAAAAAxBwAAAAAAAAAAAAAxBwAAAAAAADIHAAAAAAAAAAAAADIHAAAAAAAAMwcAAAAAAAAAAAAAMwcAAAAAAAA0BwAAAAAAAAAAAAA0BwAAAAAAADUHAAAAAAAAAAAAADUHAAAAAAAANgcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAC8HAAAAAAAALwcAAAAAAAAAAAAAAADwvw"
				],
				[
					1533,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAADYHAAAAAAAAOAcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADYHAAAAAAAANgcAAAAAAAAAAAAAAADwvw"
				],
				[
					1534,
					1,
					"insert",
					{
						"characters": "self"
					},
					"BAAAADcHAAAAAAAAOAcAAAAAAAAAAAAAOAcAAAAAAAA5BwAAAAAAAAAAAAA5BwAAAAAAADoHAAAAAAAAAAAAADoHAAAAAAAAOwcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADcHAAAAAAAANwcAAAAAAAAAAAAAAADwvw"
				],
				[
					1535,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAADsHAAAAAAAAPAcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADsHAAAAAAAAOwcAAAAAAAAAAAAAAADwvw"
				],
				[
					1536,
					1,
					"insert",
					{
						"characters": " graph:"
					},
					"BwAAADwHAAAAAAAAPQcAAAAAAAAAAAAAPQcAAAAAAAA+BwAAAAAAAAAAAAA+BwAAAAAAAD8HAAAAAAAAAAAAAD8HAAAAAAAAQAcAAAAAAAAAAAAAQAcAAAAAAABBBwAAAAAAAAAAAABBBwAAAAAAAEIHAAAAAAAAAAAAAEIHAAAAAAAAQwcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADwHAAAAAAAAPAcAAAAAAAAAAAAAAADwvw"
				],
				[
					1537,
					1,
					"insert",
					{
						"characters": "GraphMode"
					},
					"CQAAAEMHAAAAAAAARAcAAAAAAAAAAAAARAcAAAAAAABFBwAAAAAAAAAAAABFBwAAAAAAAEYHAAAAAAAAAAAAAEYHAAAAAAAARwcAAAAAAAAAAAAARwcAAAAAAABIBwAAAAAAAAAAAABIBwAAAAAAAEkHAAAAAAAAAAAAAEkHAAAAAAAASgcAAAAAAAAAAAAASgcAAAAAAABLBwAAAAAAAAAAAABLBwAAAAAAAEwHAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEMHAAAAAAAAQwcAAAAAAAAAAAAAAADwvw"
				],
				[
					1538,
					1,
					"insert",
					{
						"characters": "l,"
					},
					"AgAAAEwHAAAAAAAATQcAAAAAAAAAAAAATQcAAAAAAABOBwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEwHAAAAAAAATAcAAAAAAAAAAAAAAADwvw"
				],
				[
					1539,
					1,
					"insert",
					{
						"characters": " n:Hasha"
					},
					"CAAAAE4HAAAAAAAATwcAAAAAAAAAAAAATwcAAAAAAABQBwAAAAAAAAAAAABQBwAAAAAAAFEHAAAAAAAAAAAAAFEHAAAAAAAAUgcAAAAAAAAAAAAAUgcAAAAAAABTBwAAAAAAAAAAAABTBwAAAAAAAFQHAAAAAAAAAAAAAFQHAAAAAAAAVQcAAAAAAAAAAAAAVQcAAAAAAABWBwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAE4HAAAAAAAATgcAAAAAAAAAAAAAAADwvw"
				],
				[
					1540,
					1,
					"insert",
					{
						"characters": "ble"
					},
					"AwAAAFYHAAAAAAAAVwcAAAAAAAAAAAAAVwcAAAAAAABYBwAAAAAAAAAAAABYBwAAAAAAAFkHAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFYHAAAAAAAAVgcAAAAAAAAAAAAAAADwvw"
				],
				[
					1542,
					1,
					"insert",
					{
						"characters": ":"
					},
					"AQAAAFoHAAAAAAAAWwcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFoHAAAAAAAAWgcAAAAAAAAAAAAAAADwvw"
				],
				[
					1543,
					1,
					"insert",
					{
						"characters": "\nre"
					},
					"BQAAAFsHAAAAAAAAXAcAAAAAAAAAAAAAXAcAAAAAAABgBwAAAAAAAAAAAABgBwAAAAAAAGEHAAAAAAAAAAAAAGEHAAAAAAAAYgcAAAAAAAAAAAAAYgcAAAAAAABjBwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFsHAAAAAAAAWwcAAAAAAAAAAAAAAADwvw"
				],
				[
					1544,
					1,
					"insert",
					{
						"characters": "turn"
					},
					"BAAAAGMHAAAAAAAAZAcAAAAAAAAAAAAAZAcAAAAAAABlBwAAAAAAAAAAAABlBwAAAAAAAGYHAAAAAAAAAAAAAGYHAAAAAAAAZwcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGMHAAAAAAAAYwcAAAAAAAAAAAAAAADwvw"
				],
				[
					1545,
					6,
					"left_delete",
					null,
					"BgAAAGYHAAAAAAAAZgcAAAAAAAABAAAAbmUHAAAAAAAAZQcAAAAAAAABAAAAcmQHAAAAAAAAZAcAAAAAAAABAAAAdWMHAAAAAAAAYwcAAAAAAAABAAAAdGIHAAAAAAAAYgcAAAAAAAABAAAAZWEHAAAAAAAAYQcAAAAAAAABAAAAcg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGcHAAAAAAAAZwcAAAAAAAAAAAAAAADwvw"
				],
				[
					1552,
					1,
					"insert",
					{
						"characters": "QObject"
					},
					"CQAAAA0HAAAAAAAADgcAAAAAAAAAAAAADgcAAAAAAAAOBwAAAAAAABUAAABBYnN0cmFjdEdyYXBoRGVsZWdhdGVIBwAAAAAAAEgHAAAAAAAABQAAACAgICAJDgcAAAAAAAAPBwAAAAAAAAAAAAAPBwAAAAAAABAHAAAAAAAAAAAAABAHAAAAAAAAEQcAAAAAAAAAAAAAEQcAAAAAAAASBwAAAAAAAAAAAAASBwAAAAAAABMHAAAAAAAAAAAAABMHAAAAAAAAFAcAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAA0HAAAAAAAAIgcAAAAAAAAAAAAAAADwvw"
				],
				[
					1557,
					1,
					"left_delete",
					null,
					"AQAAAE8HAAAAAAAATwcAAAAAAAABAAAACg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFAHAAAAAAAAUAcAAAAAAAAAAAAAAADwvw"
				],
				[
					1589,
					2,
					"left_delete",
					null,
					"AgAAAEAGAAAAAAAAQAYAAAAAAAC1AAAAY2xhc3MgRm5FZGdlV2lkZ2V0KFFHcmFwaGljc0Fycm93SXRlbSk6CiAgICBkZWYgX19pbml0X18oc2VsZiwgcGFyZW50PU5vbmUpOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBwZW4gPSBRUGVuKFFDb2xvcigid2hpdGUiKSwgMikKICAgICAgICBzZWxmLnNldFBlbihwZW4pCj8GAAAAAAAAPwYAAAAAAAABAAAACg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPUGAAAAAAAAQAYAAAAAAAAAAAAAAADwvw"
				],
				[
					1599,
					1,
					"unexpand_tabs",
					{
						"set_translate_tabs": true
					},
					"AQAAAAAAAAAAAAAAPAsAAAAAAAAyDAAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldwoKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9uYW1lCgpmcm9tIGZ1bmN0aW9uX3dpZGdldCBpbXBvcnQgRnVuY3Rpb25Ob2RlV2lkZ2V0CgoKIyBjbGFzcyBGbk5vZGVXaWRnZXQoUUdyYXBoaWNzV2lkZ2V0KToKIyAgICAgZGVmIF9faW5pdF9fKHNlbGYsIHBhcmVudDogT3B0aW9uYWxbUUdyYXBoaWNzSXRlbV0gPSBOb25lKSAtPiBOb25lOgojICAgICAgICAgUUdyYXBoaWNzV2lkZ2V0Ll9faW5pdF9fKHNlbGYsIHBhcmVudD1wYXJlbnQpCiMgICAgICAgICBzZWxmLnNldEZsYWcoUUdyYXBoaWNzSXRlbS5HcmFwaGljc0l0ZW1GbGFnLkl0ZW1Jc01vdmFibGUsIFRydWUpCiMgICAgICAgICBzZWxmLnNldEZsYWcoUUdyYXBoaWNzSXRlbS5HcmFwaGljc0l0ZW1GbGFnLkl0ZW1Jc1NlbGVjdGFibGUsIFRydWUpCiMgICAgICAgICBzZWxmLnNldEZsYWcoUUdyYXBoaWNzSXRlbS5HcmFwaGljc0l0ZW1GbGFnLkl0ZW1Jc0ZvY3VzYWJsZSwgVHJ1ZSkKCiMgICAgIGRlZiBwYWludChzZWxmLCBwYWludGVyLCBvcHRpb246IFFTdHlsZU9wdGlvbkdyYXBoaWNzSXRlbSwgd2lkZ2V0PU5vbmUpOgojICAgICAgICAgcGFsZXR0ZSA9IHNlbGYucGFsZXR0ZSgpCgojICAgICAgICAgcGVuID0gUVBlbihwYWxldHRlLmNvbG9yKFFQYWxldHRlLkNvbG9yUm9sZS5UZXh0KSwgMSkKIyAgICAgICAgIHBhaW50ZXIuc2V0UGVuKHBlbikKIyAgICAgICAgIHJlY3QgPSBRUmVjdEYoMCwgMCwgc2VsZi5nZW9tZXRyeSgpLndpZHRoKCksIHNlbGYuZ2VvbWV0cnkoKS5oZWlnaHQoKSkKIyAgICAgICAgICMgcGFpbnRlci5kcmF3RWxsaXBzZShyZWN0KQoKIyAgICAgICAgIHBhaW50ZXIuZHJhd1JvdW5kZWRSZWN0KHJlY3QsIDEwLCAxMCkKCiMgICAgICAgICBpZiBRU3R5bGUuU3RhdGVGbGFnLlN0YXRlX1NlbGVjdGVkIGluIG9wdGlvbi5zdGF0ZToKIyAgICAgICAgICAgICBwZW4gPSBRUGVuKAojICAgICAgICAgICAgICAgICBwYWxldHRlLmNvbG9yKFFQYWxldHRlLkNvbG9yUm9sZS5XaW5kb3dUZXh0KSwKIyAgICAgICAgICAgICAgICAgMSwKIyAgICAgICAgICAgICAgICAgUXQuUGVuU3R5bGUuRGFzaExpbmUsCiMgICAgICAgICAgICAgKQojICAgICAgICAgICAgIHBhaW50ZXIuc2V0UGVuKHBlbikKIyAgICAgICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChyZWN0LCAxLCAxKQoKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoUU9iamVjdCk6CiAgICBkZWYgcGFpbnROb2RlKHNlbGYsIGdyYXBoOkdyYXBoTW9kZWwsIG46SGFzaGFibGUpOgoKCmNsYXNzIEZuR3JhcGhWaWV3KEdyYXBoVmlldyk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgZnVuY3Rpb25zOiBMaXN0W0NhbGxhYmxlXSwgcGFyZW50OiBRV2lkZ2V0IHwgTm9uZSA9IE5vbmUKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQ9cGFyZW50KQoKICAgICAgICBzZWxmLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucwoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgIC4uLgoKICAgIGRlZiBjb250ZXh0TWVudUV2ZW50KHNlbGYsIGV2ZW50OiBRQ29udGV4dE1lbnVFdmVudCk6CiAgICAgICAgdmlld3BvcyA9IHNlbGYubWFwRnJvbUdsb2JhbChldmVudC5nbG9iYWxQb3MoKSkKICAgICAgICBzY2VuZXBvcyA9IHNlbGYubWFwVG9TY2VuZSh2aWV3cG9zKQoKICAgICAgICBkZWYgYWRkX25vZGUoZm46IENhbGxhYmxlKToKICAgICAgICAgICAgaWYgZ3JhcGhtb2RlbCA6PSBzZWxmLm1vZGVsKCk6CiAgICAgICAgICAgICAgICB1bmlxdWVfbm9kZV9uYW1lID0gbWFrZV91bmlxdWVfbmFtZSgKICAgICAgICAgICAgICAgICAgICBmbi5fX25hbWVfXywgW24gZm9yIG4gaW4gZ3JhcGhtb2RlbC5ub2RlcygpXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhcGhtb2RlbC5hZGROb2RlKHVuaXF1ZV9ub2RlX25hbWUsIGZuPWZuKQoKICAgICAgICBncmFwaG1vZGVsID0gc2VsZi5tb2RlbCgpCiAgICAgICAgaWYgZ3JhcGhtb2RlbDoKICAgICAgICAgICAgYWRkX21lbnU6IFFNZW51ID0gUU1lbnUoImFkZCIpCgogICAgICAgICAgICBmb3IgZm4gaW4gc2VsZi5mdW5jdGlvbnM6CiAgICAgICAgICAgICAgICBhY3Rpb24gPSBRQWN0aW9uKHNlbGYpCgogICAgICAgICAgICAgICAgYWN0aW9uLnNldFRleHQoZm4uX19uYW1lX18pCiAgICAgICAgICAgICAgICBhY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhIGNoZWNrZWQsIGZuPWZuOiBhZGRfbm9kZShmbikpCiAgICAgICAgICAgICAgICBhZGRfbWVudS5hZGRBY3Rpb24oYWN0aW9uKQoKICAgICAgICAgICAgYWRkX21lbnUuZXhlYyhldmVudC5nbG9iYWxQb3MoKSkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXBwID0gUUFwcGxpY2F0aW9uKCkKICAgIGdyYXBoX21vZGVsID0gR3JhcGhNb2RlbCgpCiAgICBmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCiAgICBjd2QgPSBQYXRoLmN3ZCgpCiAgICBjd2QuZ2xvYigiKiIpCgogICAgZ3JhcGhfdmlldyA9IEZuR3JhcGhWaWV3KAogICAgICAgIFtsZW4sIHByaW50LCBQYXRoLmN3ZCwgUGF0aC5pdGVyZGlyLCBQYXRoLnJlYWRfdGV4dF0KICAgICkKICAgIGdyYXBoX3ZpZXcuc2V0TW9kZWwoZ3JhcGhfbW9kZWwpCiAgICBncmFwaF92aWV3LnNob3coKQogICAgYXBwLmV4ZWMoKQo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAMgwAAAAAAAAAAAAAAADwvw"
				],
				[
					1608,
					1,
					"paste",
					null,
					"AgAAAFsGAAAAAAAAZQkAAAAAAAAAAAAAZQkAAAAAAABlCQAAAAAAADMAAAAJZGVmIHBhaW50Tm9kZShzZWxmLCBncmFwaDpHcmFwaE1vZGVsLCBuOkhhc2hhYmxlKTo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAI4GAAAAAAAAWwYAAAAAAAAAAAAAAADwvw"
				],
				[
					1611,
					2,
					"left_delete",
					null,
					"AgAAAPQBAAAAAAAA9AEAAAAAAABEBAAACiMgY2xhc3MgRm5Ob2RlV2lkZ2V0KFFHcmFwaGljc1dpZGdldCk6CiMgICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwYXJlbnQ6IE9wdGlvbmFsW1FHcmFwaGljc0l0ZW1dID0gTm9uZSkgLT4gTm9uZToKIyAgICAgICAgIFFHcmFwaGljc1dpZGdldC5fX2luaXRfXyhzZWxmLCBwYXJlbnQ9cGFyZW50KQojICAgICAgICAgc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNNb3ZhYmxlLCBUcnVlKQojICAgICAgICAgc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNTZWxlY3RhYmxlLCBUcnVlKQojICAgICAgICAgc2VsZi5zZXRGbGFnKFFHcmFwaGljc0l0ZW0uR3JhcGhpY3NJdGVtRmxhZy5JdGVtSXNGb2N1c2FibGUsIFRydWUpCgojICAgICBkZWYgcGFpbnQoc2VsZiwgcGFpbnRlciwgb3B0aW9uOiBRU3R5bGVPcHRpb25HcmFwaGljc0l0ZW0sIHdpZGdldD1Ob25lKToKIyAgICAgICAgIHBhbGV0dGUgPSBzZWxmLnBhbGV0dGUoKQoKIyAgICAgICAgIHBlbiA9IFFQZW4ocGFsZXR0ZS5jb2xvcihRUGFsZXR0ZS5Db2xvclJvbGUuVGV4dCksIDEpCiMgICAgICAgICBwYWludGVyLnNldFBlbihwZW4pCiMgICAgICAgICByZWN0ID0gUVJlY3RGKDAsIDAsIHNlbGYuZ2VvbWV0cnkoKS53aWR0aCgpLCBzZWxmLmdlb21ldHJ5KCkuaGVpZ2h0KCkpCiMgICAgICAgICAjIHBhaW50ZXIuZHJhd0VsbGlwc2UocmVjdCkKCiMgICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChyZWN0LCAxMCwgMTApCgojICAgICAgICAgaWYgUVN0eWxlLlN0YXRlRmxhZy5TdGF0ZV9TZWxlY3RlZCBpbiBvcHRpb24uc3RhdGU6CiMgICAgICAgICAgICAgcGVuID0gUVBlbigKIyAgICAgICAgICAgICAgICAgcGFsZXR0ZS5jb2xvcihRUGFsZXR0ZS5Db2xvclJvbGUuV2luZG93VGV4dCksCiMgICAgICAgICAgICAgICAgIDEsCiMgICAgICAgICAgICAgICAgIFF0LlBlblN0eWxlLkRhc2hMaW5lLAojICAgICAgICAgICAgICkKIyAgICAgICAgICAgICBwYWludGVyLnNldFBlbihwZW4pCiMgICAgICAgICAgICAgcGFpbnRlci5kcmF3Um91bmRlZFJlY3QocmVjdCwgMSwgMSkK8wEAAAAAAADzAQAAAAAAAAEAAAAK",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADgGAAAAAAAA9AEAAAAAAAAAAAAAAADwvw"
				],
				[
					1615,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAwAoAAAAAAADOCQAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAoJbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAoJUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldwoKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9uYW1lCgpmcm9tIGZ1bmN0aW9uX3dpZGdldCBpbXBvcnQgRnVuY3Rpb25Ob2RlV2lkZ2V0CgoKCmNsYXNzIEZuR3JhcGhEZWxlZ2F0ZShRT2JqZWN0KToKICAgIGRlZiBzaXplSGludCgKICAgICAgICBzZWxmLCBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLCBncmFwaDogR3JhcGhNb2RlbCwgbjogSGFzaGFibGUKICAgICkgLT4gUVNpemVGOgogICAgICAgIHBhZGRpbmcgPSA0CiAgICAgICAgZm0gPSBRRm9udE1ldHJpY3Mob3B0aW9uLmZvbnQpCiAgICAgICAgdGV4dF93aWR0aCA9IGZtLmhvcml6b250YWxBZHZhbmNlKGYie259IikKICAgICAgICByZXR1cm4gUVNpemVGKAogICAgICAgICAgICBwYWRkaW5nICsgdGV4dF93aWR0aCArIHBhZGRpbmcsIHBhZGRpbmcgKyBmbS5hc2NlbnQoKSArIHBhZGRpbmcKICAgICAgICApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsCiAgICAgICAgcGFpbnRlcjogUVBhaW50ZXIsCiAgICAgICAgb3B0aW9uOiBRU3R5bGVPcHRpb25WaWV3SXRlbSwKICAgICAgICBncmFwaCwKICAgICAgICBuOiBIYXNoYWJsZSwKICAgICk6CiAgICAgICAgcGFkZGluZyA9IDQKICAgICAgICAjIGRyYXcgb3V0bGluZQogICAgICAgIHBhaW50ZXIuZHJhd1JvdW5kZWRSZWN0KG9wdGlvbi5yZWN0LCA0LCA0KQoKICAgICAgICAjIGRyYXcgbm9kZSB0ZXh0CiAgICAgICAgZm0gPSBvcHRpb24uZm9udE1ldHJpY3MKICAgICAgICB5ID0gb3B0aW9uLnJlY3QuaGVpZ2h0KCkgLSBwYWRkaW5nCiAgICAgICAgcGFpbnRlci5kcmF3VGV4dChwYWRkaW5nLCB5LCBmIntufSIpCiAgICAgICAgIyBwYWludGVyLmRyYXdMaW5lKDAsIHksIG9wdGlvbi5yZWN0LndpZHRoKCksIHkpICMgZHJhdyBiYXNlbGluZQoKCmNsYXNzIEZuR3JhcGhWaWV3KEdyYXBoVmlldyk6CglkZWYgX19pbml0X18oCgkJc2VsZiwgZnVuY3Rpb25zOiBMaXN0W0NhbGxhYmxlXSwgcGFyZW50OiBRV2lkZ2V0IHwgTm9uZSA9IE5vbmUKCSk6CgkJc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQ9cGFyZW50KQoKCQlzZWxmLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucwoKCWRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFNb3VzZUV2ZW50KSAtPiBOb25lOgoJCS4uLgoKCWRlZiBjb250ZXh0TWVudUV2ZW50KHNlbGYsIGV2ZW50OiBRQ29udGV4dE1lbnVFdmVudCk6CgkJdmlld3BvcyA9IHNlbGYubWFwRnJvbUdsb2JhbChldmVudC5nbG9iYWxQb3MoKSkKCQlzY2VuZXBvcyA9IHNlbGYubWFwVG9TY2VuZSh2aWV3cG9zKQoKCQlkZWYgYWRkX25vZGUoZm46IENhbGxhYmxlKToKCQkJaWYgZ3JhcGhtb2RlbCA6PSBzZWxmLm1vZGVsKCk6CgkJCQl1bmlxdWVfbm9kZV9uYW1lID0gbWFrZV91bmlxdWVfbmFtZSgKCQkJCQlmbi5fX25hbWVfXywgW24gZm9yIG4gaW4gZ3JhcGhtb2RlbC5ub2RlcygpXQoJCQkJKQoJCQkJZ3JhcGhtb2RlbC5hZGROb2RlKHVuaXF1ZV9ub2RlX25hbWUsIGZuPWZuKQoKCQlncmFwaG1vZGVsID0gc2VsZi5tb2RlbCgpCgkJaWYgZ3JhcGhtb2RlbDoKCQkJYWRkX21lbnU6IFFNZW51ID0gUU1lbnUoImFkZCIpCgoJCQlmb3IgZm4gaW4gc2VsZi5mdW5jdGlvbnM6CgkJCQlhY3Rpb24gPSBRQWN0aW9uKHNlbGYpCgoJCQkJYWN0aW9uLnNldFRleHQoZm4uX19uYW1lX18pCgkJCQlhY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhIGNoZWNrZWQsIGZuPWZuOiBhZGRfbm9kZShmbikpCgkJCQlhZGRfbWVudS5hZGRBY3Rpb24oYWN0aW9uKQoKCQkJYWRkX21lbnUuZXhlYyhldmVudC5nbG9iYWxQb3MoKSkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgoJYXBwID0gUUFwcGxpY2F0aW9uKCkKCWdyYXBoX21vZGVsID0gR3JhcGhNb2RlbCgpCglmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCgljd2QgPSBQYXRoLmN3ZCgpCgljd2QuZ2xvYigiKiIpCgoJZ3JhcGhfdmlldyA9IEZuR3JhcGhWaWV3KAoJCVtsZW4sIHByaW50LCBQYXRoLmN3ZCwgUGF0aC5pdGVyZGlyLCBQYXRoLnJlYWRfdGV4dF0KCSkKCWdyYXBoX3ZpZXcuc2V0TW9kZWwoZ3JhcGhfbW9kZWwpCglncmFwaF92aWV3LnNob3coKQoJYXBwLmV4ZWMoKQo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABUCAAAAAAAAFQIAAAAAAAAAAAAAAADwvw"
				],
				[
					1619,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAwAoAAAAAAADACgAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldwoKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9uYW1lCgpmcm9tIGZ1bmN0aW9uX3dpZGdldCBpbXBvcnQgRnVuY3Rpb25Ob2RlV2lkZ2V0CgoKY2xhc3MgRm5HcmFwaERlbGVnYXRlKFFPYmplY3QpOgogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDQKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2UoZiJ7bn0iKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBkZWYgcGFpbnQoCiAgICAgICAgc2VsZiwKICAgICAgICBwYWludGVyOiBRUGFpbnRlciwKICAgICAgICBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLAogICAgICAgIGdyYXBoLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgKToKICAgICAgICBwYWRkaW5nID0gNAogICAgICAgICMgZHJhdyBvdXRsaW5lCiAgICAgICAgcGFpbnRlci5kcmF3Um91bmRlZFJlY3Qob3B0aW9uLnJlY3QsIDQsIDQpCgogICAgICAgICMgZHJhdyBub2RlIHRleHQKICAgICAgICBmbSA9IG9wdGlvbi5mb250TWV0cmljcwogICAgICAgIHkgPSBvcHRpb24ucmVjdC5oZWlnaHQoKSAtIHBhZGRpbmcKICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIGYie259IikKICAgICAgICAjIHBhaW50ZXIuZHJhd0xpbmUoMCwgeSwgb3B0aW9uLnJlY3Qud2lkdGgoKSwgeSkgIyBkcmF3IGJhc2VsaW5lCgoKY2xhc3MgRm5HcmFwaFZpZXcoR3JhcGhWaWV3KToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLCBmdW5jdGlvbnM6IExpc3RbQ2FsbGFibGVdLCBwYXJlbnQ6IFFXaWRnZXQgfCBOb25lID0gTm9uZQogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudD1wYXJlbnQpCgogICAgICAgIHNlbGYuZnVuY3Rpb25zID0gZnVuY3Rpb25zCgogICAgZGVmIG1vdXNlRG91YmxlQ2xpY2tFdmVudChzZWxmLCBldmVudDogUU1vdXNlRXZlbnQpIC0+IE5vbmU6CiAgICAgICAgLi4uCgogICAgZGVmIGNvbnRleHRNZW51RXZlbnQoc2VsZiwgZXZlbnQ6IFFDb250ZXh0TWVudUV2ZW50KToKICAgICAgICB2aWV3cG9zID0gc2VsZi5tYXBGcm9tR2xvYmFsKGV2ZW50Lmdsb2JhbFBvcygpKQogICAgICAgIHNjZW5lcG9zID0gc2VsZi5tYXBUb1NjZW5lKHZpZXdwb3MpCgogICAgICAgIGRlZiBhZGRfbm9kZShmbjogQ2FsbGFibGUpOgogICAgICAgICAgICBpZiBncmFwaG1vZGVsIDo9IHNlbGYubW9kZWwoKToKICAgICAgICAgICAgICAgIHVuaXF1ZV9ub2RlX25hbWUgPSBtYWtlX3VuaXF1ZV9uYW1lKAogICAgICAgICAgICAgICAgICAgIGZuLl9fbmFtZV9fLCBbbiBmb3IgbiBpbiBncmFwaG1vZGVsLm5vZGVzKCldCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBncmFwaG1vZGVsLmFkZE5vZGUodW5pcXVlX25vZGVfbmFtZSwgZm49Zm4pCgogICAgICAgIGdyYXBobW9kZWwgPSBzZWxmLm1vZGVsKCkKICAgICAgICBpZiBncmFwaG1vZGVsOgogICAgICAgICAgICBhZGRfbWVudTogUU1lbnUgPSBRTWVudSgiYWRkIikKCiAgICAgICAgICAgIGZvciBmbiBpbiBzZWxmLmZ1bmN0aW9uczoKICAgICAgICAgICAgICAgIGFjdGlvbiA9IFFBY3Rpb24oc2VsZikKCiAgICAgICAgICAgICAgICBhY3Rpb24uc2V0VGV4dChmbi5fX25hbWVfXykKICAgICAgICAgICAgICAgIGFjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGEgY2hlY2tlZCwgZm49Zm46IGFkZF9ub2RlKGZuKSkKICAgICAgICAgICAgICAgIGFkZF9tZW51LmFkZEFjdGlvbihhY3Rpb24pCgogICAgICAgICAgICBhZGRfbWVudS5leGVjKGV2ZW50Lmdsb2JhbFBvcygpKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBhcHAgPSBRQXBwbGljYXRpb24oKQogICAgZ3JhcGhfbW9kZWwgPSBHcmFwaE1vZGVsKCkKICAgIGZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKICAgIGN3ZCA9IFBhdGguY3dkKCkKICAgIGN3ZC5nbG9iKCIqIikKCiAgICBncmFwaF92aWV3ID0gRm5HcmFwaFZpZXcoCiAgICAgICAgW2xlbiwgcHJpbnQsIFBhdGguY3dkLCBQYXRoLml0ZXJkaXIsIFBhdGgucmVhZF90ZXh0XQogICAgKQogICAgZ3JhcGhfdmlldy5zZXRNb2RlbChncmFwaF9tb2RlbCkKICAgIGdyYXBoX3ZpZXcuc2hvdygpCiAgICBhcHAuZXhlYygpCg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOwDAAAAAAAA7AMAAAAAAAAAAAAAAADwvw"
				],
				[
					1625,
					1,
					"reindent",
					null,
					"AQAAAM4FAAAAAAAA1gUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAM4FAAAAAAAAzgUAAAAAAAAAAAAAAMBpQA"
				],
				[
					1626,
					1,
					"insert",
					{
						"characters": "self."
					},
					"BQAAANYFAAAAAAAA1wUAAAAAAAAAAAAA1wUAAAAAAADYBQAAAAAAAAAAAADYBQAAAAAAANkFAAAAAAAAAAAAANkFAAAAAAAA2gUAAAAAAAAAAAAA2gUAAAAAAADbBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANYFAAAAAAAA1gUAAAAAAAAAAAAAAADwvw"
				],
				[
					1627,
					1,
					"insert",
					{
						"characters": "_del"
					},
					"BAAAANsFAAAAAAAA3AUAAAAAAAAAAAAA3AUAAAAAAADdBQAAAAAAAAAAAADdBQAAAAAAAN4FAAAAAAAAAAAAAN4FAAAAAAAA3wUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANsFAAAAAAAA2wUAAAAAAAAAAAAAAADwvw"
				],
				[
					1628,
					1,
					"insert_completion",
					{
						"completion": "lsp_select_completion {\"index\":1,\"session_name\":\"LSP-pyright\"}",
						"format": "command",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "_delegate"
					},
					"AgAAANsFAAAAAAAA2wUAAAAAAAAEAAAAX2RlbNsFAAAAAAAA5AUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAN8FAAAAAAAA3wUAAAAAAAAAAAAAAADwvw"
				],
				[
					1629,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAOQFAAAAAAAA5QUAAAAAAAAAAAAA5QUAAAAAAADmBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOQFAAAAAAAA5AUAAAAAAAAAAAAAAADwvw"
				],
				[
					1630,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAOYFAAAAAAAA5wUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOYFAAAAAAAA5gUAAAAAAAAAAAAAAADwvw"
				],
				[
					1640,
					1,
					"paste",
					null,
					"AQAAAOcFAAAAAAAA9gUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOcFAAAAAAAA5wUAAAAAAAAAAAAAAADwvw"
				],
				[
					1641,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAPYFAAAAAAAA+AUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPYFAAAAAAAA9gUAAAAAAAAAAAAAAADwvw"
				],
				[
					1653,
					1,
					"paste",
					null,
					"AgAAABECAAAAAAAAHQIAAAAAAAAAAAAAHQIAAAAAAAAdAgAAAAAAAAcAAABRT2JqZWN0",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABECAAAAAAAAGAIAAAAAAAAAAAAAAADwvw"
				],
				[
					1656,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAPoBAAAAAAAA+wEAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPoBAAAAAAAA+gEAAAAAAAAAAAAAAADwvw"
				],
				[
					1658,
					1,
					"insert",
					{
						"characters": "NodeD"
					},
					"BQAAAPoBAAAAAAAA+wEAAAAAAAAAAAAA+wEAAAAAAAD8AQAAAAAAAAAAAAD8AQAAAAAAAP0BAAAAAAAAAAAAAP0BAAAAAAAA/gEAAAAAAAAAAAAA/gEAAAAAAAD/AQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAPoBAAAAAAAA+gEAAAAAAAAAAAAAAAAAAA"
				],
				[
					1659,
					1,
					"insert_completion",
					{
						"completion": "lsp_select_completion {\"index\":11,\"session_name\":\"LSP-pyright\"}",
						"format": "command",
						"keep_prefix": true,
						"must_insert": false,
						"query_change_id":
						[
							1084,
							1658,
							5
						],
						"trigger": "NodeDelegate"
					},
					"AwAAAPoBAAAAAAAA+gEAAAAAAAAFAAAATm9kZUT6AQAAAAAAAAYCAAAAAAAAAAAAAJYBAAAAAAAApAEAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAP8BAAAAAAAA/wEAAAAAAAAAAAAAAADwvw"
				],
				[
					1664,
					3,
					"left_delete",
					null,
					"AwAAAAgCAAAAAAAACAIAAAAAAAAMAAAATm9kZURlbGVnYXRlBwIAAAAAAAAHAgAAAAAAAAEAAAAKBgIAAAAAAAAGAgAAAAAAAAEAAAAK",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABQCAAAAAAAACAIAAAAAAAAAAAAAAADwvw"
				],
				[
					1668,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA/QoAAAAAAAD8CgAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCmNsYXNzIEZuR3JhcGhEZWxlZ2F0ZShOb2RlRGVsZWdhdGUpOgogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDQKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2UoZiJ7bn0iKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBkZWYgcGFpbnQoCiAgICAgICAgc2VsZiwKICAgICAgICBwYWludGVyOiBRUGFpbnRlciwKICAgICAgICBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLAogICAgICAgIGdyYXBoLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgKToKICAgICAgICBwYWRkaW5nID0gNAogICAgICAgICMgZHJhdyBvdXRsaW5lCiAgICAgICAgcGFpbnRlci5kcmF3Um91bmRlZFJlY3Qob3B0aW9uLnJlY3QsIDQsIDQpCgogICAgICAgICMgZHJhdyBub2RlIHRleHQKICAgICAgICBmbSA9IG9wdGlvbi5mb250TWV0cmljcwogICAgICAgIHkgPSBvcHRpb24ucmVjdC5oZWlnaHQoKSAtIHBhZGRpbmcKICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIGYie259IikKICAgICAgICAjIHBhaW50ZXIuZHJhd0xpbmUoMCwgeSwgb3B0aW9uLnJlY3Qud2lkdGgoKSwgeSkgIyBkcmF3IGJhc2VsaW5lCgoKY2xhc3MgRm5HcmFwaFZpZXcoR3JhcGhWaWV3KToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLCBmdW5jdGlvbnM6IExpc3RbQ2FsbGFibGVdLCBwYXJlbnQ6IFFXaWRnZXQgfCBOb25lID0gTm9uZQogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudD1wYXJlbnQpCiAgICAgICAgc2VsZi5fZGVsZWdhdGUgPSBGbkdyYXBoRGVsZWdhdGUoKQogICAgICAgIHNlbGYuZnVuY3Rpb25zID0gZnVuY3Rpb25zCgogICAgZGVmIG1vdXNlRG91YmxlQ2xpY2tFdmVudChzZWxmLCBldmVudDogUU1vdXNlRXZlbnQpIC0+IE5vbmU6CiAgICAgICAgLi4uCgogICAgZGVmIGNvbnRleHRNZW51RXZlbnQoc2VsZiwgZXZlbnQ6IFFDb250ZXh0TWVudUV2ZW50KToKICAgICAgICB2aWV3cG9zID0gc2VsZi5tYXBGcm9tR2xvYmFsKGV2ZW50Lmdsb2JhbFBvcygpKQogICAgICAgIHNjZW5lcG9zID0gc2VsZi5tYXBUb1NjZW5lKHZpZXdwb3MpCgogICAgICAgIGRlZiBhZGRfbm9kZShmbjogQ2FsbGFibGUpOgogICAgICAgICAgICBpZiBncmFwaG1vZGVsIDo9IHNlbGYubW9kZWwoKToKICAgICAgICAgICAgICAgIHVuaXF1ZV9ub2RlX25hbWUgPSBtYWtlX3VuaXF1ZV9uYW1lKAogICAgICAgICAgICAgICAgICAgIGZuLl9fbmFtZV9fLCBbbiBmb3IgbiBpbiBncmFwaG1vZGVsLm5vZGVzKCldCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBncmFwaG1vZGVsLmFkZE5vZGUodW5pcXVlX25vZGVfbmFtZSwgZm49Zm4pCgogICAgICAgIGdyYXBobW9kZWwgPSBzZWxmLm1vZGVsKCkKICAgICAgICBpZiBncmFwaG1vZGVsOgogICAgICAgICAgICBhZGRfbWVudTogUU1lbnUgPSBRTWVudSgiYWRkIikKCiAgICAgICAgICAgIGZvciBmbiBpbiBzZWxmLmZ1bmN0aW9uczoKICAgICAgICAgICAgICAgIGFjdGlvbiA9IFFBY3Rpb24oc2VsZikKCiAgICAgICAgICAgICAgICBhY3Rpb24uc2V0VGV4dChmbi5fX25hbWVfXykKICAgICAgICAgICAgICAgIGFjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGEgY2hlY2tlZCwgZm49Zm46IGFkZF9ub2RlKGZuKSkKICAgICAgICAgICAgICAgIGFkZF9tZW51LmFkZEFjdGlvbihhY3Rpb24pCgogICAgICAgICAgICBhZGRfbWVudS5leGVjKGV2ZW50Lmdsb2JhbFBvcygpKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBhcHAgPSBRQXBwbGljYXRpb24oKQogICAgZ3JhcGhfbW9kZWwgPSBHcmFwaE1vZGVsKCkKICAgIGZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKICAgIGN3ZCA9IFBhdGguY3dkKCkKICAgIGN3ZC5nbG9iKCIqIikKCiAgICBncmFwaF92aWV3ID0gRm5HcmFwaFZpZXcoCiAgICAgICAgW2xlbiwgcHJpbnQsIFBhdGguY3dkLCBQYXRoLml0ZXJkaXIsIFBhdGgucmVhZF90ZXh0XQogICAgKQogICAgZ3JhcGhfdmlldy5zZXRNb2RlbChncmFwaF9tb2RlbCkKICAgIGdyYXBoX3ZpZXcuc2hvdygpCiAgICBhcHAuZXhlYygpCg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAcCAAAAAAAABwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1671,
					1,
					"left_delete",
					null,
					"AQAAAK4CAAAAAAAArgIAAAAAAAABAAAANA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK8CAAAAAAAArwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1672,
					1,
					"insert",
					{
						"characters": "16"
					},
					"AgAAAK4CAAAAAAAArwIAAAAAAAAAAAAArwIAAAAAAACwAgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK4CAAAAAAAArgIAAAAAAAAAAAAAAADwvw"
				],
				[
					1675,
					1,
					"left_delete",
					null,
					"AQAAABMEAAAAAAAAEwQAAAAAAAABAAAANA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABQEAAAAAAAAFAQAAAAAAAAAAAAAAADwvw"
				],
				[
					1676,
					1,
					"insert",
					{
						"characters": "16"
					},
					"AgAAABMEAAAAAAAAFAQAAAAAAAAAAAAAFAQAAAAAAAAVBAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABMEAAAAAAAAEwQAAAAAAAAAAAAAAADwvw"
				],
				[
					1678,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA/woAAAAAAAD/CgAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKICAgIGRlZiBzaXplSGludCgKICAgICAgICBzZWxmLCBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLCBncmFwaDogR3JhcGhNb2RlbCwgbjogSGFzaGFibGUKICAgICkgLT4gUVNpemVGOgogICAgICAgIHBhZGRpbmcgPSAxNgogICAgICAgIGZtID0gUUZvbnRNZXRyaWNzKG9wdGlvbi5mb250KQogICAgICAgIHRleHRfd2lkdGggPSBmbS5ob3Jpem9udGFsQWR2YW5jZShmIntufSIpCiAgICAgICAgcmV0dXJuIFFTaXplRigKICAgICAgICAgICAgcGFkZGluZyArIHRleHRfd2lkdGggKyBwYWRkaW5nLCBwYWRkaW5nICsgZm0uYXNjZW50KCkgKyBwYWRkaW5nCiAgICAgICAgKQoKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLAogICAgICAgIHBhaW50ZXI6IFFQYWludGVyLAogICAgICAgIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sCiAgICAgICAgZ3JhcGgsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICApOgogICAgICAgIHBhZGRpbmcgPSAxNgogICAgICAgICMgZHJhdyBvdXRsaW5lCiAgICAgICAgcGFpbnRlci5kcmF3Um91bmRlZFJlY3Qob3B0aW9uLnJlY3QsIDQsIDQpCgogICAgICAgICMgZHJhdyBub2RlIHRleHQKICAgICAgICBmbSA9IG9wdGlvbi5mb250TWV0cmljcwogICAgICAgIHkgPSBvcHRpb24ucmVjdC5oZWlnaHQoKSAtIHBhZGRpbmcKICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIGYie259IikKICAgICAgICAjIHBhaW50ZXIuZHJhd0xpbmUoMCwgeSwgb3B0aW9uLnJlY3Qud2lkdGgoKSwgeSkgIyBkcmF3IGJhc2VsaW5lCgoKY2xhc3MgRm5HcmFwaFZpZXcoR3JhcGhWaWV3KToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLCBmdW5jdGlvbnM6IExpc3RbQ2FsbGFibGVdLCBwYXJlbnQ6IFFXaWRnZXQgfCBOb25lID0gTm9uZQogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudD1wYXJlbnQpCiAgICAgICAgc2VsZi5fZGVsZWdhdGUgPSBGbkdyYXBoRGVsZWdhdGUoKQogICAgICAgIHNlbGYuZnVuY3Rpb25zID0gZnVuY3Rpb25zCgogICAgZGVmIG1vdXNlRG91YmxlQ2xpY2tFdmVudChzZWxmLCBldmVudDogUU1vdXNlRXZlbnQpIC0+IE5vbmU6CiAgICAgICAgLi4uCgogICAgZGVmIGNvbnRleHRNZW51RXZlbnQoc2VsZiwgZXZlbnQ6IFFDb250ZXh0TWVudUV2ZW50KToKICAgICAgICB2aWV3cG9zID0gc2VsZi5tYXBGcm9tR2xvYmFsKGV2ZW50Lmdsb2JhbFBvcygpKQogICAgICAgIHNjZW5lcG9zID0gc2VsZi5tYXBUb1NjZW5lKHZpZXdwb3MpCgogICAgICAgIGRlZiBhZGRfbm9kZShmbjogQ2FsbGFibGUpOgogICAgICAgICAgICBpZiBncmFwaG1vZGVsIDo9IHNlbGYubW9kZWwoKToKICAgICAgICAgICAgICAgIHVuaXF1ZV9ub2RlX25hbWUgPSBtYWtlX3VuaXF1ZV9uYW1lKAogICAgICAgICAgICAgICAgICAgIGZuLl9fbmFtZV9fLCBbbiBmb3IgbiBpbiBncmFwaG1vZGVsLm5vZGVzKCldCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBncmFwaG1vZGVsLmFkZE5vZGUodW5pcXVlX25vZGVfbmFtZSwgZm49Zm4pCgogICAgICAgIGdyYXBobW9kZWwgPSBzZWxmLm1vZGVsKCkKICAgICAgICBpZiBncmFwaG1vZGVsOgogICAgICAgICAgICBhZGRfbWVudTogUU1lbnUgPSBRTWVudSgiYWRkIikKCiAgICAgICAgICAgIGZvciBmbiBpbiBzZWxmLmZ1bmN0aW9uczoKICAgICAgICAgICAgICAgIGFjdGlvbiA9IFFBY3Rpb24oc2VsZikKCiAgICAgICAgICAgICAgICBhY3Rpb24uc2V0VGV4dChmbi5fX25hbWVfXykKICAgICAgICAgICAgICAgIGFjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGEgY2hlY2tlZCwgZm49Zm46IGFkZF9ub2RlKGZuKSkKICAgICAgICAgICAgICAgIGFkZF9tZW51LmFkZEFjdGlvbihhY3Rpb24pCgogICAgICAgICAgICBhZGRfbWVudS5leGVjKGV2ZW50Lmdsb2JhbFBvcygpKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBhcHAgPSBRQXBwbGljYXRpb24oKQogICAgZ3JhcGhfbW9kZWwgPSBHcmFwaE1vZGVsKCkKICAgIGZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKICAgIGN3ZCA9IFBhdGguY3dkKCkKICAgIGN3ZC5nbG9iKCIqIikKCiAgICBncmFwaF92aWV3ID0gRm5HcmFwaFZpZXcoCiAgICAgICAgW2xlbiwgcHJpbnQsIFBhdGguY3dkLCBQYXRoLml0ZXJkaXIsIFBhdGgucmVhZF90ZXh0XQogICAgKQogICAgZ3JhcGhfdmlldy5zZXRNb2RlbChncmFwaF9tb2RlbCkKICAgIGdyYXBoX3ZpZXcuc2hvdygpCiAgICBhcHAuZXhlYygpCg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABUEAAAAAAAAFQQAAAAAAAAAAAAAAADwvw"
				],
				[
					1681,
					1,
					"left_delete",
					null,
					"AQAAADsFAAAAAAAAOwUAAAAAAAABAAAACg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADwFAAAAAAAAPAUAAAAAAAAAAAAAAADwvw"
				],
				[
					1684,
					1,
					"insert",
					{
						"characters": "\n\nself.g"
					},
					"CwAAAF8EAAAAAAAAYAQAAAAAAAAAAAAAYAQAAAAAAABoBAAAAAAAAAAAAABoBAAAAAAAAGkEAAAAAAAAAAAAAGkEAAAAAAAAcQQAAAAAAAAAAAAAYAQAAAAAAABgBAAAAAAAAAgAAAAgICAgICAgIGkEAAAAAAAAagQAAAAAAAAAAAAAagQAAAAAAABrBAAAAAAAAAAAAABrBAAAAAAAAGwEAAAAAAAAAAAAAGwEAAAAAAAAbQQAAAAAAAAAAAAAbQQAAAAAAABuBAAAAAAAAAAAAABuBAAAAAAAAG8EAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAF8EAAAAAAAAXwQAAAAAAAAAAAAAAADwvw"
				],
				[
					1685,
					1,
					"insert",
					{
						"characters": "ra"
					},
					"AgAAAG8EAAAAAAAAcAQAAAAAAAAAAAAAcAQAAAAAAABxBAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAG8EAAAAAAAAbwQAAAAAAAAAAAAAAADwvw"
				],
				[
					1687,
					1,
					"left_delete",
					null,
					"AQAAAGAEAAAAAAAAYAQAAAAAAAARAAAACiAgICAgICAgc2VsZi5ncmE",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHEEAAAAAAAAYAQAAAAAAAAAAAAAAEBYQA"
				],
				[
					1694,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"BQAAADsFAAAAAAAAPAUAAAAAAAAAAAAAPAUAAAAAAABEBQAAAAAAAAAAAABEBQAAAAAAAEUFAAAAAAAAAAAAAEUFAAAAAAAATQUAAAAAAAAAAAAAPAUAAAAAAAA8BQAAAAAAAAgAAAAgICAgICAgIA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADsFAAAAAAAAOwUAAAAAAAAAAAAAAADwvw"
				],
				[
					1695,
					1,
					"paste",
					null,
					"AQAAAEUFAAAAAAAAzQUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEUFAAAAAAAARQUAAAAAAAAAAAAAAADwvw"
				],
				[
					1698,
					2,
					"left_delete",
					null,
					"AgAAAFYFAAAAAAAAVgUAAAAAAABKAAAAICAgICAgICBmbSA9IG9wdGlvbi5mb250TWV0cmljcwogICAgICAgIHkgPSBvcHRpb24ucmVjdC5oZWlnaHQoKSAtIHBhZGRpbmdVBQAAAAAAAFUFAAAAAAAAAQAAAAo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKAFAAAAAAAAVgUAAAAAAAAAAAAAAADwvw"
				],
				[
					1702,
					1,
					"insert",
					{
						"characters": "\nfn"
					},
					"BAAAAFUFAAAAAAAAVgUAAAAAAAAAAAAAVgUAAAAAAABeBQAAAAAAAAAAAABeBQAAAAAAAF8FAAAAAAAAAAAAAF8FAAAAAAAAYAUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFUFAAAAAAAAVQUAAAAAAAAAAAAAAADwvw"
				],
				[
					1703,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAGAFAAAAAAAAYQUAAAAAAAAAAAAAYQUAAAAAAABiBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGAFAAAAAAAAYAUAAAAAAAAAAAAAAADwvw"
				],
				[
					1704,
					1,
					"insert",
					{
						"characters": " graph."
					},
					"BwAAAGIFAAAAAAAAYwUAAAAAAAAAAAAAYwUAAAAAAABkBQAAAAAAAAAAAABkBQAAAAAAAGUFAAAAAAAAAAAAAGUFAAAAAAAAZgUAAAAAAAAAAAAAZgUAAAAAAABnBQAAAAAAAAAAAABnBQAAAAAAAGgFAAAAAAAAAAAAAGgFAAAAAAAAaQUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGIFAAAAAAAAYgUAAAAAAAAAAAAAAADwvw"
				],
				[
					1705,
					1,
					"insert",
					{
						"characters": "nodeP"
					},
					"BQAAAGkFAAAAAAAAagUAAAAAAAAAAAAAagUAAAAAAABrBQAAAAAAAAAAAABrBQAAAAAAAGwFAAAAAAAAAAAAAGwFAAAAAAAAbQUAAAAAAAAAAAAAbQUAAAAAAABuBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGkFAAAAAAAAaQUAAAAAAAAAAAAAAADwvw"
				],
				[
					1706,
					5,
					"left_delete",
					null,
					"BQAAAG0FAAAAAAAAbQUAAAAAAAABAAAAUGwFAAAAAAAAbAUAAAAAAAABAAAAZWsFAAAAAAAAawUAAAAAAAABAAAAZGoFAAAAAAAAagUAAAAAAAABAAAAb2kFAAAAAAAAaQUAAAAAAAABAAAAbg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAG4FAAAAAAAAbgUAAAAAAAAAAAAAAADwvw"
				],
				[
					1707,
					1,
					"insert",
					{
						"characters": "getN"
					},
					"BAAAAGkFAAAAAAAAagUAAAAAAAAAAAAAagUAAAAAAABrBQAAAAAAAAAAAABrBQAAAAAAAGwFAAAAAAAAAAAAAGwFAAAAAAAAbQUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGkFAAAAAAAAaQUAAAAAAAAAAAAAAADwvw"
				],
				[
					1708,
					4,
					"left_delete",
					null,
					"BAAAAGwFAAAAAAAAbAUAAAAAAAABAAAATmsFAAAAAAAAawUAAAAAAAABAAAAdGoFAAAAAAAAagUAAAAAAAABAAAAZWkFAAAAAAAAaQUAAAAAAAABAAAAZw",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAG0FAAAAAAAAbQUAAAAAAAAAAAAAAADwvw"
				],
				[
					1711,
					1,
					"insert",
					{
						"characters": ":"
					},
					"AQAAAOMDAAAAAAAA5AMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOMDAAAAAAAA4wMAAAAAAAAAAAAAAADwvw"
				],
				[
					1712,
					1,
					"left_delete",
					null,
					"AQAAAOMDAAAAAAAA4wMAAAAAAAABAAAAOg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOQDAAAAAAAA5AMAAAAAAAAAAAAAAADwvw"
				],
				[
					1713,
					1,
					"insert",
					{
						"characters": ":"
					},
					"AQAAAOMDAAAAAAAA5AMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOMDAAAAAAAA4wMAAAAAAAAAAAAAAADwvw"
				],
				[
					1719,
					1,
					"insert",
					{
						"characters": "GraphMoel"
					},
					"CQAAAOQDAAAAAAAA5QMAAAAAAAAAAAAA5QMAAAAAAADmAwAAAAAAAAAAAADmAwAAAAAAAOcDAAAAAAAAAAAAAOcDAAAAAAAA6AMAAAAAAAAAAAAA6AMAAAAAAADpAwAAAAAAAAAAAADpAwAAAAAAAOoDAAAAAAAAAAAAAOoDAAAAAAAA6wMAAAAAAAAAAAAA6wMAAAAAAADsAwAAAAAAAAAAAADsAwAAAAAAAO0DAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOQDAAAAAAAA5AMAAAAAAAAAAAAAAADwvw"
				],
				[
					1721,
					1,
					"insert",
					{
						"characters": "d"
					},
					"AQAAAOsDAAAAAAAA7AMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOsDAAAAAAAA6wMAAAAAAAAAAAAAAADwvw"
				],
				[
					1728,
					1,
					"left_delete",
					null,
					"AQAAAHMFAAAAAAAAcwUAAAAAAAABAAAALg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHQFAAAAAAAAdAUAAAAAAAAAAAAAAADwvw"
				],
				[
					1729,
					1,
					"insert",
					{
						"characters": ".getN"
					},
					"BQAAAHMFAAAAAAAAdAUAAAAAAAAAAAAAdAUAAAAAAAB1BQAAAAAAAAAAAAB1BQAAAAAAAHYFAAAAAAAAAAAAAHYFAAAAAAAAdwUAAAAAAAAAAAAAdwUAAAAAAAB4BQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHMFAAAAAAAAcwUAAAAAAAAAAAAAAADwvw"
				],
				[
					1730,
					1,
					"insert_completion",
					{
						"completion": "lsp_select_completion {\"index\":0,\"session_name\":\"LSP-pyright\"}",
						"format": "command",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "getNodeProperty"
					},
					"AgAAAHQFAAAAAAAAdAUAAAAAAAAEAAAAZ2V0TnQFAAAAAAAAgwUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHgFAAAAAAAAeAUAAAAAAAAAAAAAAADwvw"
				],
				[
					1731,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAIMFAAAAAAAAhQUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIMFAAAAAAAAgwUAAAAAAAAAAAAAAADwvw"
				],
				[
					1732,
					1,
					"insert",
					{
						"characters": "n,"
					},
					"AgAAAIQFAAAAAAAAhQUAAAAAAAAAAAAAhQUAAAAAAACGBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIQFAAAAAAAAhAUAAAAAAAAAAAAAAADwvw"
				],
				[
					1733,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAIYFAAAAAAAAhwUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIYFAAAAAAAAhgUAAAAAAAAAAAAAAADwvw"
				],
				[
					1734,
					1,
					"insert_snippet",
					{
						"contents": "\"$0\""
					},
					"AQAAAIcFAAAAAAAAiQUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIcFAAAAAAAAhwUAAAAAAAAAAAAAAADwvw"
				],
				[
					1735,
					1,
					"insert",
					{
						"characters": "fn"
					},
					"AgAAAIgFAAAAAAAAiQUAAAAAAAAAAAAAiQUAAAAAAACKBQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIgFAAAAAAAAiAUAAAAAAAAAAAAAAADwvw"
				],
				[
					1738,
					1,
					"insert",
					{
						"characters": "-"
					},
					"AQAAALcFAAAAAAAAuAUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALcFAAAAAAAAtwUAAAAAAAAAAAAAAADwvw"
				],
				[
					1739,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAALgFAAAAAAAAugUAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALgFAAAAAAAAuAUAAAAAAAAAAAAAAADwvw"
				],
				[
					1740,
					1,
					"insert",
					{
						"characters": "fn"
					},
					"AgAAALkFAAAAAAAAugUAAAAAAAAAAAAAugUAAAAAAAC7BQAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALkFAAAAAAAAuQUAAAAAAAAAAAAAAADwvw"
				],
				[
					1742,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAgwsAAAAAAACCCwAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKICAgIGRlZiBzaXplSGludCgKICAgICAgICBzZWxmLCBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLCBncmFwaDogR3JhcGhNb2RlbCwgbjogSGFzaGFibGUKICAgICkgLT4gUVNpemVGOgogICAgICAgIHBhZGRpbmcgPSAxNgogICAgICAgIGZtID0gUUZvbnRNZXRyaWNzKG9wdGlvbi5mb250KQogICAgICAgIHRleHRfd2lkdGggPSBmbS5ob3Jpem9udGFsQWR2YW5jZShmIntufSIpCiAgICAgICAgcmV0dXJuIFFTaXplRigKICAgICAgICAgICAgcGFkZGluZyArIHRleHRfd2lkdGggKyBwYWRkaW5nLCBwYWRkaW5nICsgZm0uYXNjZW50KCkgKyBwYWRkaW5nCiAgICAgICAgKQoKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLAogICAgICAgIHBhaW50ZXI6IFFQYWludGVyLAogICAgICAgIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sCiAgICAgICAgZ3JhcGg6R3JhcGhNb2RlbCwKICAgICAgICBuOiBIYXNoYWJsZSwKICAgICk6CiAgICAgICAgcGFkZGluZyA9IDE2CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCgogICAgICAgICMgZHJhdyBub2RlIHRleHQKICAgICAgICBmbSA9IG9wdGlvbi5mb250TWV0cmljcwogICAgICAgIHkgPSBvcHRpb24ucmVjdC5oZWlnaHQoKSAtIHBhZGRpbmcKICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIGYie259IikKICAgICAgICAjIHBhaW50ZXIuZHJhd0xpbmUoMCwgeSwgb3B0aW9uLnJlY3Qud2lkdGgoKSwgeSkgIyBkcmF3IGJhc2VsaW5lCgogICAgICAgICMgZHJhdyBub2RlIHRleHQKICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKQogICAgICAgIHBhaW50ZXIuZHJhd1RleHQocGFkZGluZywgeSwgZiJ7bn0te2ZufSIpCgpjbGFzcyBGbkdyYXBoVmlldyhHcmFwaFZpZXcpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGZ1bmN0aW9uczogTGlzdFtDYWxsYWJsZV0sIHBhcmVudDogUVdpZGdldCB8IE5vbmUgPSBOb25lCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBzZWxmLl9kZWxlZ2F0ZSA9IEZuR3JhcGhEZWxlZ2F0ZSgpCiAgICAgICAgc2VsZi5mdW5jdGlvbnMgPSBmdW5jdGlvbnMKCiAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAuLi4KCiAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgIHZpZXdwb3MgPSBzZWxmLm1hcEZyb21HbG9iYWwoZXZlbnQuZ2xvYmFsUG9zKCkpCiAgICAgICAgc2NlbmVwb3MgPSBzZWxmLm1hcFRvU2NlbmUodmlld3BvcykKCiAgICAgICAgZGVmIGFkZF9ub2RlKGZuOiBDYWxsYWJsZSk6CiAgICAgICAgICAgIGlmIGdyYXBobW9kZWwgOj0gc2VsZi5tb2RlbCgpOgogICAgICAgICAgICAgICAgdW5pcXVlX25vZGVfbmFtZSA9IG1ha2VfdW5pcXVlX25hbWUoCiAgICAgICAgICAgICAgICAgICAgZm4uX19uYW1lX18sIFtuIGZvciBuIGluIGdyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYXBobW9kZWwuYWRkTm9kZSh1bmlxdWVfbm9kZV9uYW1lLCBmbj1mbikKCiAgICAgICAgZ3JhcGhtb2RlbCA9IHNlbGYubW9kZWwoKQogICAgICAgIGlmIGdyYXBobW9kZWw6CiAgICAgICAgICAgIGFkZF9tZW51OiBRTWVudSA9IFFNZW51KCJhZGQiKQoKICAgICAgICAgICAgZm9yIGZuIGluIHNlbGYuZnVuY3Rpb25zOgogICAgICAgICAgICAgICAgYWN0aW9uID0gUUFjdGlvbihzZWxmKQoKICAgICAgICAgICAgICAgIGFjdGlvbi5zZXRUZXh0KGZuLl9fbmFtZV9fKQogICAgICAgICAgICAgICAgYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYSBjaGVja2VkLCBmbj1mbjogYWRkX25vZGUoZm4pKQogICAgICAgICAgICAgICAgYWRkX21lbnUuYWRkQWN0aW9uKGFjdGlvbikKCiAgICAgICAgICAgIGFkZF9tZW51LmV4ZWMoZXZlbnQuZ2xvYmFsUG9zKCkpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICBncmFwaF9tb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgogICAgY3dkID0gUGF0aC5jd2QoKQogICAgY3dkLmdsb2IoIioiKQoKICAgIGdyYXBoX3ZpZXcgPSBGbkdyYXBoVmlldygKICAgICAgICBbbGVuLCBwcmludCwgUGF0aC5jd2QsIFBhdGguaXRlcmRpciwgUGF0aC5yZWFkX3RleHRdCiAgICApCiAgICBncmFwaF92aWV3LnNldE1vZGVsKGdyYXBoX21vZGVsKQogICAgZ3JhcGhfdmlldy5zaG93KCkKICAgIGFwcC5leGVjKCkK",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALsFAAAAAAAAuwUAAAAAAAAAAAAAAADwvw"
				],
				[
					1748,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"BQAAANcCAAAAAAAA2AIAAAAAAAAAAAAA2AIAAAAAAADgAgAAAAAAAAAAAADgAgAAAAAAAOECAAAAAAAAAAAAAOECAAAAAAAA6QIAAAAAAAAAAAAA2AIAAAAAAADYAgAAAAAAAAgAAAAgICAgICAgIA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANcCAAAAAAAA1wIAAAAAAAAAAAAAAADwvw"
				],
				[
					1749,
					1,
					"paste",
					null,
					"AQAAAOECAAAAAAAABAMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOECAAAAAAAA4QIAAAAAAAAAAAAAAADwvw"
				],
				[
					1755,
					1,
					"paste",
					null,
					"AgAAAC8DAAAAAAAAOgMAAAAAAAAAAAAAOgMAAAAAAAA6AwAAAAAAAAYAAABmIntufSI",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADUDAAAAAAAALwMAAAAAAAAAAAAAAADwvw"
				],
				[
					1759,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAtQsAAAAAAAC1CwAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKICAgIGRlZiBzaXplSGludCgKICAgICAgICBzZWxmLCBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLCBncmFwaDogR3JhcGhNb2RlbCwgbjogSGFzaGFibGUKICAgICkgLT4gUVNpemVGOgogICAgICAgIHBhZGRpbmcgPSAxNgogICAgICAgIGZtID0gUUZvbnRNZXRyaWNzKG9wdGlvbi5mb250KQoKICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKQogICAgICAgIHRleHRfd2lkdGggPSBmbS5ob3Jpem9udGFsQWR2YW5jZShmIntufS17Zm59IikKICAgICAgICByZXR1cm4gUVNpemVGKAogICAgICAgICAgICBwYWRkaW5nICsgdGV4dF93aWR0aCArIHBhZGRpbmcsIHBhZGRpbmcgKyBmbS5hc2NlbnQoKSArIHBhZGRpbmcKICAgICAgICApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsCiAgICAgICAgcGFpbnRlcjogUVBhaW50ZXIsCiAgICAgICAgb3B0aW9uOiBRU3R5bGVPcHRpb25WaWV3SXRlbSwKICAgICAgICBncmFwaDogR3JhcGhNb2RlbCwKICAgICAgICBuOiBIYXNoYWJsZSwKICAgICk6CiAgICAgICAgcGFkZGluZyA9IDE2CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCiAgICAgICAgIyBkcmF3IG5vZGUgdGV4dAogICAgICAgIGZtID0gb3B0aW9uLmZvbnRNZXRyaWNzCiAgICAgICAgeSA9IG9wdGlvbi5yZWN0LmhlaWdodCgpIC0gcGFkZGluZwogICAgICAgIHBhaW50ZXIuZHJhd1RleHQocGFkZGluZywgeSwgZiJ7bn0iKQogICAgICAgICMgcGFpbnRlci5kcmF3TGluZSgwLCB5LCBvcHRpb24ucmVjdC53aWR0aCgpLCB5KSAjIGRyYXcgYmFzZWxpbmUKCiAgICAgICAgIyBkcmF3IG5vZGUgdGV4dAogICAgICAgIGZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgcGFpbnRlci5kcmF3VGV4dChwYWRkaW5nLCB5LCBmIntufS17Zm59IikKCgpjbGFzcyBGbkdyYXBoVmlldyhHcmFwaFZpZXcpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGZ1bmN0aW9uczogTGlzdFtDYWxsYWJsZV0sIHBhcmVudDogUVdpZGdldCB8IE5vbmUgPSBOb25lCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBzZWxmLl9kZWxlZ2F0ZSA9IEZuR3JhcGhEZWxlZ2F0ZSgpCiAgICAgICAgc2VsZi5mdW5jdGlvbnMgPSBmdW5jdGlvbnMKCiAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAuLi4KCiAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgIHZpZXdwb3MgPSBzZWxmLm1hcEZyb21HbG9iYWwoZXZlbnQuZ2xvYmFsUG9zKCkpCiAgICAgICAgc2NlbmVwb3MgPSBzZWxmLm1hcFRvU2NlbmUodmlld3BvcykKCiAgICAgICAgZGVmIGFkZF9ub2RlKGZuOiBDYWxsYWJsZSk6CiAgICAgICAgICAgIGlmIGdyYXBobW9kZWwgOj0gc2VsZi5tb2RlbCgpOgogICAgICAgICAgICAgICAgdW5pcXVlX25vZGVfbmFtZSA9IG1ha2VfdW5pcXVlX25hbWUoCiAgICAgICAgICAgICAgICAgICAgZm4uX19uYW1lX18sIFtuIGZvciBuIGluIGdyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYXBobW9kZWwuYWRkTm9kZSh1bmlxdWVfbm9kZV9uYW1lLCBmbj1mbikKCiAgICAgICAgZ3JhcGhtb2RlbCA9IHNlbGYubW9kZWwoKQogICAgICAgIGlmIGdyYXBobW9kZWw6CiAgICAgICAgICAgIGFkZF9tZW51OiBRTWVudSA9IFFNZW51KCJhZGQiKQoKICAgICAgICAgICAgZm9yIGZuIGluIHNlbGYuZnVuY3Rpb25zOgogICAgICAgICAgICAgICAgYWN0aW9uID0gUUFjdGlvbihzZWxmKQoKICAgICAgICAgICAgICAgIGFjdGlvbi5zZXRUZXh0KGZuLl9fbmFtZV9fKQogICAgICAgICAgICAgICAgYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYSBjaGVja2VkLCBmbj1mbjogYWRkX25vZGUoZm4pKQogICAgICAgICAgICAgICAgYWRkX21lbnUuYWRkQWN0aW9uKGFjdGlvbikKCiAgICAgICAgICAgIGFkZF9tZW51LmV4ZWMoZXZlbnQuZ2xvYmFsUG9zKCkpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICBncmFwaF9tb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgogICAgY3dkID0gUGF0aC5jd2QoKQogICAgY3dkLmdsb2IoIioiKQoKICAgIGdyYXBoX3ZpZXcgPSBGbkdyYXBoVmlldygKICAgICAgICBbbGVuLCBwcmludCwgUGF0aC5jd2QsIFBhdGguaXRlcmRpciwgUGF0aC5yZWFkX3RleHRdCiAgICApCiAgICBncmFwaF92aWV3LnNldE1vZGVsKGdyYXBoX21vZGVsKQogICAgZ3JhcGhfdmlldy5zaG93KCkKICAgIGFwcC5leGVjKCkK",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANgCAAAAAAAA2AIAAAAAAAAAAAAAAADwvw"
				],
				[
					1761,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAtQsAAAAAAAC1CwAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKICAgIGRlZiBzaXplSGludCgKICAgICAgICBzZWxmLCBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLCBncmFwaDogR3JhcGhNb2RlbCwgbjogSGFzaGFibGUKICAgICkgLT4gUVNpemVGOgogICAgICAgIHBhZGRpbmcgPSAxNgogICAgICAgIGZtID0gUUZvbnRNZXRyaWNzKG9wdGlvbi5mb250KQoKICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKQogICAgICAgIHRleHRfd2lkdGggPSBmbS5ob3Jpem9udGFsQWR2YW5jZShmIntufS17Zm59IikKICAgICAgICByZXR1cm4gUVNpemVGKAogICAgICAgICAgICBwYWRkaW5nICsgdGV4dF93aWR0aCArIHBhZGRpbmcsIHBhZGRpbmcgKyBmbS5hc2NlbnQoKSArIHBhZGRpbmcKICAgICAgICApCgogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsCiAgICAgICAgcGFpbnRlcjogUVBhaW50ZXIsCiAgICAgICAgb3B0aW9uOiBRU3R5bGVPcHRpb25WaWV3SXRlbSwKICAgICAgICBncmFwaDogR3JhcGhNb2RlbCwKICAgICAgICBuOiBIYXNoYWJsZSwKICAgICk6CiAgICAgICAgcGFkZGluZyA9IDE2CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCiAgICAgICAgIyBkcmF3IG5vZGUgdGV4dAogICAgICAgIGZtID0gb3B0aW9uLmZvbnRNZXRyaWNzCiAgICAgICAgeSA9IG9wdGlvbi5yZWN0LmhlaWdodCgpIC0gcGFkZGluZwogICAgICAgIHBhaW50ZXIuZHJhd1RleHQocGFkZGluZywgeSwgZiJ7bn0iKQogICAgICAgICMgcGFpbnRlci5kcmF3TGluZSgwLCB5LCBvcHRpb24ucmVjdC53aWR0aCgpLCB5KSAjIGRyYXcgYmFzZWxpbmUKCiAgICAgICAgIyBkcmF3IG5vZGUgdGV4dAogICAgICAgIGZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgcGFpbnRlci5kcmF3VGV4dChwYWRkaW5nLCB5LCBmIntufS17Zm59IikKCgpjbGFzcyBGbkdyYXBoVmlldyhHcmFwaFZpZXcpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGZ1bmN0aW9uczogTGlzdFtDYWxsYWJsZV0sIHBhcmVudDogUVdpZGdldCB8IE5vbmUgPSBOb25lCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBzZWxmLl9kZWxlZ2F0ZSA9IEZuR3JhcGhEZWxlZ2F0ZSgpCiAgICAgICAgc2VsZi5mdW5jdGlvbnMgPSBmdW5jdGlvbnMKCiAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAuLi4KCiAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgIHZpZXdwb3MgPSBzZWxmLm1hcEZyb21HbG9iYWwoZXZlbnQuZ2xvYmFsUG9zKCkpCiAgICAgICAgc2NlbmVwb3MgPSBzZWxmLm1hcFRvU2NlbmUodmlld3BvcykKCiAgICAgICAgZGVmIGFkZF9ub2RlKGZuOiBDYWxsYWJsZSk6CiAgICAgICAgICAgIGlmIGdyYXBobW9kZWwgOj0gc2VsZi5tb2RlbCgpOgogICAgICAgICAgICAgICAgdW5pcXVlX25vZGVfbmFtZSA9IG1ha2VfdW5pcXVlX25hbWUoCiAgICAgICAgICAgICAgICAgICAgZm4uX19uYW1lX18sIFtuIGZvciBuIGluIGdyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYXBobW9kZWwuYWRkTm9kZSh1bmlxdWVfbm9kZV9uYW1lLCBmbj1mbikKCiAgICAgICAgZ3JhcGhtb2RlbCA9IHNlbGYubW9kZWwoKQogICAgICAgIGlmIGdyYXBobW9kZWw6CiAgICAgICAgICAgIGFkZF9tZW51OiBRTWVudSA9IFFNZW51KCJhZGQiKQoKICAgICAgICAgICAgZm9yIGZuIGluIHNlbGYuZnVuY3Rpb25zOgogICAgICAgICAgICAgICAgYWN0aW9uID0gUUFjdGlvbihzZWxmKQoKICAgICAgICAgICAgICAgIGFjdGlvbi5zZXRUZXh0KGZuLl9fbmFtZV9fKQogICAgICAgICAgICAgICAgYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYSBjaGVja2VkLCBmbj1mbjogYWRkX25vZGUoZm4pKQogICAgICAgICAgICAgICAgYWRkX21lbnUuYWRkQWN0aW9uKGFjdGlvbikKCiAgICAgICAgICAgIGFkZF9tZW51LmV4ZWMoZXZlbnQuZ2xvYmFsUG9zKCkpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICBncmFwaF9tb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgogICAgY3dkID0gUGF0aC5jd2QoKQogICAgY3dkLmdsb2IoIioiKQoKICAgIGdyYXBoX3ZpZXcgPSBGbkdyYXBoVmlldygKICAgICAgICBbbGVuLCBwcmludCwgUGF0aC5jd2QsIFBhdGguaXRlcmRpciwgUGF0aC5yZWFkX3RleHRdCiAgICApCiAgICBncmFwaF92aWV3LnNldE1vZGVsKGdyYXBoX21vZGVsKQogICAgZ3JhcGhfdmlldy5zaG93KCkKICAgIGFwcC5leGVjKCkK",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANgCAAAAAAAA2AIAAAAAAAAAAAAAAADwvw"
				],
				[
					1764,
					1,
					"insert",
					{
						"characters": "\n\n\n"
					},
					"CAAAAC0CAAAAAAAALgIAAAAAAAAAAAAALgIAAAAAAAAvAgAAAAAAAAAAAAAvAgAAAAAAADACAAAAAAAAAAAAADACAAAAAAAAMQIAAAAAAAAAAAAALgIAAAAAAAAuAgAAAAAAAAEAAAAJMAIAAAAAAAAxAgAAAAAAAAAAAAAxAgAAAAAAADICAAAAAAAAAAAAAC8CAAAAAAAALwIAAAAAAAABAAAACQ",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAC0CAAAAAAAALQIAAAAAAAAAAAAAAADwvw"
				],
				[
					1766,
					1,
					"reindent",
					null,
					"AQAAAC8CAAAAAAAAMAIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAC8CAAAAAAAALwIAAAAAAAAAAAAAAAA4QA"
				],
				[
					1767,
					1,
					"insert",
					{
						"characters": "def"
					},
					"BAAAADACAAAAAAAAMQIAAAAAAAAAAAAAMgIAAAAAAAAyAgAAAAAAAAEAAAAJMQIAAAAAAAAyAgAAAAAAAAAAAAAyAgAAAAAAADMCAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADACAAAAAAAAMAIAAAAAAAAAAAAAAADwvw"
				],
				[
					1768,
					1,
					"insert",
					{
						"characters": " header_tex"
					},
					"CwAAADMCAAAAAAAANAIAAAAAAAAAAAAANAIAAAAAAAA1AgAAAAAAAAAAAAA1AgAAAAAAADYCAAAAAAAAAAAAADYCAAAAAAAANwIAAAAAAAAAAAAANwIAAAAAAAA4AgAAAAAAAAAAAAA4AgAAAAAAADkCAAAAAAAAAAAAADkCAAAAAAAAOgIAAAAAAAAAAAAAOgIAAAAAAAA7AgAAAAAAAAAAAAA7AgAAAAAAADwCAAAAAAAAAAAAADwCAAAAAAAAPQIAAAAAAAAAAAAAPQIAAAAAAAA+AgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADMCAAAAAAAAMwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1769,
					1,
					"insert",
					{
						"characters": "t"
					},
					"AQAAAD4CAAAAAAAAPwIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAD4CAAAAAAAAPgIAAAAAAAAAAAAAAADwvw"
				],
				[
					1770,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAD8CAAAAAAAAQQIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAD8CAAAAAAAAPwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1771,
					1,
					"insert",
					{
						"characters": "self"
					},
					"BAAAAEACAAAAAAAAQQIAAAAAAAAAAAAAQQIAAAAAAABCAgAAAAAAAAAAAABCAgAAAAAAAEMCAAAAAAAAAAAAAEMCAAAAAAAARAIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEACAAAAAAAAQAIAAAAAAAAAAAAAAADwvw"
				],
				[
					1773,
					1,
					"insert",
					{
						"characters": ":"
					},
					"AQAAAEUCAAAAAAAARgIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEUCAAAAAAAARQIAAAAAAAAAAAAAAADwvw"
				],
				[
					1776,
					1,
					"insert",
					{
						"characters": "_"
					},
					"AQAAADQCAAAAAAAANQIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADQCAAAAAAAANAIAAAAAAAAAAAAAAADwvw"
				],
				[
					1779,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAEgCAAAAAAAASQIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEgCAAAAAAAASAIAAAAAAAAAAAAAAABLQA"
				],
				[
					1780,
					1,
					"reindent",
					null,
					"AQAAAEkCAAAAAAAASwIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEkCAAAAAAAASQIAAAAAAAAAAAAAAADwvw"
				],
				[
					1781,
					1,
					"left_delete",
					null,
					"AQAAAEoCAAAAAAAASgIAAAAAAAABAAAACQ",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEsCAAAAAAAASwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1782,
					1,
					"insert",
					{
						"characters": "@override"
					},
					"CQAAAEoCAAAAAAAASwIAAAAAAAAAAAAASwIAAAAAAABMAgAAAAAAAAAAAABMAgAAAAAAAE0CAAAAAAAAAAAAAE0CAAAAAAAATgIAAAAAAAAAAAAATgIAAAAAAABPAgAAAAAAAAAAAABPAgAAAAAAAFACAAAAAAAAAAAAAFACAAAAAAAAUQIAAAAAAAAAAAAAUQIAAAAAAABSAgAAAAAAAAAAAABSAgAAAAAAAFMCAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEoCAAAAAAAASgIAAAAAAAAAAAAAAADwvw"
				],
				[
					1785,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAM8DAAAAAAAA0AMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAM8DAAAAAAAAzwMAAAAAAAAAAAAAAADwvw"
				],
				[
					1786,
					1,
					"reindent",
					null,
					"AQAAANADAAAAAAAA2AMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANADAAAAAAAA0AMAAAAAAAAAAAAAAADwvw"
				],
				[
					1787,
					4,
					"left_delete",
					null,
					"BAAAANcDAAAAAAAA1wMAAAAAAAABAAAAINYDAAAAAAAA1gMAAAAAAAABAAAAINUDAAAAAAAA1QMAAAAAAAABAAAAINQDAAAAAAAA1AMAAAAAAAABAAAAIA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANgDAAAAAAAA2AMAAAAAAAAAAAAAAADwvw"
				],
				[
					1788,
					1,
					"insert",
					{
						"characters": "@override"
					},
					"CQAAANQDAAAAAAAA1QMAAAAAAAAAAAAA1QMAAAAAAADWAwAAAAAAAAAAAADWAwAAAAAAANcDAAAAAAAAAAAAANcDAAAAAAAA2AMAAAAAAAAAAAAA2AMAAAAAAADZAwAAAAAAAAAAAADZAwAAAAAAANoDAAAAAAAAAAAAANoDAAAAAAAA2wMAAAAAAAAAAAAA2wMAAAAAAADcAwAAAAAAAAAAAADcAwAAAAAAAN0DAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANQDAAAAAAAA1AMAAAAAAAAAAAAAAADwvw"
				],
				[
					1803,
					1,
					"insert",
					{
						"characters": "\nreturn"
					},
					"CQAAAEcCAAAAAAAASAIAAAAAAAAAAAAASAIAAAAAAABJAgAAAAAAAAAAAABJAgAAAAAAAEoCAAAAAAAAAAAAAEoCAAAAAAAASwIAAAAAAAAAAAAASwIAAAAAAABMAgAAAAAAAAAAAABMAgAAAAAAAE0CAAAAAAAAAAAAAE0CAAAAAAAATgIAAAAAAAAAAAAATgIAAAAAAABPAgAAAAAAAAAAAABPAgAAAAAAAFACAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEcCAAAAAAAARwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1804,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAFACAAAAAAAAUQIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFACAAAAAAAAUAIAAAAAAAAAAAAAAADwvw"
				],
				[
					1807,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAEUCAAAAAAAARgIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEUCAAAAAAAARQIAAAAAAAAAAAAAAADwvw"
				],
				[
					1808,
					1,
					"insert",
					{
						"characters": " graph:Gr"
					},
					"CQAAAEYCAAAAAAAARwIAAAAAAAAAAAAARwIAAAAAAABIAgAAAAAAAAAAAABIAgAAAAAAAEkCAAAAAAAAAAAAAEkCAAAAAAAASgIAAAAAAAAAAAAASgIAAAAAAABLAgAAAAAAAAAAAABLAgAAAAAAAEwCAAAAAAAAAAAAAEwCAAAAAAAATQIAAAAAAAAAAAAATQIAAAAAAABOAgAAAAAAAAAAAABOAgAAAAAAAE8CAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEYCAAAAAAAARgIAAAAAAAAAAAAAAADwvw"
				],
				[
					1809,
					1,
					"insert",
					{
						"characters": "aphM"
					},
					"BAAAAE8CAAAAAAAAUAIAAAAAAAAAAAAAUAIAAAAAAABRAgAAAAAAAAAAAABRAgAAAAAAAFICAAAAAAAAAAAAAFICAAAAAAAAUwIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAE8CAAAAAAAATwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1810,
					1,
					"insert_completion",
					{
						"completion": "lsp_select_completion {\"index\":0,\"session_name\":\"LSP-pyright\"}",
						"format": "command",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "GraphModel"
					},
					"AgAAAE0CAAAAAAAATQIAAAAAAAAGAAAAR3JhcGhNTQIAAAAAAABXAgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFMCAAAAAAAAUwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1811,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAFcCAAAAAAAAWAIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFcCAAAAAAAAVwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1812,
					1,
					"insert",
					{
						"characters": " n:Hashbl"
					},
					"CQAAAFgCAAAAAAAAWQIAAAAAAAAAAAAAWQIAAAAAAABaAgAAAAAAAAAAAABaAgAAAAAAAFsCAAAAAAAAAAAAAFsCAAAAAAAAXAIAAAAAAAAAAAAAXAIAAAAAAABdAgAAAAAAAAAAAABdAgAAAAAAAF4CAAAAAAAAAAAAAF4CAAAAAAAAXwIAAAAAAAAAAAAAXwIAAAAAAABgAgAAAAAAAAAAAABgAgAAAAAAAGECAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFgCAAAAAAAAWAIAAAAAAAAAAAAAAADwvw"
				],
				[
					1813,
					1,
					"insert",
					{
						"characters": "e"
					},
					"AQAAAGECAAAAAAAAYgIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGECAAAAAAAAYQIAAAAAAAAAAAAAAADwvw"
				],
				[
					1823,
					1,
					"insert",
					{
						"characters": "a"
					},
					"AQAAAF8CAAAAAAAAYAIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAF8CAAAAAAAAXwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1826,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AwAAAGUCAAAAAAAAZgIAAAAAAAAAAAAAZgIAAAAAAABnAgAAAAAAAAAAAABnAgAAAAAAAGgCAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGUCAAAAAAAAZQIAAAAAAAAAAAAAAADwvw"
				],
				[
					1827,
					1,
					"paste",
					null,
					"AQAAAGgCAAAAAAAAwQIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGgCAAAAAAAAaAIAAAAAAAAAAAAAAADwvw"
				],
				[
					1830,
					1,
					"insert",
					{
						"characters": "return"
					},
					"BwAAAJQCAAAAAAAAlQIAAAAAAAAAAAAAlQIAAAAAAACVAgAAAAAAACEAAAB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2WVAgAAAAAAAJYCAAAAAAAAAAAAAJYCAAAAAAAAlwIAAAAAAAAAAAAAlwIAAAAAAACYAgAAAAAAAAAAAACYAgAAAAAAAJkCAAAAAAAAAAAAAJkCAAAAAAAAmgIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALUCAAAAAAAAlAIAAAAAAAAAAAAAAADwvw"
				],
				[
					1831,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAJoCAAAAAAAAmwIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJoCAAAAAAAAmgIAAAAAAAAAAAAAAADwvw"
				],
				[
					1834,
					1,
					"left_delete",
					null,
					"AQAAAKcCAAAAAAAApwIAAAAAAAAKAAAACgkJcmV0dXJuIA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALECAAAAAAAApwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1837,
					1,
					"left_delete",
					null,
					"AQAAAJoCAAAAAAAAmgIAAAAAAAABAAAAIA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJsCAAAAAAAAmwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1838,
					1,
					"right_delete",
					null,
					"AQAAAJoCAAAAAAAAmgIAAAAAAAABAAAAKA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJoCAAAAAAAAmgIAAAAAAAAAAAAAAADwvw"
				],
				[
					1839,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAJoCAAAAAAAAmwIAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJoCAAAAAAAAmgIAAAAAAAAAAAAAAADwvw"
				],
				[
					1849,
					1,
					"expand_tabs",
					{
						"set_translate_tabs": true
					},
					"AQAAAAAAAAAAAAAAVAwAAAAAAABIDAAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKCglkZWYgX2hlYWRlcl90ZXh0KHNlbGYsIGdyYXBoOkdyYXBoTW9kZWwsIG46SGFzaGFibGUpOgoJCWZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgcmV0dXJuIGYie259LXtmbn0iCgoJQG92ZXJyaWRlCiAgICBkZWYgc2l6ZUhpbnQoCiAgICAgICAgc2VsZiwgb3B0aW9uOiBRU3R5bGVPcHRpb25WaWV3SXRlbSwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlCiAgICApIC0+IFFTaXplRjoKICAgICAgICBwYWRkaW5nID0gMTYKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKCiAgICAgICAgZm4gPSBncmFwaC5nZXROb2RlUHJvcGVydHkobiwgImZuIikKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2UoZiJ7bn0te2ZufSIpCiAgICAgICAgcmV0dXJuIFFTaXplRigKICAgICAgICAgICAgcGFkZGluZyArIHRleHRfd2lkdGggKyBwYWRkaW5nLCBwYWRkaW5nICsgZm0uYXNjZW50KCkgKyBwYWRkaW5nCiAgICAgICAgKQoKICAgIEBvdmVycmlkZQogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsCiAgICAgICAgcGFpbnRlcjogUVBhaW50ZXIsCiAgICAgICAgb3B0aW9uOiBRU3R5bGVPcHRpb25WaWV3SXRlbSwKICAgICAgICBncmFwaDogR3JhcGhNb2RlbCwKICAgICAgICBuOiBIYXNoYWJsZSwKICAgICk6CiAgICAgICAgcGFkZGluZyA9IDE2CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCiAgICAgICAgIyBkcmF3IG5vZGUgdGV4dAogICAgICAgIGZtID0gb3B0aW9uLmZvbnRNZXRyaWNzCiAgICAgICAgeSA9IG9wdGlvbi5yZWN0LmhlaWdodCgpIC0gcGFkZGluZwogICAgICAgIHBhaW50ZXIuZHJhd1RleHQocGFkZGluZywgeSwgZiJ7bn0iKQogICAgICAgICMgcGFpbnRlci5kcmF3TGluZSgwLCB5LCBvcHRpb24ucmVjdC53aWR0aCgpLCB5KSAjIGRyYXcgYmFzZWxpbmUKCiAgICAgICAgIyBkcmF3IG5vZGUgdGV4dAogICAgICAgIGZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgcGFpbnRlci5kcmF3VGV4dChwYWRkaW5nLCB5LCBmIntufS17Zm59IikKCgpjbGFzcyBGbkdyYXBoVmlldyhHcmFwaFZpZXcpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGZ1bmN0aW9uczogTGlzdFtDYWxsYWJsZV0sIHBhcmVudDogUVdpZGdldCB8IE5vbmUgPSBOb25lCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBzZWxmLl9kZWxlZ2F0ZSA9IEZuR3JhcGhEZWxlZ2F0ZSgpCiAgICAgICAgc2VsZi5mdW5jdGlvbnMgPSBmdW5jdGlvbnMKCiAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAuLi4KCiAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgIHZpZXdwb3MgPSBzZWxmLm1hcEZyb21HbG9iYWwoZXZlbnQuZ2xvYmFsUG9zKCkpCiAgICAgICAgc2NlbmVwb3MgPSBzZWxmLm1hcFRvU2NlbmUodmlld3BvcykKCiAgICAgICAgZGVmIGFkZF9ub2RlKGZuOiBDYWxsYWJsZSk6CiAgICAgICAgICAgIGlmIGdyYXBobW9kZWwgOj0gc2VsZi5tb2RlbCgpOgogICAgICAgICAgICAgICAgdW5pcXVlX25vZGVfbmFtZSA9IG1ha2VfdW5pcXVlX25hbWUoCiAgICAgICAgICAgICAgICAgICAgZm4uX19uYW1lX18sIFtuIGZvciBuIGluIGdyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYXBobW9kZWwuYWRkTm9kZSh1bmlxdWVfbm9kZV9uYW1lLCBmbj1mbikKCiAgICAgICAgZ3JhcGhtb2RlbCA9IHNlbGYubW9kZWwoKQogICAgICAgIGlmIGdyYXBobW9kZWw6CiAgICAgICAgICAgIGFkZF9tZW51OiBRTWVudSA9IFFNZW51KCJhZGQiKQoKICAgICAgICAgICAgZm9yIGZuIGluIHNlbGYuZnVuY3Rpb25zOgogICAgICAgICAgICAgICAgYWN0aW9uID0gUUFjdGlvbihzZWxmKQoKICAgICAgICAgICAgICAgIGFjdGlvbi5zZXRUZXh0KGZuLl9fbmFtZV9fKQogICAgICAgICAgICAgICAgYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYSBjaGVja2VkLCBmbj1mbjogYWRkX25vZGUoZm4pKQogICAgICAgICAgICAgICAgYWRkX21lbnUuYWRkQWN0aW9uKGFjdGlvbikKCiAgICAgICAgICAgIGFkZF9tZW51LmV4ZWMoZXZlbnQuZ2xvYmFsUG9zKCkpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICBncmFwaF9tb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgogICAgY3dkID0gUGF0aC5jd2QoKQogICAgY3dkLmdsb2IoIioiKQoKICAgIGdyYXBoX3ZpZXcgPSBGbkdyYXBoVmlldygKICAgICAgICBbbGVuLCBwcmludCwgUGF0aC5jd2QsIFBhdGguaXRlcmRpciwgUGF0aC5yZWFkX3RleHRdCiAgICApCiAgICBncmFwaF92aWV3LnNldE1vZGVsKGdyYXBoX21vZGVsKQogICAgZ3JhcGhfdmlldy5zaG93KCkKICAgIGFwcC5leGVjKCkK",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAASAwAAAAAAAAAAAAAAADwvw"
				],
				[
					1856,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAVQwAAAAAAABUDAAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKCiAgICBkZWYgX2hlYWRlcl90ZXh0KHNlbGYsIGdyYXBoOkdyYXBoTW9kZWwsIG46SGFzaGFibGUpOgogICAgICAgIGZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgcmV0dXJuIGYie259LXtmbn0iCgogICAgQG92ZXJyaWRlCiAgICBkZWYgc2l6ZUhpbnQoCiAgICAgICAgc2VsZiwgb3B0aW9uOiBRU3R5bGVPcHRpb25WaWV3SXRlbSwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlCiAgICApIC0+IFFTaXplRjoKICAgICAgICBwYWRkaW5nID0gMTYKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKCiAgICAgICAgZm4gPSBncmFwaC5nZXROb2RlUHJvcGVydHkobiwgImZuIikKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2UoZiJ7bn0te2ZufSIpCiAgICAgICAgcmV0dXJuIFFTaXplRigKICAgICAgICAgICAgcGFkZGluZyArIHRleHRfd2lkdGggKyBwYWRkaW5nLCBwYWRkaW5nICsgZm0uYXNjZW50KCkgKyBwYWRkaW5nCiAgICAgICAgKQoKICAgIEBvdmVycmlkZQogICAgZGVmIHBhaW50KAogICAgICAgIHNlbGYsCiAgICAgICAgcGFpbnRlcjogUVBhaW50ZXIsCiAgICAgICAgb3B0aW9uOiBRU3R5bGVPcHRpb25WaWV3SXRlbSwKICAgICAgICBncmFwaDogR3JhcGhNb2RlbCwKICAgICAgICBuOiBIYXNoYWJsZSwKICAgICk6CiAgICAgICAgcGFkZGluZyA9IDE2CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCiAgICAgICAgIyBkcmF3IG5vZGUgdGV4dAogICAgICAgIGZtID0gb3B0aW9uLmZvbnRNZXRyaWNzCiAgICAgICAgeSA9IG9wdGlvbi5yZWN0LmhlaWdodCgpIC0gcGFkZGluZwogICAgICAgIHBhaW50ZXIuZHJhd1RleHQocGFkZGluZywgeSwgZiJ7bn0iKQogICAgICAgICMgcGFpbnRlci5kcmF3TGluZSgwLCB5LCBvcHRpb24ucmVjdC53aWR0aCgpLCB5KSAjIGRyYXcgYmFzZWxpbmUKCiAgICAgICAgIyBkcmF3IG5vZGUgdGV4dAogICAgICAgIGZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgcGFpbnRlci5kcmF3VGV4dChwYWRkaW5nLCB5LCBmIntufS17Zm59IikKCgpjbGFzcyBGbkdyYXBoVmlldyhHcmFwaFZpZXcpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGZ1bmN0aW9uczogTGlzdFtDYWxsYWJsZV0sIHBhcmVudDogUVdpZGdldCB8IE5vbmUgPSBOb25lCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBzZWxmLl9kZWxlZ2F0ZSA9IEZuR3JhcGhEZWxlZ2F0ZSgpCiAgICAgICAgc2VsZi5mdW5jdGlvbnMgPSBmdW5jdGlvbnMKCiAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAuLi4KCiAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgIHZpZXdwb3MgPSBzZWxmLm1hcEZyb21HbG9iYWwoZXZlbnQuZ2xvYmFsUG9zKCkpCiAgICAgICAgc2NlbmVwb3MgPSBzZWxmLm1hcFRvU2NlbmUodmlld3BvcykKCiAgICAgICAgZGVmIGFkZF9ub2RlKGZuOiBDYWxsYWJsZSk6CiAgICAgICAgICAgIGlmIGdyYXBobW9kZWwgOj0gc2VsZi5tb2RlbCgpOgogICAgICAgICAgICAgICAgdW5pcXVlX25vZGVfbmFtZSA9IG1ha2VfdW5pcXVlX25hbWUoCiAgICAgICAgICAgICAgICAgICAgZm4uX19uYW1lX18sIFtuIGZvciBuIGluIGdyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYXBobW9kZWwuYWRkTm9kZSh1bmlxdWVfbm9kZV9uYW1lLCBmbj1mbikKCiAgICAgICAgZ3JhcGhtb2RlbCA9IHNlbGYubW9kZWwoKQogICAgICAgIGlmIGdyYXBobW9kZWw6CiAgICAgICAgICAgIGFkZF9tZW51OiBRTWVudSA9IFFNZW51KCJhZGQiKQoKICAgICAgICAgICAgZm9yIGZuIGluIHNlbGYuZnVuY3Rpb25zOgogICAgICAgICAgICAgICAgYWN0aW9uID0gUUFjdGlvbihzZWxmKQoKICAgICAgICAgICAgICAgIGFjdGlvbi5zZXRUZXh0KGZuLl9fbmFtZV9fKQogICAgICAgICAgICAgICAgYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYSBjaGVja2VkLCBmbj1mbjogYWRkX25vZGUoZm4pKQogICAgICAgICAgICAgICAgYWRkX21lbnUuYWRkQWN0aW9uKGFjdGlvbikKCiAgICAgICAgICAgIGFkZF9tZW51LmV4ZWMoZXZlbnQuZ2xvYmFsUG9zKCkpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICBncmFwaF9tb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgogICAgY3dkID0gUGF0aC5jd2QoKQogICAgY3dkLmdsb2IoIioiKQoKICAgIGdyYXBoX3ZpZXcgPSBGbkdyYXBoVmlldygKICAgICAgICBbbGVuLCBwcmludCwgUGF0aC5jd2QsIFBhdGguaXRlcmRpciwgUGF0aC5yZWFkX3RleHRdCiAgICApCiAgICBncmFwaF92aWV3LnNldE1vZGVsKGdyYXBoX21vZGVsKQogICAgZ3JhcGhfdmlldy5zaG93KCkKICAgIGFwcC5leGVjKCkK",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALACAAAAAAAAsAIAAAAAAAAAAAAAAADwvw"
				],
				[
					1872,
					1,
					"left_delete",
					null,
					"AQAAAKMFAAAAAAAAowUAAAAAAAAsAAAAICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIGYie259Iik",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAM8FAAAAAAAAowUAAAAAAAAAAAAAAADwvw"
				],
				[
					1878,
					1,
					"insert",
					{
						"characters": "header"
					},
					"BwAAAE4FAAAAAAAATwUAAAAAAAAAAAAATwUAAAAAAABPBQAAAAAAAAQAAABub2RlTwUAAAAAAABQBQAAAAAAAAAAAABQBQAAAAAAAFEFAAAAAAAAAAAAAFEFAAAAAAAAUgUAAAAAAAAAAAAAUgUAAAAAAABTBQAAAAAAAAAAAABTBQAAAAAAAFQFAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAE4FAAAAAAAAUgUAAAAAAAAAAAAAAADwvw"
				],
				[
					1881,
					1,
					"insert",
					{
						"characters": "self._"
					},
					"BwAAAFoGAAAAAAAAWwYAAAAAAAAAAAAAWwYAAAAAAABbBgAAAAAAAAsAAABmIntufS17Zm59IlsGAAAAAAAAXAYAAAAAAAAAAAAAXAYAAAAAAABdBgAAAAAAAAAAAABdBgAAAAAAAF4GAAAAAAAAAAAAAF4GAAAAAAAAXwYAAAAAAAAAAAAAXwYAAAAAAABgBgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGUGAAAAAAAAWgYAAAAAAAAAAAAAAADwvw"
				],
				[
					1882,
					1,
					"insert_completion",
					{
						"completion": "lsp_select_completion {\"index\":0,\"session_name\":\"LSP-pyright\"}",
						"format": "command",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "_header_text"
					},
					"AgAAAF8GAAAAAAAAXwYAAAAAAAABAAAAX18GAAAAAAAAawYAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGAGAAAAAAAAYAYAAAAAAAAAAAAAAADwvw"
				],
				[
					1883,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAGsGAAAAAAAAbQYAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGsGAAAAAAAAawYAAAAAAAAAAAAAAADwvw"
				],
				[
					1884,
					1,
					"insert",
					{
						"characters": "graph,"
					},
					"BgAAAGwGAAAAAAAAbQYAAAAAAAAAAAAAbQYAAAAAAABuBgAAAAAAAAAAAABuBgAAAAAAAG8GAAAAAAAAAAAAAG8GAAAAAAAAcAYAAAAAAAAAAAAAcAYAAAAAAABxBgAAAAAAAAAAAABxBgAAAAAAAHIGAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGwGAAAAAAAAbAYAAAAAAAAAAAAAAADwvw"
				],
				[
					1885,
					1,
					"insert",
					{
						"characters": " n"
					},
					"AgAAAHIGAAAAAAAAcwYAAAAAAAAAAAAAcwYAAAAAAAB0BgAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHIGAAAAAAAAcgYAAAAAAAAAAAAAAADwvw"
				],
				[
					1893,
					1,
					"cut",
					null,
					"AQAAAK4FAAAAAAAArgUAAAAAAABAAAAAIyBwYWludGVyLmRyYXdMaW5lKDAsIHksIG9wdGlvbi5yZWN0LndpZHRoKCksIHkpICMgZHJhdyBiYXNlbGluZQ",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAO4FAAAAAAAArgUAAAAAAAAAAAAAAADwvw"
				],
				[
					1896,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"BQAAADYGAAAAAAAANwYAAAAAAAAAAAAANwYAAAAAAAA/BgAAAAAAAAAAAAA/BgAAAAAAAEAGAAAAAAAAAAAAAEAGAAAAAAAASAYAAAAAAAAAAAAANwYAAAAAAAA3BgAAAAAAAAgAAAAgICAgICAgIA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADYGAAAAAAAANgYAAAAAAAAAAAAAAADwvw"
				],
				[
					1897,
					1,
					"paste",
					null,
					"AQAAAEAGAAAAAAAAgAYAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEAGAAAAAAAAQAYAAAAAAAAAAAAAAADwvw"
				],
				[
					1900,
					4,
					"left_delete",
					null,
					"BAAAAK4FAAAAAAAArgUAAAAAAAABAAAACqoFAAAAAAAAqgUAAAAAAAAEAAAAICAgIKYFAAAAAAAApgUAAAAAAAAEAAAAICAgIKUFAAAAAAAApQUAAAAAAAABAAAACg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK8FAAAAAAAArwUAAAAAAAAAAAAAAADwvw"
				],
				[
					1906,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAOwwAAAAAAAA7DAAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKICAgIGRlZiBfaGVhZGVyX3RleHQoc2VsZiwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlKToKICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKQogICAgICAgIHJldHVybiBmIntufS17Zm59IgoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDE2CiAgICAgICAgZm0gPSBRRm9udE1ldHJpY3Mob3B0aW9uLmZvbnQpCgogICAgICAgIGZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgdGV4dF93aWR0aCA9IGZtLmhvcml6b250YWxBZHZhbmNlKGYie259LXtmbn0iKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLAogICAgICAgIHBhaW50ZXI6IFFQYWludGVyLAogICAgICAgIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sCiAgICAgICAgZ3JhcGg6IEdyYXBoTW9kZWwsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICApOgogICAgICAgIHBhZGRpbmcgPSAxNgogICAgICAgICMgZHJhdyBvdXRsaW5lCiAgICAgICAgcGFpbnRlci5kcmF3Um91bmRlZFJlY3Qob3B0aW9uLnJlY3QsIDQsIDQpCgogICAgICAgICMgZHJhdyBoZWFkZXIgdGV4dAogICAgICAgIGZtID0gb3B0aW9uLmZvbnRNZXRyaWNzCiAgICAgICAgeSA9IG9wdGlvbi5yZWN0LmhlaWdodCgpIC0gcGFkZGluZwoKICAgICAgICAjIGRyYXcgbm9kZSB0ZXh0CiAgICAgICAgZm4gPSBncmFwaC5nZXROb2RlUHJvcGVydHkobiwgImZuIikKICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIHNlbGYuX2hlYWRlcl90ZXh0KGdyYXBoLCBuKSkKCiAgICAgICAgIyBwYWludGVyLmRyYXdMaW5lKDAsIHksIG9wdGlvbi5yZWN0LndpZHRoKCksIHkpICMgZHJhdyBiYXNlbGluZQoKCmNsYXNzIEZuR3JhcGhWaWV3KEdyYXBoVmlldyk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgZnVuY3Rpb25zOiBMaXN0W0NhbGxhYmxlXSwgcGFyZW50OiBRV2lkZ2V0IHwgTm9uZSA9IE5vbmUKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQ9cGFyZW50KQogICAgICAgIHNlbGYuX2RlbGVnYXRlID0gRm5HcmFwaERlbGVnYXRlKCkKICAgICAgICBzZWxmLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucwoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgIC4uLgoKICAgIGRlZiBjb250ZXh0TWVudUV2ZW50KHNlbGYsIGV2ZW50OiBRQ29udGV4dE1lbnVFdmVudCk6CiAgICAgICAgdmlld3BvcyA9IHNlbGYubWFwRnJvbUdsb2JhbChldmVudC5nbG9iYWxQb3MoKSkKICAgICAgICBzY2VuZXBvcyA9IHNlbGYubWFwVG9TY2VuZSh2aWV3cG9zKQoKICAgICAgICBkZWYgYWRkX25vZGUoZm46IENhbGxhYmxlKToKICAgICAgICAgICAgaWYgZ3JhcGhtb2RlbCA6PSBzZWxmLm1vZGVsKCk6CiAgICAgICAgICAgICAgICB1bmlxdWVfbm9kZV9uYW1lID0gbWFrZV91bmlxdWVfbmFtZSgKICAgICAgICAgICAgICAgICAgICBmbi5fX25hbWVfXywgW24gZm9yIG4gaW4gZ3JhcGhtb2RlbC5ub2RlcygpXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhcGhtb2RlbC5hZGROb2RlKHVuaXF1ZV9ub2RlX25hbWUsIGZuPWZuKQoKICAgICAgICBncmFwaG1vZGVsID0gc2VsZi5tb2RlbCgpCiAgICAgICAgaWYgZ3JhcGhtb2RlbDoKICAgICAgICAgICAgYWRkX21lbnU6IFFNZW51ID0gUU1lbnUoImFkZCIpCgogICAgICAgICAgICBmb3IgZm4gaW4gc2VsZi5mdW5jdGlvbnM6CiAgICAgICAgICAgICAgICBhY3Rpb24gPSBRQWN0aW9uKHNlbGYpCgogICAgICAgICAgICAgICAgYWN0aW9uLnNldFRleHQoZm4uX19uYW1lX18pCiAgICAgICAgICAgICAgICBhY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhIGNoZWNrZWQsIGZuPWZuOiBhZGRfbm9kZShmbikpCiAgICAgICAgICAgICAgICBhZGRfbWVudS5hZGRBY3Rpb24oYWN0aW9uKQoKICAgICAgICAgICAgYWRkX21lbnUuZXhlYyhldmVudC5nbG9iYWxQb3MoKSkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXBwID0gUUFwcGxpY2F0aW9uKCkKICAgIGdyYXBoX21vZGVsID0gR3JhcGhNb2RlbCgpCiAgICBmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCiAgICBjd2QgPSBQYXRoLmN3ZCgpCiAgICBjd2QuZ2xvYigiKiIpCgogICAgZ3JhcGhfdmlldyA9IEZuR3JhcGhWaWV3KAogICAgICAgIFtsZW4sIHByaW50LCBQYXRoLmN3ZCwgUGF0aC5pdGVyZGlyLCBQYXRoLnJlYWRfdGV4dF0KICAgICkKICAgIGdyYXBoX3ZpZXcuc2V0TW9kZWwoZ3JhcGhfbW9kZWwpCiAgICBncmFwaF92aWV3LnNob3coKQogICAgYXBwLmV4ZWMoKQo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFkFAAAAAAAAWQUAAAAAAAAAAAAAAADwvw"
				],
				[
					1911,
					1,
					"insert",
					{
						"characters": ".__name__"
					},
					"CQAAAK4CAAAAAAAArwIAAAAAAAAAAAAArwIAAAAAAACwAgAAAAAAAAAAAACwAgAAAAAAALECAAAAAAAAAAAAALECAAAAAAAAsgIAAAAAAAAAAAAAsgIAAAAAAACzAgAAAAAAAAAAAACzAgAAAAAAALQCAAAAAAAAAAAAALQCAAAAAAAAtQIAAAAAAAAAAAAAtQIAAAAAAAC2AgAAAAAAAAAAAAC2AgAAAAAAALcCAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK4CAAAAAAAArgIAAAAAAAAAAAAAAADwvw"
				],
				[
					1913,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAARAwAAAAAAABEDAAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKICAgIGRlZiBfaGVhZGVyX3RleHQoc2VsZiwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlKToKICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKQogICAgICAgIHJldHVybiBmIntufS17Zm4uX19uYW1lX199IgoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDE2CiAgICAgICAgZm0gPSBRRm9udE1ldHJpY3Mob3B0aW9uLmZvbnQpCgogICAgICAgIGZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgdGV4dF93aWR0aCA9IGZtLmhvcml6b250YWxBZHZhbmNlKGYie259LXtmbn0iKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLAogICAgICAgIHBhaW50ZXI6IFFQYWludGVyLAogICAgICAgIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sCiAgICAgICAgZ3JhcGg6IEdyYXBoTW9kZWwsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICApOgogICAgICAgIHBhZGRpbmcgPSAxNgogICAgICAgICMgZHJhdyBvdXRsaW5lCiAgICAgICAgcGFpbnRlci5kcmF3Um91bmRlZFJlY3Qob3B0aW9uLnJlY3QsIDQsIDQpCgogICAgICAgICMgZHJhdyBoZWFkZXIgdGV4dAogICAgICAgIGZtID0gb3B0aW9uLmZvbnRNZXRyaWNzCiAgICAgICAgeSA9IG9wdGlvbi5yZWN0LmhlaWdodCgpIC0gcGFkZGluZwoKICAgICAgICAjIGRyYXcgbm9kZSB0ZXh0CiAgICAgICAgZm4gPSBncmFwaC5nZXROb2RlUHJvcGVydHkobiwgImZuIikKICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIHNlbGYuX2hlYWRlcl90ZXh0KGdyYXBoLCBuKSkKCiAgICAgICAgIyBwYWludGVyLmRyYXdMaW5lKDAsIHksIG9wdGlvbi5yZWN0LndpZHRoKCksIHkpICMgZHJhdyBiYXNlbGluZQoKCmNsYXNzIEZuR3JhcGhWaWV3KEdyYXBoVmlldyk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgZnVuY3Rpb25zOiBMaXN0W0NhbGxhYmxlXSwgcGFyZW50OiBRV2lkZ2V0IHwgTm9uZSA9IE5vbmUKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQ9cGFyZW50KQogICAgICAgIHNlbGYuX2RlbGVnYXRlID0gRm5HcmFwaERlbGVnYXRlKCkKICAgICAgICBzZWxmLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucwoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgIC4uLgoKICAgIGRlZiBjb250ZXh0TWVudUV2ZW50KHNlbGYsIGV2ZW50OiBRQ29udGV4dE1lbnVFdmVudCk6CiAgICAgICAgdmlld3BvcyA9IHNlbGYubWFwRnJvbUdsb2JhbChldmVudC5nbG9iYWxQb3MoKSkKICAgICAgICBzY2VuZXBvcyA9IHNlbGYubWFwVG9TY2VuZSh2aWV3cG9zKQoKICAgICAgICBkZWYgYWRkX25vZGUoZm46IENhbGxhYmxlKToKICAgICAgICAgICAgaWYgZ3JhcGhtb2RlbCA6PSBzZWxmLm1vZGVsKCk6CiAgICAgICAgICAgICAgICB1bmlxdWVfbm9kZV9uYW1lID0gbWFrZV91bmlxdWVfbmFtZSgKICAgICAgICAgICAgICAgICAgICBmbi5fX25hbWVfXywgW24gZm9yIG4gaW4gZ3JhcGhtb2RlbC5ub2RlcygpXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhcGhtb2RlbC5hZGROb2RlKHVuaXF1ZV9ub2RlX25hbWUsIGZuPWZuKQoKICAgICAgICBncmFwaG1vZGVsID0gc2VsZi5tb2RlbCgpCiAgICAgICAgaWYgZ3JhcGhtb2RlbDoKICAgICAgICAgICAgYWRkX21lbnU6IFFNZW51ID0gUU1lbnUoImFkZCIpCgogICAgICAgICAgICBmb3IgZm4gaW4gc2VsZi5mdW5jdGlvbnM6CiAgICAgICAgICAgICAgICBhY3Rpb24gPSBRQWN0aW9uKHNlbGYpCgogICAgICAgICAgICAgICAgYWN0aW9uLnNldFRleHQoZm4uX19uYW1lX18pCiAgICAgICAgICAgICAgICBhY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhIGNoZWNrZWQsIGZuPWZuOiBhZGRfbm9kZShmbikpCiAgICAgICAgICAgICAgICBhZGRfbWVudS5hZGRBY3Rpb24oYWN0aW9uKQoKICAgICAgICAgICAgYWRkX21lbnUuZXhlYyhldmVudC5nbG9iYWxQb3MoKSkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXBwID0gUUFwcGxpY2F0aW9uKCkKICAgIGdyYXBoX21vZGVsID0gR3JhcGhNb2RlbCgpCiAgICBmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCiAgICBjd2QgPSBQYXRoLmN3ZCgpCiAgICBjd2QuZ2xvYigiKiIpCgogICAgZ3JhcGhfdmlldyA9IEZuR3JhcGhWaWV3KAogICAgICAgIFtsZW4sIHByaW50LCBQYXRoLmN3ZCwgUGF0aC5pdGVyZGlyLCBQYXRoLnJlYWRfdGV4dF0KICAgICkKICAgIGdyYXBoX3ZpZXcuc2V0TW9kZWwoZ3JhcGhfbW9kZWwpCiAgICBncmFwaF92aWV3LnNob3coKQogICAgYXBwLmV4ZWMoKQo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALcCAAAAAAAAtwIAAAAAAAAAAAAAAADwvw"
				],
				[
					1918,
					1,
					"insert",
					{
						"characters": "self._h"
					},
					"CAAAAMoDAAAAAAAAywMAAAAAAAAAAAAAywMAAAAAAADLAwAAAAAAAAsAAABmIntufS17Zm59IssDAAAAAAAAzAMAAAAAAAAAAAAAzAMAAAAAAADNAwAAAAAAAAAAAADNAwAAAAAAAM4DAAAAAAAAAAAAAM4DAAAAAAAAzwMAAAAAAAAAAAAAzwMAAAAAAADQAwAAAAAAAAAAAADQAwAAAAAAANEDAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMoDAAAAAAAA1QMAAAAAAAAAAAAAAADwvw"
				],
				[
					1919,
					1,
					"insert_completion",
					{
						"completion": "lsp_select_completion {\"index\":0,\"session_name\":\"LSP-pyright\"}",
						"format": "command",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "_header_text"
					},
					"AgAAAM8DAAAAAAAAzwMAAAAAAAACAAAAX2jPAwAAAAAAANsDAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANEDAAAAAAAA0QMAAAAAAAAAAAAAAADwvw"
				],
				[
					1920,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAANsDAAAAAAAA3QMAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANsDAAAAAAAA2wMAAAAAAAAAAAAAAADwvw"
				],
				[
					1921,
					1,
					"insert",
					{
						"characters": "graph,"
					},
					"BgAAANwDAAAAAAAA3QMAAAAAAAAAAAAA3QMAAAAAAADeAwAAAAAAAAAAAADeAwAAAAAAAN8DAAAAAAAAAAAAAN8DAAAAAAAA4AMAAAAAAAAAAAAA4AMAAAAAAADhAwAAAAAAAAAAAADhAwAAAAAAAOIDAAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANwDAAAAAAAA3AMAAAAAAAAAAAAAAADwvw"
				],
				[
					1922,
					1,
					"insert",
					{
						"characters": " n"
					},
					"AgAAAOIDAAAAAAAA4wMAAAAAAAAAAAAA4wMAAAAAAADkAwAAAAAAAAAAAAA",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOIDAAAAAAAA4gMAAAAAAAAAAAAAAADwvw"
				],
				[
					1924,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAVAwAAAAAAABUDAAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKICAgIGRlZiBfaGVhZGVyX3RleHQoc2VsZiwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlKToKICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKQogICAgICAgIHJldHVybiBmIntufS17Zm4uX19uYW1lX199IgoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDE2CiAgICAgICAgZm0gPSBRRm9udE1ldHJpY3Mob3B0aW9uLmZvbnQpCgogICAgICAgIGZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgdGV4dF93aWR0aCA9IGZtLmhvcml6b250YWxBZHZhbmNlKHNlbGYuX2hlYWRlcl90ZXh0KGdyYXBoLCBuKSkKICAgICAgICByZXR1cm4gUVNpemVGKAogICAgICAgICAgICBwYWRkaW5nICsgdGV4dF93aWR0aCArIHBhZGRpbmcsIHBhZGRpbmcgKyBmbS5hc2NlbnQoKSArIHBhZGRpbmcKICAgICAgICApCgogICAgQG92ZXJyaWRlCiAgICBkZWYgcGFpbnQoCiAgICAgICAgc2VsZiwKICAgICAgICBwYWludGVyOiBRUGFpbnRlciwKICAgICAgICBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLAogICAgICAgIGdyYXBoOiBHcmFwaE1vZGVsLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgKToKICAgICAgICBwYWRkaW5nID0gMTYKICAgICAgICAjIGRyYXcgb3V0bGluZQogICAgICAgIHBhaW50ZXIuZHJhd1JvdW5kZWRSZWN0KG9wdGlvbi5yZWN0LCA0LCA0KQoKICAgICAgICAjIGRyYXcgaGVhZGVyIHRleHQKICAgICAgICBmbSA9IG9wdGlvbi5mb250TWV0cmljcwogICAgICAgIHkgPSBvcHRpb24ucmVjdC5oZWlnaHQoKSAtIHBhZGRpbmcKCiAgICAgICAgIyBkcmF3IG5vZGUgdGV4dAogICAgICAgIGZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgcGFpbnRlci5kcmF3VGV4dChwYWRkaW5nLCB5LCBzZWxmLl9oZWFkZXJfdGV4dChncmFwaCwgbikpCgogICAgICAgICMgcGFpbnRlci5kcmF3TGluZSgwLCB5LCBvcHRpb24ucmVjdC53aWR0aCgpLCB5KSAjIGRyYXcgYmFzZWxpbmUKCgpjbGFzcyBGbkdyYXBoVmlldyhHcmFwaFZpZXcpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGZ1bmN0aW9uczogTGlzdFtDYWxsYWJsZV0sIHBhcmVudDogUVdpZGdldCB8IE5vbmUgPSBOb25lCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBzZWxmLl9kZWxlZ2F0ZSA9IEZuR3JhcGhEZWxlZ2F0ZSgpCiAgICAgICAgc2VsZi5mdW5jdGlvbnMgPSBmdW5jdGlvbnMKCiAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAuLi4KCiAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgIHZpZXdwb3MgPSBzZWxmLm1hcEZyb21HbG9iYWwoZXZlbnQuZ2xvYmFsUG9zKCkpCiAgICAgICAgc2NlbmVwb3MgPSBzZWxmLm1hcFRvU2NlbmUodmlld3BvcykKCiAgICAgICAgZGVmIGFkZF9ub2RlKGZuOiBDYWxsYWJsZSk6CiAgICAgICAgICAgIGlmIGdyYXBobW9kZWwgOj0gc2VsZi5tb2RlbCgpOgogICAgICAgICAgICAgICAgdW5pcXVlX25vZGVfbmFtZSA9IG1ha2VfdW5pcXVlX25hbWUoCiAgICAgICAgICAgICAgICAgICAgZm4uX19uYW1lX18sIFtuIGZvciBuIGluIGdyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYXBobW9kZWwuYWRkTm9kZSh1bmlxdWVfbm9kZV9uYW1lLCBmbj1mbikKCiAgICAgICAgZ3JhcGhtb2RlbCA9IHNlbGYubW9kZWwoKQogICAgICAgIGlmIGdyYXBobW9kZWw6CiAgICAgICAgICAgIGFkZF9tZW51OiBRTWVudSA9IFFNZW51KCJhZGQiKQoKICAgICAgICAgICAgZm9yIGZuIGluIHNlbGYuZnVuY3Rpb25zOgogICAgICAgICAgICAgICAgYWN0aW9uID0gUUFjdGlvbihzZWxmKQoKICAgICAgICAgICAgICAgIGFjdGlvbi5zZXRUZXh0KGZuLl9fbmFtZV9fKQogICAgICAgICAgICAgICAgYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYSBjaGVja2VkLCBmbj1mbjogYWRkX25vZGUoZm4pKQogICAgICAgICAgICAgICAgYWRkX21lbnUuYWRkQWN0aW9uKGFjdGlvbikKCiAgICAgICAgICAgIGFkZF9tZW51LmV4ZWMoZXZlbnQuZ2xvYmFsUG9zKCkpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICBncmFwaF9tb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgogICAgY3dkID0gUGF0aC5jd2QoKQogICAgY3dkLmdsb2IoIioiKQoKICAgIGdyYXBoX3ZpZXcgPSBGbkdyYXBoVmlldygKICAgICAgICBbbGVuLCBwcmludCwgUGF0aC5jd2QsIFBhdGguaXRlcmRpciwgUGF0aC5yZWFkX3RleHRdCiAgICApCiAgICBncmFwaF92aWV3LnNldE1vZGVsKGdyYXBoX21vZGVsKQogICAgZ3JhcGhfdmlldy5zaG93KCkKICAgIGFwcC5leGVjKCkK",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOQDAAAAAAAA5AMAAAAAAAAAAAAAAADwvw"
				],
				[
					1928,
					1,
					"insert",
					{
						"characters": "8"
					},
					"AgAAAEkDAAAAAAAASgMAAAAAAAAAAAAASgMAAAAAAABKAwAAAAAAAAIAAAAxNg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAEsDAAAAAAAASQMAAAAAAAAAAAAAAADwvw"
				],
				[
					1931,
					1,
					"insert",
					{
						"characters": "8"
					},
					"AgAAAAkFAAAAAAAACgUAAAAAAAAAAAAACgUAAAAAAAAKBQAAAAAAAAIAAAAxNg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAsFAAAAAAAACQUAAAAAAAAAAAAAAADwvw"
				],
				[
					1933,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAUgwAAAAAAABSDAAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKICAgIGRlZiBfaGVhZGVyX3RleHQoc2VsZiwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlKToKICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKQogICAgICAgIHJldHVybiBmIntufS17Zm4uX19uYW1lX199IgoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDgKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKCiAgICAgICAgZm4gPSBncmFwaC5nZXROb2RlUHJvcGVydHkobiwgImZuIikKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2Uoc2VsZi5faGVhZGVyX3RleHQoZ3JhcGgsIG4pKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLAogICAgICAgIHBhaW50ZXI6IFFQYWludGVyLAogICAgICAgIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sCiAgICAgICAgZ3JhcGg6IEdyYXBoTW9kZWwsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICApOgogICAgICAgIHBhZGRpbmcgPSA4CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCiAgICAgICAgIyBkcmF3IGhlYWRlciB0ZXh0CiAgICAgICAgZm0gPSBvcHRpb24uZm9udE1ldHJpY3MKICAgICAgICB5ID0gb3B0aW9uLnJlY3QuaGVpZ2h0KCkgLSBwYWRkaW5nCgogICAgICAgICMgZHJhdyBub2RlIHRleHQKICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKQogICAgICAgIHBhaW50ZXIuZHJhd1RleHQocGFkZGluZywgeSwgc2VsZi5faGVhZGVyX3RleHQoZ3JhcGgsIG4pKQoKICAgICAgICAjIHBhaW50ZXIuZHJhd0xpbmUoMCwgeSwgb3B0aW9uLnJlY3Qud2lkdGgoKSwgeSkgIyBkcmF3IGJhc2VsaW5lCgoKY2xhc3MgRm5HcmFwaFZpZXcoR3JhcGhWaWV3KToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLCBmdW5jdGlvbnM6IExpc3RbQ2FsbGFibGVdLCBwYXJlbnQ6IFFXaWRnZXQgfCBOb25lID0gTm9uZQogICAgKToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHBhcmVudD1wYXJlbnQpCiAgICAgICAgc2VsZi5fZGVsZWdhdGUgPSBGbkdyYXBoRGVsZWdhdGUoKQogICAgICAgIHNlbGYuZnVuY3Rpb25zID0gZnVuY3Rpb25zCgogICAgZGVmIG1vdXNlRG91YmxlQ2xpY2tFdmVudChzZWxmLCBldmVudDogUU1vdXNlRXZlbnQpIC0+IE5vbmU6CiAgICAgICAgLi4uCgogICAgZGVmIGNvbnRleHRNZW51RXZlbnQoc2VsZiwgZXZlbnQ6IFFDb250ZXh0TWVudUV2ZW50KToKICAgICAgICB2aWV3cG9zID0gc2VsZi5tYXBGcm9tR2xvYmFsKGV2ZW50Lmdsb2JhbFBvcygpKQogICAgICAgIHNjZW5lcG9zID0gc2VsZi5tYXBUb1NjZW5lKHZpZXdwb3MpCgogICAgICAgIGRlZiBhZGRfbm9kZShmbjogQ2FsbGFibGUpOgogICAgICAgICAgICBpZiBncmFwaG1vZGVsIDo9IHNlbGYubW9kZWwoKToKICAgICAgICAgICAgICAgIHVuaXF1ZV9ub2RlX25hbWUgPSBtYWtlX3VuaXF1ZV9uYW1lKAogICAgICAgICAgICAgICAgICAgIGZuLl9fbmFtZV9fLCBbbiBmb3IgbiBpbiBncmFwaG1vZGVsLm5vZGVzKCldCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBncmFwaG1vZGVsLmFkZE5vZGUodW5pcXVlX25vZGVfbmFtZSwgZm49Zm4pCgogICAgICAgIGdyYXBobW9kZWwgPSBzZWxmLm1vZGVsKCkKICAgICAgICBpZiBncmFwaG1vZGVsOgogICAgICAgICAgICBhZGRfbWVudTogUU1lbnUgPSBRTWVudSgiYWRkIikKCiAgICAgICAgICAgIGZvciBmbiBpbiBzZWxmLmZ1bmN0aW9uczoKICAgICAgICAgICAgICAgIGFjdGlvbiA9IFFBY3Rpb24oc2VsZikKCiAgICAgICAgICAgICAgICBhY3Rpb24uc2V0VGV4dChmbi5fX25hbWVfXykKICAgICAgICAgICAgICAgIGFjdGlvbi50cmlnZ2VyZWQuY29ubmVjdChsYW1iZGEgY2hlY2tlZCwgZm49Zm46IGFkZF9ub2RlKGZuKSkKICAgICAgICAgICAgICAgIGFkZF9tZW51LmFkZEFjdGlvbihhY3Rpb24pCgogICAgICAgICAgICBhZGRfbWVudS5leGVjKGV2ZW50Lmdsb2JhbFBvcygpKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBhcHAgPSBRQXBwbGljYXRpb24oKQogICAgZ3JhcGhfbW9kZWwgPSBHcmFwaE1vZGVsKCkKICAgIGZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKICAgIGN3ZCA9IFBhdGguY3dkKCkKICAgIGN3ZC5nbG9iKCIqIikKCiAgICBncmFwaF92aWV3ID0gRm5HcmFwaFZpZXcoCiAgICAgICAgW2xlbiwgcHJpbnQsIFBhdGguY3dkLCBQYXRoLml0ZXJkaXIsIFBhdGgucmVhZF90ZXh0XQogICAgKQogICAgZ3JhcGhfdmlldy5zZXRNb2RlbChncmFwaF9tb2RlbCkKICAgIGdyYXBoX3ZpZXcuc2hvdygpCiAgICBhcHAuZXhlYygpCg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAoFAAAAAAAACgUAAAAAAAAAAAAAAADwvw"
				],
				[
					1945,
					2,
					"left_delete",
					null,
					"AgAAANYFAAAAAAAA1gUAAAAAAAArAAAAICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKdUFAAAAAAAA1QUAAAAAAAABAAAACg",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAEGAAAAAAAA1gUAAAAAAAAAAAAAAADwvw"
				],
				[
					1954,
					2,
					"left_delete",
					null,
					"AgAAAHIDAAAAAAAAcgMAAAAAAAAsAAAACiAgICAgICAgZm4gPSBncmFwaC5nZXROb2RlUHJvcGVydHkobiwgImZuIilxAwAAAAAAAHEDAAAAAAAAAQAAAAo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJ4DAAAAAAAAcgMAAAAAAAAAAAAAAADwvw"
				],
				[
					1958,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA+QsAAAAAAAD5CwAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKICAgIGRlZiBfaGVhZGVyX3RleHQoc2VsZiwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlKToKICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKQogICAgICAgIHJldHVybiBmIntufS17Zm4uX19uYW1lX199IgoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDgKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2Uoc2VsZi5faGVhZGVyX3RleHQoZ3JhcGgsIG4pKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLAogICAgICAgIHBhaW50ZXI6IFFQYWludGVyLAogICAgICAgIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sCiAgICAgICAgZ3JhcGg6IEdyYXBoTW9kZWwsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICApOgogICAgICAgIHBhZGRpbmcgPSA4CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCiAgICAgICAgIyBkcmF3IGhlYWRlciB0ZXh0CiAgICAgICAgZm0gPSBvcHRpb24uZm9udE1ldHJpY3MKICAgICAgICB5ID0gb3B0aW9uLnJlY3QuaGVpZ2h0KCkgLSBwYWRkaW5nCgogICAgICAgICMgZHJhdyBub2RlIHRleHQKICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIHNlbGYuX2hlYWRlcl90ZXh0KGdyYXBoLCBuKSkKCiAgICAgICAgIyBwYWludGVyLmRyYXdMaW5lKDAsIHksIG9wdGlvbi5yZWN0LndpZHRoKCksIHkpICMgZHJhdyBiYXNlbGluZQoKCmNsYXNzIEZuR3JhcGhWaWV3KEdyYXBoVmlldyk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgZnVuY3Rpb25zOiBMaXN0W0NhbGxhYmxlXSwgcGFyZW50OiBRV2lkZ2V0IHwgTm9uZSA9IE5vbmUKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQ9cGFyZW50KQogICAgICAgIHNlbGYuX2RlbGVnYXRlID0gRm5HcmFwaERlbGVnYXRlKCkKICAgICAgICBzZWxmLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucwoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgIC4uLgoKICAgIGRlZiBjb250ZXh0TWVudUV2ZW50KHNlbGYsIGV2ZW50OiBRQ29udGV4dE1lbnVFdmVudCk6CiAgICAgICAgdmlld3BvcyA9IHNlbGYubWFwRnJvbUdsb2JhbChldmVudC5nbG9iYWxQb3MoKSkKICAgICAgICBzY2VuZXBvcyA9IHNlbGYubWFwVG9TY2VuZSh2aWV3cG9zKQoKICAgICAgICBkZWYgYWRkX25vZGUoZm46IENhbGxhYmxlKToKICAgICAgICAgICAgaWYgZ3JhcGhtb2RlbCA6PSBzZWxmLm1vZGVsKCk6CiAgICAgICAgICAgICAgICB1bmlxdWVfbm9kZV9uYW1lID0gbWFrZV91bmlxdWVfbmFtZSgKICAgICAgICAgICAgICAgICAgICBmbi5fX25hbWVfXywgW24gZm9yIG4gaW4gZ3JhcGhtb2RlbC5ub2RlcygpXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhcGhtb2RlbC5hZGROb2RlKHVuaXF1ZV9ub2RlX25hbWUsIGZuPWZuKQoKICAgICAgICBncmFwaG1vZGVsID0gc2VsZi5tb2RlbCgpCiAgICAgICAgaWYgZ3JhcGhtb2RlbDoKICAgICAgICAgICAgYWRkX21lbnU6IFFNZW51ID0gUU1lbnUoImFkZCIpCgogICAgICAgICAgICBmb3IgZm4gaW4gc2VsZi5mdW5jdGlvbnM6CiAgICAgICAgICAgICAgICBhY3Rpb24gPSBRQWN0aW9uKHNlbGYpCgogICAgICAgICAgICAgICAgYWN0aW9uLnNldFRleHQoZm4uX19uYW1lX18pCiAgICAgICAgICAgICAgICBhY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhIGNoZWNrZWQsIGZuPWZuOiBhZGRfbm9kZShmbikpCiAgICAgICAgICAgICAgICBhZGRfbWVudS5hZGRBY3Rpb24oYWN0aW9uKQoKICAgICAgICAgICAgYWRkX21lbnUuZXhlYyhldmVudC5nbG9iYWxQb3MoKSkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXBwID0gUUFwcGxpY2F0aW9uKCkKICAgIGdyYXBoX21vZGVsID0gR3JhcGhNb2RlbCgpCiAgICBmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCiAgICBjd2QgPSBQYXRoLmN3ZCgpCiAgICBjd2QuZ2xvYigiKiIpCgogICAgZ3JhcGhfdmlldyA9IEZuR3JhcGhWaWV3KAogICAgICAgIFtsZW4sIHByaW50LCBQYXRoLmN3ZCwgUGF0aC5pdGVyZGlyLCBQYXRoLnJlYWRfdGV4dF0KICAgICkKICAgIGdyYXBoX3ZpZXcuc2V0TW9kZWwoZ3JhcGhfbW9kZWwpCiAgICBncmFwaF92aWV3LnNob3coKQogICAgYXBwLmV4ZWMoKQo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAHEDAAAAAAAAcQMAAAAAAAAAAAAAAADwvw"
				],
				[
					1964,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA+QsAAAAAAAD5CwAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKICAgIGRlZiBfaGVhZGVyX3RleHQoc2VsZiwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlKToKICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKQogICAgICAgIHJldHVybiBmIntufS17Zm4uX19uYW1lX199IgoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDgKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2Uoc2VsZi5faGVhZGVyX3RleHQoZ3JhcGgsIG4pKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLAogICAgICAgIHBhaW50ZXI6IFFQYWludGVyLAogICAgICAgIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sCiAgICAgICAgZ3JhcGg6IEdyYXBoTW9kZWwsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICApOgogICAgICAgIHBhZGRpbmcgPSA4CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCiAgICAgICAgIyBkcmF3IGhlYWRlciB0ZXh0CiAgICAgICAgZm0gPSBvcHRpb24uZm9udE1ldHJpY3MKICAgICAgICB5ID0gb3B0aW9uLnJlY3QuaGVpZ2h0KCkgLSBwYWRkaW5nCgogICAgICAgICMgZHJhdyBub2RlIHRleHQKICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIHNlbGYuX2hlYWRlcl90ZXh0KGdyYXBoLCBuKSkKCiAgICAgICAgIyBwYWludGVyLmRyYXdMaW5lKDAsIHksIG9wdGlvbi5yZWN0LndpZHRoKCksIHkpICMgZHJhdyBiYXNlbGluZQoKCmNsYXNzIEZuR3JhcGhWaWV3KEdyYXBoVmlldyk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgZnVuY3Rpb25zOiBMaXN0W0NhbGxhYmxlXSwgcGFyZW50OiBRV2lkZ2V0IHwgTm9uZSA9IE5vbmUKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQ9cGFyZW50KQogICAgICAgIHNlbGYuX2RlbGVnYXRlID0gRm5HcmFwaERlbGVnYXRlKCkKICAgICAgICBzZWxmLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucwoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgIC4uLgoKICAgIGRlZiBjb250ZXh0TWVudUV2ZW50KHNlbGYsIGV2ZW50OiBRQ29udGV4dE1lbnVFdmVudCk6CiAgICAgICAgdmlld3BvcyA9IHNlbGYubWFwRnJvbUdsb2JhbChldmVudC5nbG9iYWxQb3MoKSkKICAgICAgICBzY2VuZXBvcyA9IHNlbGYubWFwVG9TY2VuZSh2aWV3cG9zKQoKICAgICAgICBkZWYgYWRkX25vZGUoZm46IENhbGxhYmxlKToKICAgICAgICAgICAgaWYgZ3JhcGhtb2RlbCA6PSBzZWxmLm1vZGVsKCk6CiAgICAgICAgICAgICAgICB1bmlxdWVfbm9kZV9uYW1lID0gbWFrZV91bmlxdWVfbmFtZSgKICAgICAgICAgICAgICAgICAgICBmbi5fX25hbWVfXywgW24gZm9yIG4gaW4gZ3JhcGhtb2RlbC5ub2RlcygpXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhcGhtb2RlbC5hZGROb2RlKHVuaXF1ZV9ub2RlX25hbWUsIGZuPWZuKQoKICAgICAgICBncmFwaG1vZGVsID0gc2VsZi5tb2RlbCgpCiAgICAgICAgaWYgZ3JhcGhtb2RlbDoKICAgICAgICAgICAgYWRkX21lbnU6IFFNZW51ID0gUU1lbnUoImFkZCIpCgogICAgICAgICAgICBmb3IgZm4gaW4gc2VsZi5mdW5jdGlvbnM6CiAgICAgICAgICAgICAgICBhY3Rpb24gPSBRQWN0aW9uKHNlbGYpCgogICAgICAgICAgICAgICAgYWN0aW9uLnNldFRleHQoZm4uX19uYW1lX18pCiAgICAgICAgICAgICAgICBhY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhIGNoZWNrZWQsIGZuPWZuOiBhZGRfbm9kZShmbikpCiAgICAgICAgICAgICAgICBhZGRfbWVudS5hZGRBY3Rpb24oYWN0aW9uKQoKICAgICAgICAgICAgYWRkX21lbnUuZXhlYyhldmVudC5nbG9iYWxQb3MoKSkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXBwID0gUUFwcGxpY2F0aW9uKCkKICAgIGdyYXBoX21vZGVsID0gR3JhcGhNb2RlbCgpCiAgICBmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCiAgICBjd2QgPSBQYXRoLmN3ZCgpCiAgICBjd2QuZ2xvYigiKiIpCgogICAgZ3JhcGhfdmlldyA9IEZuR3JhcGhWaWV3KAogICAgICAgIFtsZW4sIHByaW50LCBQYXRoLmN3ZCwgUGF0aC5pdGVyZGlyLCBQYXRoLnJlYWRfdGV4dF0KICAgICkKICAgIGdyYXBoX3ZpZXcuc2V0TW9kZWwoZ3JhcGhfbW9kZWwpCiAgICBncmFwaF92aWV3LnNob3coKQogICAgYXBwLmV4ZWMoKQo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACgFAAAAAAAAKAUAAAAAAAAAAAAAAADwvw"
				],
				[
					1995,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA+QsAAAAAAAD5CwAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKICAgIGRlZiBfaGVhZGVyX3RleHQoc2VsZiwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlKToKICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKQogICAgICAgIHJldHVybiBmIntufS17Zm4uX19uYW1lX199IgoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDgKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2Uoc2VsZi5faGVhZGVyX3RleHQoZ3JhcGgsIG4pKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLAogICAgICAgIHBhaW50ZXI6IFFQYWludGVyLAogICAgICAgIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sCiAgICAgICAgZ3JhcGg6IEdyYXBoTW9kZWwsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICApOgogICAgICAgIHBhZGRpbmcgPSA4CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCiAgICAgICAgIyBkcmF3IGhlYWRlciB0ZXh0CiAgICAgICAgZm0gPSBvcHRpb24uZm9udE1ldHJpY3MKICAgICAgICB5ID0gb3B0aW9uLnJlY3QuaGVpZ2h0KCkgLSBwYWRkaW5nCgogICAgICAgICMgZHJhdyBub2RlIHRleHQKICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIHNlbGYuX2hlYWRlcl90ZXh0KGdyYXBoLCBuKSkKCiAgICAgICAgIyBwYWludGVyLmRyYXdMaW5lKDAsIHksIG9wdGlvbi5yZWN0LndpZHRoKCksIHkpICMgZHJhdyBiYXNlbGluZQoKCmNsYXNzIEZuR3JhcGhWaWV3KEdyYXBoVmlldyk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgZnVuY3Rpb25zOiBMaXN0W0NhbGxhYmxlXSwgcGFyZW50OiBRV2lkZ2V0IHwgTm9uZSA9IE5vbmUKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQ9cGFyZW50KQogICAgICAgIHNlbGYuX2RlbGVnYXRlID0gRm5HcmFwaERlbGVnYXRlKCkKICAgICAgICBzZWxmLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucwoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgIC4uLgoKICAgIGRlZiBjb250ZXh0TWVudUV2ZW50KHNlbGYsIGV2ZW50OiBRQ29udGV4dE1lbnVFdmVudCk6CiAgICAgICAgdmlld3BvcyA9IHNlbGYubWFwRnJvbUdsb2JhbChldmVudC5nbG9iYWxQb3MoKSkKICAgICAgICBzY2VuZXBvcyA9IHNlbGYubWFwVG9TY2VuZSh2aWV3cG9zKQoKICAgICAgICBkZWYgYWRkX25vZGUoZm46IENhbGxhYmxlKToKICAgICAgICAgICAgaWYgZ3JhcGhtb2RlbCA6PSBzZWxmLm1vZGVsKCk6CiAgICAgICAgICAgICAgICB1bmlxdWVfbm9kZV9uYW1lID0gbWFrZV91bmlxdWVfbmFtZSgKICAgICAgICAgICAgICAgICAgICBmbi5fX25hbWVfXywgW24gZm9yIG4gaW4gZ3JhcGhtb2RlbC5ub2RlcygpXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhcGhtb2RlbC5hZGROb2RlKHVuaXF1ZV9ub2RlX25hbWUsIGZuPWZuKQoKICAgICAgICBncmFwaG1vZGVsID0gc2VsZi5tb2RlbCgpCiAgICAgICAgaWYgZ3JhcGhtb2RlbDoKICAgICAgICAgICAgYWRkX21lbnU6IFFNZW51ID0gUU1lbnUoImFkZCIpCgogICAgICAgICAgICBmb3IgZm4gaW4gc2VsZi5mdW5jdGlvbnM6CiAgICAgICAgICAgICAgICBhY3Rpb24gPSBRQWN0aW9uKHNlbGYpCgogICAgICAgICAgICAgICAgYWN0aW9uLnNldFRleHQoZm4uX19uYW1lX18pCiAgICAgICAgICAgICAgICBhY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhIGNoZWNrZWQsIGZuPWZuOiBhZGRfbm9kZShmbikpCiAgICAgICAgICAgICAgICBhZGRfbWVudS5hZGRBY3Rpb24oYWN0aW9uKQoKICAgICAgICAgICAgYWRkX21lbnUuZXhlYyhldmVudC5nbG9iYWxQb3MoKSkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXBwID0gUUFwcGxpY2F0aW9uKCkKICAgIGdyYXBoX21vZGVsID0gR3JhcGhNb2RlbCgpCiAgICBmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCiAgICBjd2QgPSBQYXRoLmN3ZCgpCiAgICBjd2QuZ2xvYigiKiIpCgogICAgZ3JhcGhfdmlldyA9IEZuR3JhcGhWaWV3KAogICAgICAgIFtsZW4sIHByaW50LCBQYXRoLmN3ZCwgUGF0aC5pdGVyZGlyLCBQYXRoLnJlYWRfdGV4dF0KICAgICkKICAgIGdyYXBoX3ZpZXcuc2V0TW9kZWwoZ3JhcGhfbW9kZWwpCiAgICBncmFwaF92aWV3LnNob3coKQogICAgYXBwLmV4ZWMoKQo",
					"AwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAJUCAAAAAAAAlQIAAAAAAAAAAAAAAADwvw"
				],
				[
					10,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAA+QsAAAAAAAD5CwAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgTm9kZURlbGVnYXRlCgpmcm9tIHB5bGl2ZS51dGlscy51bmlxdWUgaW1wb3J0IG1ha2VfdW5pcXVlX25hbWUKCmZyb20gZnVuY3Rpb25fd2lkZ2V0IGltcG9ydCBGdW5jdGlvbk5vZGVXaWRnZXQKCgpjbGFzcyBGbkdyYXBoRGVsZWdhdGUoTm9kZURlbGVnYXRlKToKICAgIGRlZiBfaGVhZGVyX3RleHQoc2VsZiwgZ3JhcGg6IEdyYXBoTW9kZWwsIG46IEhhc2hhYmxlKToKICAgICAgICBmbiA9IGdyYXBoLmdldE5vZGVQcm9wZXJ0eShuLCAiZm4iKQogICAgICAgIHJldHVybiBmIntufS17Zm4uX19uYW1lX199IgoKICAgIEBvdmVycmlkZQogICAgZGVmIHNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDgKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2Uoc2VsZi5faGVhZGVyX3RleHQoZ3JhcGgsIG4pKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBwYWludCgKICAgICAgICBzZWxmLAogICAgICAgIHBhaW50ZXI6IFFQYWludGVyLAogICAgICAgIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sCiAgICAgICAgZ3JhcGg6IEdyYXBoTW9kZWwsCiAgICAgICAgbjogSGFzaGFibGUsCiAgICApOgogICAgICAgIHBhZGRpbmcgPSA4CiAgICAgICAgIyBkcmF3IG91dGxpbmUKICAgICAgICBwYWludGVyLmRyYXdSb3VuZGVkUmVjdChvcHRpb24ucmVjdCwgNCwgNCkKCiAgICAgICAgIyBkcmF3IGhlYWRlciB0ZXh0CiAgICAgICAgZm0gPSBvcHRpb24uZm9udE1ldHJpY3MKICAgICAgICB5ID0gb3B0aW9uLnJlY3QuaGVpZ2h0KCkgLSBwYWRkaW5nCgogICAgICAgICMgZHJhdyBub2RlIHRleHQKICAgICAgICBwYWludGVyLmRyYXdUZXh0KHBhZGRpbmcsIHksIHNlbGYuX2hlYWRlcl90ZXh0KGdyYXBoLCBuKSkKCiAgICAgICAgIyBwYWludGVyLmRyYXdMaW5lKDAsIHksIG9wdGlvbi5yZWN0LndpZHRoKCksIHkpICMgZHJhdyBiYXNlbGluZQoKCmNsYXNzIEZuR3JhcGhWaWV3KEdyYXBoVmlldyk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwgZnVuY3Rpb25zOiBMaXN0W0NhbGxhYmxlXSwgcGFyZW50OiBRV2lkZ2V0IHwgTm9uZSA9IE5vbmUKICAgICk6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXyhwYXJlbnQ9cGFyZW50KQogICAgICAgIHNlbGYuX2RlbGVnYXRlID0gRm5HcmFwaERlbGVnYXRlKCkKICAgICAgICBzZWxmLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucwoKICAgIGRlZiBtb3VzZURvdWJsZUNsaWNrRXZlbnQoc2VsZiwgZXZlbnQ6IFFNb3VzZUV2ZW50KSAtPiBOb25lOgogICAgICAgIC4uLgoKICAgIGRlZiBjb250ZXh0TWVudUV2ZW50KHNlbGYsIGV2ZW50OiBRQ29udGV4dE1lbnVFdmVudCk6CiAgICAgICAgdmlld3BvcyA9IHNlbGYubWFwRnJvbUdsb2JhbChldmVudC5nbG9iYWxQb3MoKSkKICAgICAgICBzY2VuZXBvcyA9IHNlbGYubWFwVG9TY2VuZSh2aWV3cG9zKQoKICAgICAgICBkZWYgYWRkX25vZGUoZm46IENhbGxhYmxlKToKICAgICAgICAgICAgaWYgZ3JhcGhtb2RlbCA6PSBzZWxmLm1vZGVsKCk6CiAgICAgICAgICAgICAgICB1bmlxdWVfbm9kZV9uYW1lID0gbWFrZV91bmlxdWVfbmFtZSgKICAgICAgICAgICAgICAgICAgICBmbi5fX25hbWVfXywgW24gZm9yIG4gaW4gZ3JhcGhtb2RlbC5ub2RlcygpXQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZ3JhcGhtb2RlbC5hZGROb2RlKHVuaXF1ZV9ub2RlX25hbWUsIGZuPWZuKQoKICAgICAgICBncmFwaG1vZGVsID0gc2VsZi5tb2RlbCgpCiAgICAgICAgaWYgZ3JhcGhtb2RlbDoKICAgICAgICAgICAgYWRkX21lbnU6IFFNZW51ID0gUU1lbnUoImFkZCIpCgogICAgICAgICAgICBmb3IgZm4gaW4gc2VsZi5mdW5jdGlvbnM6CiAgICAgICAgICAgICAgICBhY3Rpb24gPSBRQWN0aW9uKHNlbGYpCgogICAgICAgICAgICAgICAgYWN0aW9uLnNldFRleHQoZm4uX19uYW1lX18pCiAgICAgICAgICAgICAgICBhY3Rpb24udHJpZ2dlcmVkLmNvbm5lY3QobGFtYmRhIGNoZWNrZWQsIGZuPWZuOiBhZGRfbm9kZShmbikpCiAgICAgICAgICAgICAgICBhZGRfbWVudS5hZGRBY3Rpb24oYWN0aW9uKQoKICAgICAgICAgICAgYWRkX21lbnUuZXhlYyhldmVudC5nbG9iYWxQb3MoKSkKCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXBwID0gUUFwcGxpY2F0aW9uKCkKICAgIGdyYXBoX21vZGVsID0gR3JhcGhNb2RlbCgpCiAgICBmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCiAgICBjd2QgPSBQYXRoLmN3ZCgpCiAgICBjd2QuZ2xvYigiKiIpCgogICAgZ3JhcGhfdmlldyA9IEZuR3JhcGhWaWV3KAogICAgICAgIFtsZW4sIHByaW50LCBQYXRoLmN3ZCwgUGF0aC5pdGVyZGlyLCBQYXRoLnJlYWRfdGV4dF0KICAgICkKICAgIGdyYXBoX3ZpZXcuc2V0TW9kZWwoZ3JhcGhfbW9kZWwpCiAgICBncmFwaF92aWV3LnNob3coKQogICAgYXBwLmV4ZWMoKQo",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA1BgAAAAAAADUGAAAAAAAAAAAAAAAA8L8"
				],
				[
					15,
					1,
					"insert",
					{
						"characters": "Graph"
					},
					"BgAAAJgBAAAAAAAAmQEAAAAAAAAAAAAAmQEAAAAAAACZAQAAAAAAAAQAAABOb2RlmQEAAAAAAACaAQAAAAAAAAAAAACaAQAAAAAAAJsBAAAAAAAAAAAAAJsBAAAAAAAAnAEAAAAAAAAAAAAAnAEAAAAAAACdAQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACcAQAAAAAAAJgBAAAAAAAAAAAAAAAA8L8"
				],
				[
					19,
					1,
					"insert",
					{
						"characters": "Graph"
					},
					"BgAAACACAAAAAAAAIQIAAAAAAAAAAAAAIQIAAAAAAAAhAgAAAAAAAAQAAABOb2RlIQIAAAAAAAAiAgAAAAAAAAAAAAAiAgAAAAAAACMCAAAAAAAAAAAAACMCAAAAAAAAJAIAAAAAAAAAAAAAJAIAAAAAAAAlAgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAkAgAAAAAAACACAAAAAAAAAAAAAAAA8L8"
				],
				[
					22,
					1,
					"insert",
					{
						"characters": "node"
					},
					"BAAAANMCAAAAAAAA1AIAAAAAAAAAAAAA1AIAAAAAAADVAgAAAAAAAAAAAADVAgAAAAAAANYCAAAAAAAAAAAAANYCAAAAAAAA1wIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADTAgAAAAAAANMCAAAAAAAAAAAAAAAA8L8"
				],
				[
					23,
					1,
					"right_delete",
					null,
					"AQAAANcCAAAAAAAA1wIAAAAAAAABAAAAcw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADXAgAAAAAAANcCAAAAAAAAAAAAAAAA8L8"
				],
				[
					24,
					1,
					"insert",
					{
						"characters": "S"
					},
					"AQAAANcCAAAAAAAA2AIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADXAgAAAAAAANcCAAAAAAAAAAAAAAAA8L8"
				],
				[
					26,
					1,
					"insert",
					{
						"characters": "Node"
					},
					"BAAAAEgEAAAAAAAASQQAAAAAAAAAAAAASQQAAAAAAABKBAAAAAAAAAAAAABKBAAAAAAAAEsEAAAAAAAAAAAAAEsEAAAAAAAATAQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABIBAAAAAAAAEgEAAAAAAAAAAAAAADAU0A"
				],
				[
					28,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAAwwAAAAAAAADDAAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgR3JhcGhEZWxlZ2F0ZQoKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9uYW1lCgpmcm9tIGZ1bmN0aW9uX3dpZGdldCBpbXBvcnQgRnVuY3Rpb25Ob2RlV2lkZ2V0CgoKY2xhc3MgRm5HcmFwaERlbGVnYXRlKEdyYXBoRGVsZWdhdGUpOgogICAgZGVmIF9oZWFkZXJfdGV4dChzZWxmLCBncmFwaDogR3JhcGhNb2RlbCwgbjogSGFzaGFibGUpOgogICAgICAgIGZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgcmV0dXJuIGYie259LXtmbi5fX25hbWVfX30iCgogICAgQG92ZXJyaWRlCiAgICBkZWYgbm9kZVNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDgKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2Uoc2VsZi5faGVhZGVyX3RleHQoZ3JhcGgsIG4pKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBwYWludE5vZGUoCiAgICAgICAgc2VsZiwKICAgICAgICBwYWludGVyOiBRUGFpbnRlciwKICAgICAgICBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLAogICAgICAgIGdyYXBoOiBHcmFwaE1vZGVsLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgKToKICAgICAgICBwYWRkaW5nID0gOAogICAgICAgICMgZHJhdyBvdXRsaW5lCiAgICAgICAgcGFpbnRlci5kcmF3Um91bmRlZFJlY3Qob3B0aW9uLnJlY3QsIDQsIDQpCgogICAgICAgICMgZHJhdyBoZWFkZXIgdGV4dAogICAgICAgIGZtID0gb3B0aW9uLmZvbnRNZXRyaWNzCiAgICAgICAgeSA9IG9wdGlvbi5yZWN0LmhlaWdodCgpIC0gcGFkZGluZwoKICAgICAgICAjIGRyYXcgbm9kZSB0ZXh0CiAgICAgICAgcGFpbnRlci5kcmF3VGV4dChwYWRkaW5nLCB5LCBzZWxmLl9oZWFkZXJfdGV4dChncmFwaCwgbikpCgogICAgICAgICMgcGFpbnRlci5kcmF3TGluZSgwLCB5LCBvcHRpb24ucmVjdC53aWR0aCgpLCB5KSAjIGRyYXcgYmFzZWxpbmUKCgpjbGFzcyBGbkdyYXBoVmlldyhHcmFwaFZpZXcpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGZ1bmN0aW9uczogTGlzdFtDYWxsYWJsZV0sIHBhcmVudDogUVdpZGdldCB8IE5vbmUgPSBOb25lCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBzZWxmLl9kZWxlZ2F0ZSA9IEZuR3JhcGhEZWxlZ2F0ZSgpCiAgICAgICAgc2VsZi5mdW5jdGlvbnMgPSBmdW5jdGlvbnMKCiAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAuLi4KCiAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgIHZpZXdwb3MgPSBzZWxmLm1hcEZyb21HbG9iYWwoZXZlbnQuZ2xvYmFsUG9zKCkpCiAgICAgICAgc2NlbmVwb3MgPSBzZWxmLm1hcFRvU2NlbmUodmlld3BvcykKCiAgICAgICAgZGVmIGFkZF9ub2RlKGZuOiBDYWxsYWJsZSk6CiAgICAgICAgICAgIGlmIGdyYXBobW9kZWwgOj0gc2VsZi5tb2RlbCgpOgogICAgICAgICAgICAgICAgdW5pcXVlX25vZGVfbmFtZSA9IG1ha2VfdW5pcXVlX25hbWUoCiAgICAgICAgICAgICAgICAgICAgZm4uX19uYW1lX18sIFtuIGZvciBuIGluIGdyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYXBobW9kZWwuYWRkTm9kZSh1bmlxdWVfbm9kZV9uYW1lLCBmbj1mbikKCiAgICAgICAgZ3JhcGhtb2RlbCA9IHNlbGYubW9kZWwoKQogICAgICAgIGlmIGdyYXBobW9kZWw6CiAgICAgICAgICAgIGFkZF9tZW51OiBRTWVudSA9IFFNZW51KCJhZGQiKQoKICAgICAgICAgICAgZm9yIGZuIGluIHNlbGYuZnVuY3Rpb25zOgogICAgICAgICAgICAgICAgYWN0aW9uID0gUUFjdGlvbihzZWxmKQoKICAgICAgICAgICAgICAgIGFjdGlvbi5zZXRUZXh0KGZuLl9fbmFtZV9fKQogICAgICAgICAgICAgICAgYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYSBjaGVja2VkLCBmbj1mbjogYWRkX25vZGUoZm4pKQogICAgICAgICAgICAgICAgYWRkX21lbnUuYWRkQWN0aW9uKGFjdGlvbikKCiAgICAgICAgICAgIGFkZF9tZW51LmV4ZWMoZXZlbnQuZ2xvYmFsUG9zKCkpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICBncmFwaF9tb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgogICAgY3dkID0gUGF0aC5jd2QoKQogICAgY3dkLmdsb2IoIioiKQoKICAgIGdyYXBoX3ZpZXcgPSBGbkdyYXBoVmlldygKICAgICAgICBbbGVuLCBwcmludCwgUGF0aC5jd2QsIFBhdGguaXRlcmRpciwgUGF0aC5yZWFkX3RleHRdCiAgICApCiAgICBncmFwaF92aWV3LnNldE1vZGVsKGdyYXBoX21vZGVsKQogICAgZ3JhcGhfdmlldy5zaG93KCkKICAgIGFwcC5leGVjKCkK",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABMBAAAAAAAAEwEAAAAAAAAAAAAAAAA8L8"
				],
				[
					32,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAAwwAAAAAAAADDAAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgR3JhcGhEZWxlZ2F0ZQoKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9uYW1lCgpmcm9tIGZ1bmN0aW9uX3dpZGdldCBpbXBvcnQgRnVuY3Rpb25Ob2RlV2lkZ2V0CgoKY2xhc3MgRm5HcmFwaERlbGVnYXRlKEdyYXBoRGVsZWdhdGUpOgogICAgZGVmIF9oZWFkZXJfdGV4dChzZWxmLCBncmFwaDogR3JhcGhNb2RlbCwgbjogSGFzaGFibGUpOgogICAgICAgIGZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgcmV0dXJuIGYie259LXtmbi5fX25hbWVfX30iCgogICAgQG92ZXJyaWRlCiAgICBkZWYgbm9kZVNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDgKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2Uoc2VsZi5faGVhZGVyX3RleHQoZ3JhcGgsIG4pKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBwYWludE5vZGUoCiAgICAgICAgc2VsZiwKICAgICAgICBwYWludGVyOiBRUGFpbnRlciwKICAgICAgICBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLAogICAgICAgIGdyYXBoOiBHcmFwaE1vZGVsLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgKToKICAgICAgICBwYWRkaW5nID0gOAogICAgICAgICMgZHJhdyBvdXRsaW5lCiAgICAgICAgcGFpbnRlci5kcmF3Um91bmRlZFJlY3Qob3B0aW9uLnJlY3QsIDQsIDQpCgogICAgICAgICMgZHJhdyBoZWFkZXIgdGV4dAogICAgICAgIGZtID0gb3B0aW9uLmZvbnRNZXRyaWNzCiAgICAgICAgeSA9IG9wdGlvbi5yZWN0LmhlaWdodCgpIC0gcGFkZGluZwoKICAgICAgICAjIGRyYXcgbm9kZSB0ZXh0CiAgICAgICAgcGFpbnRlci5kcmF3VGV4dChwYWRkaW5nLCB5LCBzZWxmLl9oZWFkZXJfdGV4dChncmFwaCwgbikpCgogICAgICAgICMgcGFpbnRlci5kcmF3TGluZSgwLCB5LCBvcHRpb24ucmVjdC53aWR0aCgpLCB5KSAjIGRyYXcgYmFzZWxpbmUKCgpjbGFzcyBGbkdyYXBoVmlldyhHcmFwaFZpZXcpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGZ1bmN0aW9uczogTGlzdFtDYWxsYWJsZV0sIHBhcmVudDogUVdpZGdldCB8IE5vbmUgPSBOb25lCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBzZWxmLl9kZWxlZ2F0ZSA9IEZuR3JhcGhEZWxlZ2F0ZSgpCiAgICAgICAgc2VsZi5mdW5jdGlvbnMgPSBmdW5jdGlvbnMKCiAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAuLi4KCiAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgIHZpZXdwb3MgPSBzZWxmLm1hcEZyb21HbG9iYWwoZXZlbnQuZ2xvYmFsUG9zKCkpCiAgICAgICAgc2NlbmVwb3MgPSBzZWxmLm1hcFRvU2NlbmUodmlld3BvcykKCiAgICAgICAgZGVmIGFkZF9ub2RlKGZuOiBDYWxsYWJsZSk6CiAgICAgICAgICAgIGlmIGdyYXBobW9kZWwgOj0gc2VsZi5tb2RlbCgpOgogICAgICAgICAgICAgICAgdW5pcXVlX25vZGVfbmFtZSA9IG1ha2VfdW5pcXVlX25hbWUoCiAgICAgICAgICAgICAgICAgICAgZm4uX19uYW1lX18sIFtuIGZvciBuIGluIGdyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYXBobW9kZWwuYWRkTm9kZSh1bmlxdWVfbm9kZV9uYW1lLCBmbj1mbikKCiAgICAgICAgZ3JhcGhtb2RlbCA9IHNlbGYubW9kZWwoKQogICAgICAgIGlmIGdyYXBobW9kZWw6CiAgICAgICAgICAgIGFkZF9tZW51OiBRTWVudSA9IFFNZW51KCJhZGQiKQoKICAgICAgICAgICAgZm9yIGZuIGluIHNlbGYuZnVuY3Rpb25zOgogICAgICAgICAgICAgICAgYWN0aW9uID0gUUFjdGlvbihzZWxmKQoKICAgICAgICAgICAgICAgIGFjdGlvbi5zZXRUZXh0KGZuLl9fbmFtZV9fKQogICAgICAgICAgICAgICAgYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYSBjaGVja2VkLCBmbj1mbjogYWRkX25vZGUoZm4pKQogICAgICAgICAgICAgICAgYWRkX21lbnUuYWRkQWN0aW9uKGFjdGlvbikKCiAgICAgICAgICAgIGFkZF9tZW51LmV4ZWMoZXZlbnQuZ2xvYmFsUG9zKCkpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICBncmFwaF9tb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgogICAgY3dkID0gUGF0aC5jd2QoKQogICAgY3dkLmdsb2IoIioiKQoKICAgIGdyYXBoX3ZpZXcgPSBGbkdyYXBoVmlldygKICAgICAgICBbbGVuLCBwcmludCwgUGF0aC5jd2QsIFBhdGguaXRlcmRpciwgUGF0aC5yZWFkX3RleHRdCiAgICApCiAgICBncmFwaF92aWV3LnNldE1vZGVsKGdyYXBoX21vZGVsKQogICAgZ3JhcGhfdmlldy5zaG93KCkKICAgIGFwcC5leGVjKCkK",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAJBAAAAAAAAAkEAAAAAAAAAAAAAAAA8L8"
				],
				[
					8,
					1,
					"black",
					{
						"use_selection": false
					},
					"AQAAAAAAAAAAAAAAAwwAAAAAAAADDAAAZnJvbSBhc3QgaW1wb3J0IENhbGwKZnJvbSB0eXBpbmcgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0R3VpIGltcG9ydCAqCmZyb20gUHlTaWRlNi5RdENvcmUgaW1wb3J0ICoKZnJvbSBQeVNpZGU2LlF0V2lkZ2V0cyBpbXBvcnQgKgoKZnJvbSBncmFwaF9tb2RlbCBpbXBvcnQgR3JhcGhNb2RlbApmcm9tIHB5bGl2ZS5RdEdyYXBoRWRpdG9yLk5ldHJvd2tYR3JhcGhFZGl0b3IubGlua19ncmFwaGljc19pdGVtcyBpbXBvcnQgKAogICAgbWFrZUxpbmVCZXR3ZWVuU2hhcGVzLAopCmZyb20gcHlsaXZlLlF0R3JhcGhFZGl0b3IuTmV0cm93a1hHcmFwaEVkaXRvci5xZ3JhcGhpY3NfYXJyb3dfaXRlbSBpbXBvcnQgKAogICAgUUdyYXBoaWNzQXJyb3dJdGVtLAopCgpmcm9tIGdyYXBoX3ZpZXcgaW1wb3J0IEdyYXBoVmlldywgR3JhcGhEZWxlZ2F0ZQoKZnJvbSBweWxpdmUudXRpbHMudW5pcXVlIGltcG9ydCBtYWtlX3VuaXF1ZV9uYW1lCgpmcm9tIGZ1bmN0aW9uX3dpZGdldCBpbXBvcnQgRnVuY3Rpb25Ob2RlV2lkZ2V0CgoKY2xhc3MgRm5HcmFwaERlbGVnYXRlKEdyYXBoRGVsZWdhdGUpOgogICAgZGVmIF9oZWFkZXJfdGV4dChzZWxmLCBncmFwaDogR3JhcGhNb2RlbCwgbjogSGFzaGFibGUpOgogICAgICAgIGZuID0gZ3JhcGguZ2V0Tm9kZVByb3BlcnR5KG4sICJmbiIpCiAgICAgICAgcmV0dXJuIGYie259LXtmbi5fX25hbWVfX30iCgogICAgQG92ZXJyaWRlCiAgICBkZWYgbm9kZVNpemVIaW50KAogICAgICAgIHNlbGYsIG9wdGlvbjogUVN0eWxlT3B0aW9uVmlld0l0ZW0sIGdyYXBoOiBHcmFwaE1vZGVsLCBuOiBIYXNoYWJsZQogICAgKSAtPiBRU2l6ZUY6CiAgICAgICAgcGFkZGluZyA9IDgKICAgICAgICBmbSA9IFFGb250TWV0cmljcyhvcHRpb24uZm9udCkKICAgICAgICB0ZXh0X3dpZHRoID0gZm0uaG9yaXpvbnRhbEFkdmFuY2Uoc2VsZi5faGVhZGVyX3RleHQoZ3JhcGgsIG4pKQogICAgICAgIHJldHVybiBRU2l6ZUYoCiAgICAgICAgICAgIHBhZGRpbmcgKyB0ZXh0X3dpZHRoICsgcGFkZGluZywgcGFkZGluZyArIGZtLmFzY2VudCgpICsgcGFkZGluZwogICAgICAgICkKCiAgICBAb3ZlcnJpZGUKICAgIGRlZiBwYWludE5vZGUoCiAgICAgICAgc2VsZiwKICAgICAgICBwYWludGVyOiBRUGFpbnRlciwKICAgICAgICBvcHRpb246IFFTdHlsZU9wdGlvblZpZXdJdGVtLAogICAgICAgIGdyYXBoOiBHcmFwaE1vZGVsLAogICAgICAgIG46IEhhc2hhYmxlLAogICAgKToKICAgICAgICBwYWRkaW5nID0gOAogICAgICAgICMgZHJhdyBvdXRsaW5lCiAgICAgICAgcGFpbnRlci5kcmF3Um91bmRlZFJlY3Qob3B0aW9uLnJlY3QsIDQsIDQpCgogICAgICAgICMgZHJhdyBoZWFkZXIgdGV4dAogICAgICAgIGZtID0gb3B0aW9uLmZvbnRNZXRyaWNzCiAgICAgICAgeSA9IG9wdGlvbi5yZWN0LmhlaWdodCgpIC0gcGFkZGluZwoKICAgICAgICAjIGRyYXcgbm9kZSB0ZXh0CiAgICAgICAgcGFpbnRlci5kcmF3VGV4dChwYWRkaW5nLCB5LCBzZWxmLl9oZWFkZXJfdGV4dChncmFwaCwgbikpCgogICAgICAgICMgcGFpbnRlci5kcmF3TGluZSgwLCB5LCBvcHRpb24ucmVjdC53aWR0aCgpLCB5KSAjIGRyYXcgYmFzZWxpbmUKCgpjbGFzcyBGbkdyYXBoVmlldyhHcmFwaFZpZXcpOgogICAgZGVmIF9faW5pdF9fKAogICAgICAgIHNlbGYsIGZ1bmN0aW9uczogTGlzdFtDYWxsYWJsZV0sIHBhcmVudDogUVdpZGdldCB8IE5vbmUgPSBOb25lCiAgICApOgogICAgICAgIHN1cGVyKCkuX19pbml0X18ocGFyZW50PXBhcmVudCkKICAgICAgICBzZWxmLl9kZWxlZ2F0ZSA9IEZuR3JhcGhEZWxlZ2F0ZSgpCiAgICAgICAgc2VsZi5mdW5jdGlvbnMgPSBmdW5jdGlvbnMKCiAgICBkZWYgbW91c2VEb3VibGVDbGlja0V2ZW50KHNlbGYsIGV2ZW50OiBRTW91c2VFdmVudCkgLT4gTm9uZToKICAgICAgICAuLi4KCiAgICBkZWYgY29udGV4dE1lbnVFdmVudChzZWxmLCBldmVudDogUUNvbnRleHRNZW51RXZlbnQpOgogICAgICAgIHZpZXdwb3MgPSBzZWxmLm1hcEZyb21HbG9iYWwoZXZlbnQuZ2xvYmFsUG9zKCkpCiAgICAgICAgc2NlbmVwb3MgPSBzZWxmLm1hcFRvU2NlbmUodmlld3BvcykKCiAgICAgICAgZGVmIGFkZF9ub2RlKGZuOiBDYWxsYWJsZSk6CiAgICAgICAgICAgIGlmIGdyYXBobW9kZWwgOj0gc2VsZi5tb2RlbCgpOgogICAgICAgICAgICAgICAgdW5pcXVlX25vZGVfbmFtZSA9IG1ha2VfdW5pcXVlX25hbWUoCiAgICAgICAgICAgICAgICAgICAgZm4uX19uYW1lX18sIFtuIGZvciBuIGluIGdyYXBobW9kZWwubm9kZXMoKV0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGdyYXBobW9kZWwuYWRkTm9kZSh1bmlxdWVfbm9kZV9uYW1lLCBmbj1mbikKCiAgICAgICAgZ3JhcGhtb2RlbCA9IHNlbGYubW9kZWwoKQogICAgICAgIGlmIGdyYXBobW9kZWw6CiAgICAgICAgICAgIGFkZF9tZW51OiBRTWVudSA9IFFNZW51KCJhZGQiKQoKICAgICAgICAgICAgZm9yIGZuIGluIHNlbGYuZnVuY3Rpb25zOgogICAgICAgICAgICAgICAgYWN0aW9uID0gUUFjdGlvbihzZWxmKQoKICAgICAgICAgICAgICAgIGFjdGlvbi5zZXRUZXh0KGZuLl9fbmFtZV9fKQogICAgICAgICAgICAgICAgYWN0aW9uLnRyaWdnZXJlZC5jb25uZWN0KGxhbWJkYSBjaGVja2VkLCBmbj1mbjogYWRkX25vZGUoZm4pKQogICAgICAgICAgICAgICAgYWRkX21lbnUuYWRkQWN0aW9uKGFjdGlvbikKCiAgICAgICAgICAgIGFkZF9tZW51LmV4ZWMoZXZlbnQuZ2xvYmFsUG9zKCkpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIGFwcCA9IFFBcHBsaWNhdGlvbigpCiAgICBncmFwaF9tb2RlbCA9IEdyYXBoTW9kZWwoKQogICAgZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCgogICAgY3dkID0gUGF0aC5jd2QoKQogICAgY3dkLmdsb2IoIioiKQoKICAgIGdyYXBoX3ZpZXcgPSBGbkdyYXBoVmlldygKICAgICAgICBbbGVuLCBwcmludCwgUGF0aC5jd2QsIFBhdGguaXRlcmRpciwgUGF0aC5yZWFkX3RleHRdCiAgICApCiAgICBncmFwaF92aWV3LnNldE1vZGVsKGdyYXBoX21vZGVsKQogICAgZ3JhcGhfdmlldy5zaG93KCkKICAgIGFwcC5leGVjKCkK",
					"AQAAAAAAAAABAAAACQIAAAAAAAAJAgAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "pylive/examples/python_function_graph/function_widget.py",
			"settings":
			{
				"buffer_size": 12045,
				"line_ending": "Windows"
			}
		}
	],
	"build_system": "Packages/Python/Python.sublime-build",
	"build_system_choices":
	[
		[
			[
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		]
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"insta",
				"Package Control: Install Package"
			],
			[
				"instal",
				"Package Control: Install Package"
			],
			[
				"pyrigth",
				"Preferences: LSP-pyright Settings"
			],
			[
				"remove",
				"Package Control: Remove Package"
			],
			[
				"inst",
				"Package Control: Install Package"
			],
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"remov",
				"Package Control: Remove Package"
			],
			[
				"termin",
				"Terminus: Toggle Panel"
			],
			[
				"terminus",
				"Terminus: Toggle Panel"
			],
			[
				"termi",
				"Terminus: Toggle Panel"
			],
			[
				"terminu",
				"Terminus: Close All"
			],
			[
				"instl",
				"Package Control: Install Package"
			],
			[
				"REMOE",
				"Package Control: Remove Package"
			],
			[
				"reinde",
				"Indentation: Reindent Lines"
			],
			[
				"reind",
				"Indentation: Reindent Lines"
			],
			[
				"enable",
				"Package Control: Enable Package"
			],
			[
				"package",
				"Package Control: Disable Package"
			],
			[
				"packa",
				"View Package File"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 0.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/C/dev/src/pylive",
		"/C/dev/src/pylive/blog",
		"/C/dev/src/pylive/pylive",
		"/C/dev/src/pylive/pylive/examples",
		"/C/dev/src/pylive/pylive/examples/python_function_graph",
		"/C/dev/src/pylive/pylive/utils"
	],
	"file_history":
	[
		"/C/dev/src/pylive/blog/2024_12_18-houdini-meats-python.md",
		"/C/dev/src/pylive/pylive/examples/python_function_graph/graph_model.py",
		"/C/dev/src/pylive/pylive/examples/python_function_graph/function_widget.py",
		"/C/dev/src/pylive/pylive/examples/python_function_graph/standard_graph_delegate.py",
		"/C/dev/src/pylive/pylive/examples/python_function_graph/graph_view.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/dag_graph_graphics_scene.py",
		"/C/dev/src/pylive/pylive/examples/python_function_graph/main.py",
		"/C/dev/src/pylive/pylive/QtTerminal/logwindow.py",
		"/C/dev/src/pylive/pylive/examples/python_function_graph/abstract_graph_deletage.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/NetrowkXGraphEditor/qgraphics_arrow_item.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/NetrowkXGraphEditor/graphview_with_delegate.py",
		"/C/dev/src/pylive/pylive/python_function_graph/function_graph_view.py",
		"/C/dev/src/pylive/expreiments/inspect_available_functions.py",
		"/C/dev/src/pylive/expreiments/inspect_functions_experiment.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/NetrowkXGraphEditor/nx_graph_model.py",
		"/P/!!INSTALL!!/____Install 2024/TVPaint Animation 10 Pro 10.0.16 (32 Bit)/Install.Notes.nfo",
		"/C/dev/src/pylive/pylive/utils/geo.py",
		"/C/Users/and/Desktop/TVPaint Animation 10 Pro 10.0.16 (32 Bit)/Install.Notes.nfo",
		"/C/dev/src/pylive/pylive/QtGraphEditor/NetrowkXGraphEditor/link_graphics_items.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/NetrowkXGraphEditor/abstract_graph_delegate.py",
		"/C/dev/src/pylive/expreiments/ListItemDelegate-example.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/NetrowkXGraphditor/nx_graph_view.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/NetrowkXGraphditor/nx_graph_model.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/NetrowkXGraphditor/standard_graph_delegate.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/NetrowkXGraphditor/standard_node_widget.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/NetrowkXGraphditor/ConnectableGraphicsItem.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/NetrowkXGraphditor/edge_widget.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/NetrowkXGraphditor/QGraphicsArrowItem.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/Connectable.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/graphmodel_databased.py",
		"/C/dev/src/pylive/expreiments/built-a-dependency-graph-of-a-python-codebase.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/graphview_columnbased.py",
		"/C/dev/src/pylive/pylive/examples/livescript.py",
		"/C/dev/src/pylive/pylive/QtGraphEditor/graphview_databased.py",
		"/C/dev/src/pylive/docs/2024_12_06-hot-reloading-a-python-script.md",
		"/C/dev/src/pylive/pyproject.toml",
		"/C/dev/src/pylive/pylive/utils/unique.py",
		"/C/dev/src/pylive/pylive/QtScriptEditor/cell_support.py",
		"/C/dev/src/pylive/pylive/QtScriptEditor/components/line_number_area.py",
		"/C/dev/src/pylive/tests/test_cells.py",
		"/C/dev/src/pylive/pylive/QtLiveApp/live_script_with_exec.py",
		"/C/dev/src/pylive/pylive/QtScriptEditor/script_edit.py",
		"/C/dev/src/pylive/tests/test_function_signatures.py",
		"/C/dev/src/pylive/pylive/QtLiveApp/display.py",
		"/C/dev/src/pylive/pylive/QtLiveApp/live_script_skeleton.py",
		"/C/dev/src/pylive/.venv/Lib/site-packages/IPython/utils/terminal.py",
		"/C/dev/src/pylive/pylive/QtTerminal/terminal_with_exec.py",
		"/C/dev/src/pylive/pylive/render_engine/render_layers.py",
		"/C/dev/src/pylive/script_examples_to_run_live/spherical_transform.py",
		"/C/dev/src/pylive/pylive/QtScriptEditor/components/script_cursor.py",
		"/C/dev/src/pylive/pylive/__main__.py",
		"/C/dev/src/pylive/TODOs.md",
		"/C/dev/src/pylive/pylive/QtScriptEditor/components/pygments_syntax_highlighter.py",
		"/C/dev/src/pylive/pylive/QtLiveApp/live_app_skeleton.py",
		"/C/dev/src/pylive/pylive/QtLiveApp/live_app_with_exec.py",
		"/C/dev/src/pylive/script_examples_to_run_live/glcanvas_widget_with_moderngl.py",
		"/C/dev/src/pylive/pylive/QtScriptEditor/components/textedit_number_editor.py",
		"/C/dev/src/pylive/pylive/QtLiveApp/file_link.py",
		"/C/dev/src/pylive/pylive/QtScriptEditor/components/invisibles_highlighter.py",
		"/C/dev/src/pylive/script_examples_to_run_live/livescript_demonstration.py",
		"/C/dev/src/pylive/script_examples_to_run_live/lorem_ipsum.md",
		"/C/dev/src/pylive/expreiments/file_textdocument_link.py",
		"/C/dev/src/pylive/pylive/__init__.py",
		"/C/dev/src/pylive/pylive/QtLiveApp/__init__.py",
		"/C/dev/src/pylive/pylive/QtLiveApp/live_app_with_qtconsole.py",
		"/C/dev/src/pylive/.venv/Lib/site-packages/asttokens/line_numbers.py",
		"/C/dev/src/pylive/pylive/QtScriptEditor/old_architecture/script_editor_simple.py",
		"/C/dev/src/pylive/pylive/QtScriptEditor/components/jedi_completer.py",
		"/C/dev/src/pylive/pylive/QtLiveFramework/live_framework_with_exec.py",
		"/C/dev/src/pylive/expreiments/glcanvas.py",
		"/C/dev/src/pylive/pylive/render_engine/regl/regl.py",
		"/C/dev/src/pylive/pylive/QtLiveFramework/live_framework_skeleton.py",
		"/C/dev/src/pylive/expreiments/GLCanvasWidget.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/glcanvas.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/GLWindow_with_qopengl.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/GLCanvasWidget_with_request_animation.py",
		"/C/dev/src/pylive/pylive/render_engine/utils/__init__.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/GLCanvasWidget-with_painting_signal.py",
		"/C/dev/src/pylive/pylive/render_engine/glwidget_with_moderngl.py",
		"/C/dev/src/pylive/expreiments/GLCanvasWindow.py",
		"/C/Users/andris/AppData/Local/Temp/2ea7c807-5541-48c5-9e23-9d4d4826a0ed_Microsoft Office 2021 Pro Plus.zip.0ed/Microsoft Office 2021 Pro Plus (365 + Patch/readme.txt",
		"/C/Users/andris/Downloads/Microsoft Office 2021 Pro Plus (365 ) + Patch/Microsoft Office 2021 Pro Plus/Microsoft Office 2021 Pro Plus (365 + Patch/readme.txt",
		"/C/dev/src/pylive/expreiments/opengl_boilerplate.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/pygame_moderngl_boilerplate.py",
		"/C/dev/src/pylive/expreiments/opengl_outside_window.py",
		"/C/dev/src/pylive/pylive/render_engine/orbit_control.py",
		"/C/dev/src/pylive/pylive/render_engine/lookAt_standalone.vert",
		"/C/dev/src/pylive/pylive/QtScriptEditor/components/linter_widget.py",
		"/C/dev/src/pylive/pylive/logwindow.py",
		"/C/dev/src/pylive/pylive/shaders/billboard.vert",
		"/C/dev/src/pylive/pylive/render_engine/resource_manager.py",
		"/C/dev/src/pylive/pylive/render_engine/examples/1 render layers.py",
		"/C/dev/src/pylive/pylive/QtLiveFramework/live_framework_with_qtconsole.py",
		"/C/dev/src/pylive/expreiments/unified_titlebar.py",
		"/C/dev/src/pylive/pylive/render_engine/camera.py",
		"/C/dev/src/pylive/pylive/shaders/default_vertex_shader.vert",
		"/C/dev/src/pylive/pylive/shaders/flat_fragment_shader.frag",
		"/C/dev/src/pylive/gloo/render_layers.py",
		"/C/dev/src/pylive/gloo/gl_widget_with_moderngl.py",
		"/C/dev/src/pylive/gloo/camera.py",
		"/C/dev/src/pylive/my_gloo/camera.py",
		"/C/dev/src/pylive/my_gloo/gl_widget_with_moderngl.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/orbit_control.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/gl_widget_with_moderngl.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/gl_window_with_moderngl.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/rendering_with_qt.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/qpygletwidget.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/vispy_and_pyside_1.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/gl_widget (Not Working).py",
		"/C/dev/src/pylive/expreiments/3d_rendering/vispy_and_pyside_2.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/gl_canvas_with_moderngl.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/pyglet_on_QWidget.py",
		"/C/dev/src/pylive/expreiments/ipython/ipython_kernel.py",
		"/C/dev/src/pylive/expreiments/ipython/qtconsole_inprocess1.py",
		"/C/dev/src/pylive/expreiments/ipython/simple_console.py",
		"/C/dev/src/pylive/expreiments/ipython/notebook_with_ipython.py",
		"/C/dev/src/pylive/expreiments/simple_console.py",
		"/C/dev/src/pylive/expreiments/3d_rendering/gl_widget_gpt.py",
		"/C/dev/src/pylive/expreiments/ipython/notbook_with_chatgpt.py",
		"/C/dev/src/pylive/expreiments/ipython/notebook_with_qtconsole.py",
		"/C/dev/src/pylive/expreiments/live_framework.py",
		"/C/dev/src/pylive/expreiments/ipython_kernel.py",
		"/C/dev/src/pylive/pylive/examples/livenotebook.py",
		"/C/Users/andris/AppData/Local/Packages/PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0/LocalCache/local-packages/Python312/site-packages/PySide6/QtGui.pyi",
		"/C/dev/src/pylive/expreiments/visualize_function_dependencies.py",
		"/C/dev/src/pylive/pylive/QtScriptEditor/components/pygments_syntax_highlighter_OLD.py",
		"/C/dev/src/pylive/pylive/QtScriptEditor/components/textedit_completer.py",
		"/C/dev/src/pylive/pylive/QtScriptEditor/components/WhitespaceHighlighter.py"
	],
	"find":
	{
		"height": 38.0
	},
	"find_in_files":
	{
		"height": 101.0,
		"where_history":
		[
			""
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"QGraphicsTextItem",
			"PinWidget",
			"handleNodesProp",
			"handlenodesProp",
			"nodedele",
			"n = ",
			"NodeWidget",
			"print",
			"geometry",
			"createNodeW",
			"delegate",
			"initiate",
			"contextMenu",
			"eventFilter",
			"intersectLineWithRectangle",
			"intersectLineWithPath",
			"ellipse",
			"intersectRay",
			"rect_max[1]",
			"rect_min[1]",
			"rect_max[0]",
			"rect_min[0]",
			"print",
			"intersect",
			"intersectLineWithPath",
			"intersectLine",
			"intersect",
			"intersectRayWithPath",
			"intersectLine",
			"print",
			".target",
			".source",
			"def paint(",
			"def paint",
			"Signal",
			"scenePositionChanged",
			"scenePositionChan ged",
			"ItemScenePositionHasChanged",
			"print",
			"LiveScript",
			"cells",
			"cell",
			"insertbar",
			"trimesh",
			"self.cell",
			"setEditor",
			"cell",
			"status",
			"self._wi",
			"saveFile",
			"def setup",
			"def setu[",
			"setup",
			"self.document",
			"updateWindowTitle",
			"modified",
			"def open",
			"setPreview",
			"pylive.display",
			"get_line_at_offset",
			"updateLine",
			"LineNumberArea",
			"line number",
			"setAttribute(",
			"setAttribute",
			"get_context",
			"QOpenGLWindow",
			"import QOpenGLWindow",
			"Literal",
			"literal",
			"Searching",
			"Lityeral",
			"dtype",
			"\t\t'",
			"internal_format",
			"dtype",
			"mode",
			"varyings_capture_mode",
			"internal_format",
			"dtype",
			"internal_format",
			"dtype",
			"internal_format",
			"varyings_capture_mode",
			"self",
			"for",
			"framebuffers",
			"placeholder",
			"find",
			"fin",
			"clearNo",
			"showException",
			"evalu",
			"completer",
			"RopeC",
			"lineNumberArea",
			"completer",
			"print",
			"new file",
			"setWindowTitle",
			"modifie",
			"setPreviewCollapse",
			"contentChang",
			"setupMenui",
			"NodeW",
			"self.palette",
			"threshold",
			"cancel",
			"interactive_edge_end_pin",
			"interactive_edge_start_pin",
			"interactive_edge_end_pin",
			"interactive_edge_moving_pin",
			"interactive_edge_start_pin",
			"self._pare",
			".parent_node",
			"_edges",
			"GrabThreshold",
			"center",
			"HeaderWidget",
			"palette",
			"updatePosition",
			"pinAt",
			"onNodeEditorChange",
			"onnodePropertyChange",
			"updatePin",
			"EdgeItem",
			"InletItem",
			"OutletItem"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
			"bottom",
			"top",
			"right",
			"left",
			"self._document",
			"interactive_edge_moving_pin",
			"interactive_edge_fixed_pin",
			"interactive_edge_moving_pin",
			"EdgeGraphicsItem",
			"InletGraphicsItem",
			"OutletGraphicsItem",
			"PinGraphicsItem",
			"EdgeRef",
			"OutletRef",
			"InletRef",
			"NodeRef",
			"EdgeRef",
			"OutletRef",
			"InletRef",
			"NodeRef",
			"OutletRef",
			"InletRef",
			"EdgeRef",
			"NodeRef",
			"EdgeDataColumn",
			"OutletDataColumn",
			"InletDataColumn",
			"NodeDataColumn",
			"EdgeView",
			"InletView",
			"OutletView",
			"self._edgeTable",
			"self._outletTable",
			"self._inletTable",
			"self._nodeTable"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"file": "pylive/examples/python_function_graph/graph_view.py",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 10575,
						"regions":
						{
						},
						"selection":
						[
							[
								8987,
								8987
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".[\"'",
									"selector": "meta.tag, source - comment - string.quoted.double.block - string.quoted.single.block - string.unquoted.heredoc",
									"server": "LSP-pyright"
								}
							],
							"lsp_active": true,
							"lsp_uri": "file:///C:/dev/src/pylive/pylive/examples/python_function_graph/graph_view.py",
							"rulers":
							[
								80
							],
							"show_definitions": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 3920.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1665,
						"regions":
						{
							"match":
							{
								"flags": 112,
								"regions":
								[
									[
										199,
										216
									],
									[
										414,
										431
									],
									[
										614,
										631
									],
									[
										775,
										792
									],
									[
										1095,
										1112
									],
									[
										1315,
										1332
									],
									[
										1532,
										1549
									]
								],
								"scope": ""
							}
						},
						"selection":
						[
							[
								497,
								497
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								}
							],
							"detect_indentation": false,
							"line_numbers": false,
							"lsp_uri": "buffer:178",
							"output_tag": 1,
							"result_base_dir": "",
							"result_file_regex": "^([^ \t].*):$",
							"result_line_regex": "^ +([0-9]+):",
							"scroll_past_end": true,
							"syntax": "Packages/Default/Find Results.hidden-tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "pylive/QtGraphEditor/dag_graph_graphics_scene.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 31507,
						"regions":
						{
						},
						"selection":
						[
							[
								3223,
								3223
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".[\"'",
									"selector": "meta.tag, source - comment - string.quoted.double.block - string.quoted.single.block - string.unquoted.heredoc",
									"server": "LSP-pyright"
								}
							],
							"lsp_active": true,
							"lsp_uri": "file:///C:/dev/src/pylive/pylive/QtGraphEditor/dag_graph_graphics_scene.py",
							"show_definitions": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "pylive/utils/unique.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 658,
						"regions":
						{
						},
						"selection":
						[
							[
								43,
								43
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".[\"'",
									"selector": "meta.tag, source - comment - string.quoted.double.block - string.quoted.single.block - string.unquoted.heredoc",
									"server": "LSP-pyright"
								}
							],
							"lsp_active": true,
							"lsp_uri": "file:///C:/dev/src/pylive/pylive/utils/unique.py",
							"show_definitions": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		},
		{
			"sheets":
			[
				{
					"buffer": 4,
					"file": "pylive/examples/python_function_graph/main.py",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 3075,
						"regions":
						{
						},
						"selection":
						[
							[
								520,
								520
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".[\"'",
									"selector": "meta.tag, source - comment - string.quoted.double.block - string.quoted.single.block - string.unquoted.heredoc",
									"server": "LSP-pyright"
								}
							],
							"lsp_active": true,
							"lsp_uri": "file:///C:/dev/src/pylive/pylive/examples/python_function_graph/main.py",
							"rulers":
							[
								80
							],
							"show_definitions": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "pylive/examples/python_function_graph/function_widget.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 12045,
						"regions":
						{
						},
						"selection":
						[
							[
								6589,
								6464
							]
						],
						"settings":
						{
							"auto_complete_triggers":
							[
								{
									"characters": "<",
									"selector": "text.html, text.xml"
								},
								{
									"rhs_empty": true,
									"selector": "punctuation.accessor"
								},
								{
									"characters": ".[\"'",
									"selector": "meta.tag, source - comment - string.quoted.double.block - string.quoted.single.block - string.unquoted.heredoc",
									"server": "LSP-pyright"
								}
							],
							"lsp_active": true,
							"lsp_uri": "file:///C:/dev/src/pylive/pylive/examples/python_function_graph/function_widget.py",
							"show_definitions": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2686.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 25.0
	},
	"input":
	{
		"height": 40.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			],
			[
				1,
				0,
				2,
				1
			]
		],
		"cols":
		[
			0.0,
			0.531956967096,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.LSP Log Panel":
	{
		"height": 0.0
	},
	"output.SublimeLinter":
	{
		"height": 0.0
	},
	"output.Terminus":
	{
		"height": 412.0
	},
	"output.diagnostics":
	{
		"height": 0.0
	},
	"output.exec":
	{
		"height": 157.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"output.mdpopups":
	{
		"height": 0.0
	},
	"pinned_build_system": "Python: Run File (CrossPlatform)",
	"project": "pylive.sublime-project",
	"replace":
	{
		"height": 46.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"geo",
				"pylive\\utils\\geo.py"
			],
			[
				"nx",
				"pylive\\QtGraphEditor\\NetrowkXGraphditor\\NXGraphView.py"
			],
			[
				"unique",
				"pylive\\pylive\\utils\\unique.py"
			],
			[
				"linenu",
				"pylive\\pylive\\QtScriptEditor\\components\\line_number_area.py"
			],
			[
				"test",
				"pylive\\tests\\test_cells.py"
			],
			[
				"cell_s",
				"pylive\\pylive\\QtScriptEditor\\cell_support.py"
			],
			[
				"linen",
				"pylive\\pylive\\QtScriptEditor\\components\\line_number_area.py"
			],
			[
				"lineare",
				"pylive\\pylive\\QtScriptEditor\\components\\line_number_area.py"
			],
			[
				"terminal",
				"pylive\\pylive\\QtTerminal\\terminal_with_exec.py"
			],
			[
				"termina",
				"pylive\\.venv\\Lib\\site-packages\\IPython\\utils\\terminal.py"
			],
			[
				"scripte",
				"pylive\\pylive\\QtScriptEditor\\script_edit.py"
			],
			[
				"script",
				"pylive\\pylive\\QtScriptEditor\\components\\script_cursor.py"
			],
			[
				"pyg",
				"pylive\\pylive\\QtScriptEditor\\components\\pygments_syntax_highlighter.py"
			],
			[
				"numbere",
				"pylive\\pylive\\QtScriptEditor\\components\\textedit_number_editor.py"
			],
			[
				"highlight",
				"pylive\\pylive\\QtScriptEditor\\components\\invisibles_highlighter.py"
			],
			[
				"glca",
				"pylive\\script_examples_to_run_live\\glcanvas_widget_with_moderngl.py"
			],
			[
				"filelink",
				"pylive\\expreiments\\file_textdocument_link.py"
			],
			[
				"displ",
				"pylive\\pylive\\QtLiveApp\\display.py"
			],
			[
				"line",
				"pylive\\.venv\\Lib\\site-packages\\asttokens\\line_numbers.py"
			],
			[
				"scri",
				"pylive\\pylive\\QtScriptEditor\\script_edit.py"
			],
			[
				"jedi",
				"pylive\\pylive\\QtScriptEditor\\components\\jedi_completer.py"
			],
			[
				"with_exec",
				"pylive\\pylive\\QtLiveFramework\\live_framework_with_exec.py"
			],
			[
				"framew",
				"pylive\\pylive\\QtLiveFramework\\live_framework_skeleton.py"
			],
			[
				"moderngl",
				"pylive\\pylive\\render_engine\\glwidget_with_moderngl.py"
			],
			[
				"modenr",
				"pylive\\expreiments\\3d_rendering\\pygame_moderngl_boilerplate.py"
			],
			[
				"regl",
				"pylive\\pylive\\render_engine\\regl\\regl.py"
			],
			[
				"logwind",
				"pylive\\pylive\\logwindow.py"
			],
			[
				"resou",
				"pylive\\pylive\\render_engine\\resource_manager.py"
			],
			[
				"render",
				"pylive\\pylive\\render_engine\\render_layers.py"
			],
			[
				"main",
				"pylive\\pylive\\render_engine\\regl\\main.py"
			],
			[
				"resource",
				"pylive\\pylive\\render_engine\\resource_manager.py"
			],
			[
				"modern",
				"pylive\\pylive\\render_engine\\glwidget_with_moderngl.py"
			],
			[
				"unifie",
				"pylive\\expreiments\\unified_titlebar.py"
			],
			[
				"camer",
				"pylive\\pylive\\render_engine\\camera.py"
			],
			[
				"linter",
				"pylive\\pylive\\QtScriptEditor\\components\\linter_widget.py"
			],
			[
				"Script",
				"pylive\\pylive\\QtScriptEditor\\script_edit.py"
			],
			[
				"camera",
				"pylive\\pylive\\render_engine\\camera.py"
			],
			[
				"orbit",
				"pylive\\pylive\\render_engine\\orbit_control.py"
			],
			[
				"renderl",
				"pylive\\pylive\\render_engine\\render_layers.py"
			],
			[
				"live",
				"pylive\\pylive\\examples\\livescript.py"
			],
			[
				"orbitcon",
				"pylive\\expreiments\\3d_rendering\\orbit_control.py"
			],
			[
				"number editor",
				"pylive\\pylive\\QtScriptEditor\\components\\textedit_number_editor.py"
			],
			[
				"whitespace",
				"pylive\\pylive\\QtScriptEditor\\components\\WhitespaceHighlighter.py"
			],
			[
				"pygme",
				"pylive\\pylive\\QtScriptEditor\\components\\pygments_syntax_highlighter.py"
			],
			[
				"highlighte",
				"pylive\\pylive\\QtScriptEditor\\highlighters.py"
			],
			[
				"textedito",
				"pylive\\pylive\\QtScriptEditor\\components\\textedit_completer.py"
			],
			[
				"keywo",
				"pylive\\pylive\\QtScriptEditor\\components\\KeywordsCompleter.py"
			],
			[
				"scrip",
				"pylive\\pylive\\QtScriptEditor\\ScriptEdit.py"
			],
			[
				"logw",
				"pylive\\pylive\\logwindow.py"
			],
			[
				"capture",
				"pylive\\.venv\\Lib\\site-packages\\IPython\\utils\\capture.py"
			],
			[
				"preview",
				"pylive\\pylive\\preview_widget.py"
			],
			[
				"pan",
				"pylive\\pylive\\QtGraphEditor\\PanAndZoomGraphicsView.py"
			],
			[
				"panand",
				"pylive\\pylive\\QtGraphEditor\\PanAndZoomGraphicsView.py"
			],
			[
				"visu",
				"pylive\\pylive\\examples\\visual_coding.py"
			],
			[
				"log",
				"pylive\\pylive\\logwindow.py"
			],
			[
				"livescript",
				"pylive\\pylive\\LiveScript.py"
			],
			[
				"mind",
				"pylive\\pylive\\QtGraphEditor\\mindmap_example.py"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 59.3333333333,
		"last_filter": "circle",
		"selected_items":
		[
			[
				"circle",
				"CircleWidget"
			]
		],
		"width": 592.0
	},
	"selected_group": 0,
	"settings":
	{
		"lsp_show_inlay_hints": false
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 307.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
